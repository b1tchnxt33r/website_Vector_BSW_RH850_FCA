---
layout: default
title: DVCfg_AutomationInterfaceDocumentation
nav_order: 12
parent: DaVinciConfigurator
---
{% raw %}
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
     "http://www.w3.org/TR/html4/transitional.dtd">
<html>
<head>

  <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
  <title></title>
  <meta name="generator" content="LibreOffice 24.2.7.2 (Linux)"/>
  <meta name="created" content="00:00:00"/>
  <meta name="changed" content="00:00:00"/>
</head>
<body>
<h1></h1>
<p><b>DaVinci</b></p>
<p><b>Configurator AutomationInterface</b></p>
<p><b>Development Documentation of the AutomationInterface (AI)</b></p>
<p>DaVinci Configurator Team</p>
<p>May 4, 2018</p>
<p>© 2018</p>
<p>Vector Informatik GmbH</p>
<p>Ingersheimerstr.</p>
<p>24</p>
<p>70499 Stuttgart</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Contents</b></p>
<p><b>1</b></p>
<p><b>Introduction</b></p>
<p><b>11</b></p>
<p>1.1</p>
<p>General</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>11</p>
<p>1.2</p>
<p>Facts .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>11</p>
<p><b>2</b></p>
<p><b>Getting started with Script Development</b></p>
<p><b>12</b></p>
<p>2.1</p>
<p>General</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>12</p>
<p>2.2</p>
<p>Automation Script Development Types .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>12</p>
<p>2.3</p>
<p>Script File .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>12</p>
<p>2.4</p>
<p>Script Project .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>14</p>
<p>2.4.1</p>
<p>Script Project Development</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>16</p>
<p>2.4.2</p>
<p>Java JDK Setup</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>17</p>
<p>2.4.3</p>
<p>IntelliJ IDEA Setup</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>17</p>
<p>2.4.4</p>
<p>Gradle Setup</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>18</p>
<p><b>3</b></p>
<p><b>AutomationInterface Architecture</b></p>
<p><b>19</b></p>
<p>3.1</p>
<p>Components .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>19</p>
<p>3.2</p>
<p>Languages .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>20</p>
<p>3.2.1</p>
<p>Why Groovy</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>20</p>
<p>3.3</p>
<p>Script Structure .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>21</p>
<p>3.3.1</p>
<p>Scripts .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>21</p>
<p>3.3.2</p>
<p>Script Tasks .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>21</p>
<p>3.3.3</p>
<p>Script Locations</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>22</p>
<p>3.4</p>
<p>Script loading .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>22</p>
<p>3.4.1</p>
<p>Internal Script Reload Behavior .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>22</p>
<p>3.5</p>
<p>Script editing .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>23</p>
<p>3.6</p>
<p>Licensing</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>23</p>
<p>3.7</p>
<p>Script Coding Conventions and Constraints</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>23</p>
<p>3.7.1</p>
<p>Usage of static fields</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>24</p>
<p>3.7.2</p>
<p>Usage of Outer Closure Scope Variables</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>24</p>
<p>3.7.3</p>
<p>States over script task execution</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>25</p>
<p>3.7.4</p>
<p>Usage of Threads .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>25</p>
<p>3.7.5</p>
<p>Usage of DaVinci Configurator private Classes Methods or Fields .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>25</p>
<p><b>4</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>26</b></p>
<p>4.1</p>
<p>Introduction .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>26</p>
<p>4.2</p>
<p>Script Creation .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>27</p>
<p>4.2.1</p>
<p>Script Task Creation .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>27</p>
<p>4.2.1.1</p>
<p>Script Creation with IDE Code Completion Support .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>28</p>
<p>4.2.1.2</p>
<p>Script Task isExecutableIf .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>29</p>
<p>4.2.2</p>
<p>Description and Help .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>29</p>
<p>4.3</p>
<p>Script Task Types</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>31</p>
<p>4.3.1</p>
<p>Available Types .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>31</p>
<p>4.3.1.1</p>
<p>Application Types</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>31</p>
<p>4.3.1.2</p>
<p>Project Types</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>32</p>
<p>4.3.1.3</p>
<p>UI Types</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>33</p>
<p>4.3.1.4</p>
<p>Generation Types</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>33</p>
<p>4.4</p>
<p>Script Task Execution</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>35</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>2 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Contents</b></p>
<p>4.4.1</p>
<p>Execution Context</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>35</p>
<p>4.4.1.1</p>
<p>Code Block Arguments</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>36</p>
<p>4.4.2</p>
<p>Task Execution Sequence</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>36</p>
<p>4.4.3</p>
<p>Script Path API during Execution</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>37</p>
<p>4.4.3.1</p>
<p>Path Resolution by Parent Folder</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>38</p>
<p>4.4.3.2</p>
<p>Path Resolution</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>38</p>
<p>4.4.3.3</p>
<p>Script Folder Path Resolution</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>39</p>
<p>4.4.3.4</p>
<p>Project Folder Path Resolution .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>39</p>
<p>4.4.3.5</p>
<p>SIP Folder Path Resolution .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>40</p>
<p>4.4.3.6</p>
<p>Temp Folder Path Resolution .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>40</p>
<p>4.4.3.7</p>
<p>Other Project and Application Paths</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>41</p>
<p>4.4.4</p>
<p>Script logging API</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>41</p>
<p>4.4.5</p>
<p>User Interactions and Inputs</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>42</p>
<p>4.4.5.1</p>
<p>UserInteraction .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>42</p>
<p>4.4.5.2</p>
<p>Progress Indication</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>43</p>
<p>4.4.6</p>
<p>Script Error Handling</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>45</p>
<p>4.4.6.1</p>
<p>Script Exceptions</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>45</p>
<p>4.4.6.2</p>
<p>Script Task Abortion by Exception .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>45</p>
<p>4.4.6.3</p>
<p>Unhandled Exceptions from Tasks</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>46</p>
<p>4.4.7</p>
<p>User defined Classes and Methods</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>47</p>
<p>4.4.8</p>
<p>Usage of Automation API in own defined Classes and Methods</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>48</p>
<p>4.4.8.1</p>
<p>Access the Automation API like the Script code{} Block</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>48</p>
<p>4.4.8.2</p>
<p>Access the Project API of the current active Project .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>48</p>
<p>4.4.9</p>
<p>User defined Script Task Arguments</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>49</p>
<p>4.4.9.1</p>
<p>User defined Argument Validators</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>50</p>
<p>4.4.9.2</p>
<p>Call Script Task with Task Arguments from Commandline</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>52</p>
<p>4.4.10 Stateful Script Tasks .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>53</p>
<p>4.4.11 ScriptAccess - Calling ScriptTasks</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>55</p>
<p>4.5</p>
<p>Project Handling .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>56</p>
<p>4.5.1</p>
<p>Projects</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>56</p>
<p>4.5.2</p>
<p>Accessing the active Project .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>56</p>
<p>4.5.3</p>
<p>Creating a new Project</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>58</p>
<p>4.5.3.1</p>
<p>Mandatory Settings</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>59</p>
<p>4.5.3.2</p>
<p>General Settings</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>59</p>
<p>4.5.3.3</p>
<p>Target Settings .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>60</p>
<p>4.5.3.4</p>
<p>Post Build Settings</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>61</p>
<p>4.5.3.5</p>
<p>Folders Settings</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>61</p>
<p>4.5.3.6</p>
<p>DaVinci Developer Settings .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>63</p>
<p>4.5.3.7</p>
<p>vVIRTUALtarget Settings</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>64</p>
<p>4.5.4</p>
<p>Opening an existing Project .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>66</p>
<p>4.5.4.1</p>
<p>Parameterized Project Load</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>66</p>
<p>4.5.4.2</p>
<p>Open Project Details</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>67</p>
<p>4.5.5</p>
<p>Saving a Project</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>67</p>
<p>4.5.6</p>
<p>Opening AUTOSAR Files as Project .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>69</p>
<p>4.5.6.1</p>
<p>Raw AUTOSAR models as Project .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>70</p>
<p>4.6</p>
<p>Model</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>71</p>
<p>4.6.1</p>
<p>Introduction .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>71</p>
<p>4.6.2</p>
<p>Getting Started .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>71</p>
<p>4.6.2.1</p>
<p>Read the ActiveEcuc</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>71</p>
<p>4.6.2.2</p>
<p>Write the ActiveEcuc</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>75</p>
<p>4.6.2.3</p>
<p>Read the SystemDescription</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>78</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>3 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Contents</b></p>
<p>4.6.2.4</p>
<p>Write the SystemDescription .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>79</p>
<p>4.6.3</p>
<p>BswmdModel in AutomationInterface</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>81</p>
<p>4.6.3.1</p>
<p>BswmdModel Package and Class Names .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>81</p>
<p>4.6.3.2</p>
<p>Reading with BswmdModel</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>81</p>
<p>4.6.3.3</p>
<p>Writing with BswmdModel</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>82</p>
<p>4.6.3.4</p>
<p>Sip DefRefs .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>83</p>
<p>4.6.3.5</p>
<p>BswmdModel DefRefs</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>83</p>
<p>4.6.3.6</p>
<p>Untyped Model with the DefRef API</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>84</p>
<p>4.6.3.7</p>
<p>Switching from Domain Models to BswmdModel</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>85</p>
<p>4.6.4</p>
<p>MDF Model in AutomationInterface</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>86</p>
<p>4.6.4.1</p>
<p>Reading the MDF Model</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>86</p>
<p>4.6.4.2</p>
<p>Reading the MDF Model by String .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>88</p>
<p>4.6.4.3</p>
<p>Writing the MDF Model</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>90</p>
<p>4.6.4.4</p>
<p>Simple Property Changes</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>90</p>
<p>4.6.4.5</p>
<p>Creating single Child Members (0:1) .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>91</p>
<p>4.6.4.6</p>
<p>Creating and adding Child List Members (0:*)</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>91</p>
<p>4.6.4.7</p>
<p>Updating existing Elements .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>94</p>
<p>4.6.4.8</p>
<p>Deleting Model Objects</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>95</p>
<p>4.6.4.9</p>
<p>Duplicating Model Objects</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>95</p>
<p>4.6.4.10</p>
<p>Special properties and extensions .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>96</p>
<p>4.6.4.11</p>
<p>Reverse Reference Resolution - ReferencesPointingToMe .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>98</p>
<p>4.6.4.12</p>
<p>Derived Containers</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>98</p>
<p>4.6.4.13</p>
<p>AUTOSAR Root Object</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>99</p>
<p>4.6.4.14</p>
<p>ActiveEcuC .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>99</p>
<p>4.6.4.15</p>
<p>DefRef based Access to Containers and Parameters</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>100</p>
<p>4.6.4.16</p>
<p>Ecuc Parameter and Reference Value Access</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>101</p>
<p>4.6.5</p>
<p>SystemDescription Access</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>103</p>
<p>4.6.6</p>
<p>Transactions</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>104</p>
<p>4.6.6.1</p>
<p>Transactions API</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>104</p>
<p>4.6.6.2</p>
<p>Operations</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>106</p>
<p>4.6.7</p>
<p>Model Synchronization .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>107</p>
<p>4.6.8</p>
<p>PreBuild and PostBuild Variance (Post-build selectable) .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>108</p>
<p>4.6.8.1</p>
<p>Investigate Project Variance</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>108</p>
<p>4.6.8.2</p>
<p>Variant Model Objects</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>109</p>
<p>4.6.9</p>
<p>Additional Model API</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>111</p>
<p>4.6.9.1</p>
<p>User Annotations</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>111</p>
<p>4.7</p>
<p>Generation</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>113</p>
<p>4.7.1</p>
<p>Code Generation .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>113</p>
<p>4.7.1.1</p>
<p>Generation Settings</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>113</p>
<p>4.7.1.2</p>
<p>Generation of Generation Steps .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>116</p>
<p>4.7.1.3</p>
<p>Evaluate generation or validation results</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>117</p>
<p>4.7.2</p>
<p>Generation Task Types</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>118</p>
<p>4.7.3</p>
<p>Software Component Templates and Contract Phase Headers Generation</p>
<p>120</p>
<p>4.7.3.1</p>
<p>Swct Generation Settings</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>120</p>
<p>4.7.3.2</p>
<p>Generation with default Project Settings</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>120</p>
<p>4.7.3.3</p>
<p>Generation of all Software Components</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>120</p>
<p>4.7.3.4</p>
<p>Generation of one Software Component</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>121</p>
<p>4.7.3.5</p>
<p>Generation of multiple Software Components</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>122</p>
<p>4.7.3.6</p>
<p>Evaluate generation results</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>122</p>
<p>4.8</p>
<p>Validation .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>123</p>
<p>4.8.1</p>
<p>Introduction .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>123</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>4 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Contents</b></p>
<p>4.8.2</p>
<p>Access Validation-Results</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>123</p>
<p>4.8.3</p>
<p>Model Transaction and Validation-Result Invalidation</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>124</p>
<p>4.8.4</p>
<p>Solve Validation-Results with Solving-Actions .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>124</p>
<p>4.8.4.1</p>
<p>Solver API</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>125</p>
<p>4.8.5</p>
<p>Advanced Topics</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>127</p>
<p>4.8.5.1</p>
<p>Access Validation-Results of a Model Object</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>127</p>
<p>4.8.5.2</p>
<p>Access Validation-Results of a DefRef</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>127</p>
<p>4.8.5.3</p>
<p>Filter Validation-Results using an ID Constant</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>128</p>
<p>4.8.5.4</p>
<p>Identification of a Particular Solving-Action .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>128</p>
<p>4.8.5.5</p>
<p>Validation-Result Description as MixedText .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>129</p>
<p>4.8.5.6</p>
<p>Further IValidationResultUI Methods</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>129</p>
<p>4.8.5.7</p>
<p>IValidationResultUI in a variant (Post-Build selectable) Project</p>
<p>130</p>
<p>4.8.5.8</p>
<p>Erroneous CEs of a Validation-Result</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>130</p>
<p>4.8.5.9</p>
<p>Examine Solving-Action Execution .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>132</p>
<p>4.8.5.10</p>
<p>Create a Validation-Result in a Script Task .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>133</p>
<p>4.8.5.11</p>
<p>Turn off auto-solving-action execution .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>135</p>
<p>4.9</p>
<p>Update Workflow .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>136</p>
<p>4.9.1</p>
<p>Method Overview .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>136</p>
<p>4.9.2</p>
<p>Example:</p>
<p>Content of Input Files has changed. .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>136</p>
<p>4.9.3</p>
<p>Example:</p>
<p>List of Input Files shall be changed .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>137</p>
<p>4.9.4</p>
<p>Prerequisites</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>137</p>
<p>4.10 Domains .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>139</p>
<p>4.10.1 Communication Domain .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>139</p>
<p>4.10.1.1</p>
<p>CanControllers .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>141</p>
<p>4.10.1.2</p>
<p>CanFilterMasks</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>142</p>
<p>4.10.2 Diagnostics Domain</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>143</p>
<p>4.10.2.1</p>
<p>DemEvents</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>144</p>
<p>4.10.3 Mode Management Domain .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>146</p>
<p>4.10.3.1</p>
<p>BswM Auto Configuration</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>146</p>
<p>4.10.4 Runtime System Domain</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>149</p>
<p>4.10.4.1</p>
<p>Component Port Connection</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>149</p>
<p>4.10.4.2</p>
<p>Data Mapping</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>164</p>
<p>4.10.4.3</p>
<p>Create Component Prototypes</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>184</p>
<p>4.10.4.4</p>
<p>Bridge between MDF and model abstractions .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>187</p>
<p>4.10.4.5</p>
<p>Task Mapping</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>189</p>
<p>4.10.4.6</p>
<p>Create Delegation Ports .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>208</p>
<p>4.10.4.7</p>
<p>Retrieving short name paths and fully qualified names from the</p>
<p>GUI</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>213</p>
<p>4.11 Persistency</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>216</p>
<p>4.11.1 Model Export .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>216</p>
<p>4.11.1.1</p>
<p>Export ActiveEcuc .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>216</p>
<p>4.11.1.2</p>
<p>Export PostBuild Variants (Post-build selectable)</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>216</p>
<p>4.11.1.3</p>
<p>Export PreBuild Variants .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>217</p>
<p>4.11.1.4</p>
<p>Advanced Exports</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>217</p>
<p>4.11.2 Model Import .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>220</p>
<p>4.11.2.1</p>
<p>Module Configuration Import .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>220</p>
<p>4.11.2.2</p>
<p>Specify import mode and module filter</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>221</p>
<p>4.12 Utilities</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>222</p>
<p>4.12.1 Constraints</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>222</p>
<p>4.12.2 Converters .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>223</p>
<p>4.13 Advanced Topics</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>225</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>5 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Contents</b></p>
<p>4.13.1 Java Development</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>225</p>
<p>4.13.1.1</p>
<p>Script Task Creation in Java Code .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>225</p>
<p>4.13.1.2</p>
<p>Java Code accessing Groovy API .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>225</p>
<p>4.13.1.3</p>
<p>Java Code in dvgroovy Scripts</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>226</p>
<p>4.13.2 Unit testing API</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>227</p>
<p>4.13.2.1</p>
<p>JUnit4 Integration .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>227</p>
<p>4.13.2.2</p>
<p>Execution of Spock Tests</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>228</p>
<p>4.13.2.3</p>
<p>Registration of Unit Tests in Scripts</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>228</p>
<p><b>5</b></p>
<p><b>Data models in detail</b></p>
<p><b>230</b></p>
<p>5.1</p>
<p>MDF model - the raw AUTOSAR data</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>230</p>
<p>5.1.1</p>
<p>Naming</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>230</p>
<p>5.1.2</p>
<p>The models inheritance hiearchy</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>230</p>
<p>5.1.2.1</p>
<p>MIObject and MDFObject</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>231</p>
<p>5.1.3</p>
<p>The models containment tree</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>231</p>
<p>5.1.4</p>
<p>The ECUC model</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>233</p>
<p>5.1.5</p>
<p>Order of child objects</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>233</p>
<p>5.1.6</p>
<p>AUTOSAR references</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>233</p>
<p>5.1.7</p>
<p>Model changes</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>234</p>
<p>5.1.7.1</p>
<p>Transactions</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>234</p>
<p>5.1.7.2</p>
<p>Undo/redo</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>234</p>
<p>5.1.7.3</p>
<p>Event handling .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>234</p>
<p>5.1.7.4</p>
<p>Deleting model objects</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>234</p>
<p>5.1.7.5</p>
<p>Access to deleted objects</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>235</p>
<p>5.1.7.6</p>
<p>Set-methods</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>235</p>
<p>5.1.7.7</p>
<p>Changing child list content</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>235</p>
<p>5.1.7.8</p>
<p>Change restrictions</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>235</p>
<p>5.2</p>
<p>Post-build selectable</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>236</p>
<p>5.2.1</p>
<p>Model views .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>236</p>
<p>5.2.1.1</p>
<p>What model views are .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>236</p>
<p>5.2.1.2</p>
<p>The IModelViewManager project service</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>236</p>
<p>5.2.1.3</p>
<p>Variant siblings .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>238</p>
<p>5.2.1.4</p>
<p>The Invariant model views</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>239</p>
<p>5.2.1.5</p>
<p>Accessing invisible objects .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>241</p>
<p>5.2.1.6</p>
<p>IViewedModelObject</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>242</p>
<p>5.2.2</p>
<p>Variant specific model changes</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>242</p>
<p>5.2.3</p>
<p>Variant common model changes .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>243</p>
<p>5.3</p>
<p>BswmdModel details</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>244</p>
<p>5.3.1</p>
<p>BswmdModel - DefinitionModel .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>244</p>
<p>5.3.1.1</p>
<p>Types of DefinitionModels</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>245</p>
<p>5.3.1.2</p>
<p>DefRef Getter methods of Untyped Model .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>246</p>
<p>5.3.1.3</p>
<p>References</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>248</p>
<p>5.3.1.4</p>
<p>Post-build selectable with BswmdModel</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>249</p>
<p>5.3.1.5</p>
<p>Creation ModelView of the BswmdModel</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>250</p>
<p>5.3.1.6</p>
<p>Lazy Instantiating .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>251</p>
<p>5.3.1.7</p>
<p>Optional Elements .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>251</p>
<p>5.3.1.8</p>
<p>Class and Interface Structure of the BswmdModel</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>251</p>
<p>5.3.1.9</p>
<p>BswmdModel write access</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>252</p>
<p>5.3.2</p>
<p>BswmdModel generation .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>256</p>
<p>5.3.2.1</p>
<p>DerivativeMapping .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>256</p>
<p>5.4</p>
<p>Model Utility Classes .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>256</p>
<p>5.4.1</p>
<p>AutosarUtil</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>256</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>6 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Contents</b></p>
<p>5.4.2</p>
<p>AsrPath .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>256</p>
<p>5.4.3</p>
<p>AsrObjectLink</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>257</p>
<p>5.4.3.1</p>
<p>Restrictions of object links</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>257</p>
<p>5.4.4</p>
<p>DefRefs</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>257</p>
<p>5.4.4.1</p>
<p>TypedDefRefs</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>259</p>
<p>5.4.4.2</p>
<p>DefRef Wildcards</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>259</p>
<p>5.4.5</p>
<p>CeState</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>260</p>
<p>5.4.5.1</p>
<p>Getting a CeState object</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>260</p>
<p>5.4.5.2</p>
<p>IParameterStatePublished .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>260</p>
<p>5.4.5.3</p>
<p>IContainerStatePublished .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>261</p>
<p>5.5</p>
<p>Model Services</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>262</p>
<p>5.5.1</p>
<p>EcucDefinitionAccess .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>262</p>
<p>5.5.1.1</p>
<p>Post-build loadable</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>263</p>
<p>5.5.1.2</p>
<p>Post-build selectable .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>265</p>
<p>5.5.2</p>
<p>EcuConfigurationAccess</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>266</p>
<p>5.5.2.1</p>
<p>Post-build loadable</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>267</p>
<p>5.5.2.2</p>
<p>Post-build selectable .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>269</p>
<p><b>6</b></p>
<p><b>AutomationInterface Content</b></p>
<p><b>272</b></p>
<p>6.1</p>
<p>Introduction .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>272</p>
<p>6.2</p>
<p>Folder Structure</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>272</p>
<p>6.3</p>
<p>Script Development Help .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>272</p>
<p>6.3.1</p>
<p>AutomationInterfaceDocumentation PDF .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>272</p>
<p>6.3.2</p>
<p>Javadoc HTML Pages</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>273</p>
<p>6.3.3</p>
<p>Script Templates</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>273</p>
<p>6.4</p>
<p>Libs and BuildLibs</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>273</p>
<p><b>7</b></p>
<p><b>Automation Script Project</b></p>
<p><b>274</b></p>
<p>7.1</p>
<p>Introduction .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>274</p>
<p>7.2</p>
<p>Automation Script Project Creation</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>274</p>
<p>7.3</p>
<p>Project File Content</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>274</p>
<p>7.4</p>
<p>Deployment of the Jar File</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>275</p>
<p>7.5</p>
<p>IntelliJ IDEA Usage</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>275</p>
<p>7.5.1</p>
<p>Supported versions</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>275</p>
<p>7.5.2</p>
<p>Building Projects .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>275</p>
<p>7.5.3</p>
<p>Debugging with IntelliJ</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>276</p>
<p>7.5.4</p>
<p>Troubleshooting</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>277</p>
<p>7.6</p>
<p>Project Usage in different DaVinci Configurator Versions .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>278</p>
<p>7.7</p>
<p>Project Migration to newer DaVinci Configurator Version / SIP .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>279</p>
<p>7.8</p>
<p>Debugging Script Project</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>279</p>
<p>7.9</p>
<p>Build System .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>280</p>
<p>7.9.1</p>
<p>Jar Creation and Output Location .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>280</p>
<p>7.9.2</p>
<p>Gradle File Structure</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>280</p>
<p>7.9.2.1</p>
<p>projectConfig.gradle File settings .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>280</p>
<p>7.9.3</p>
<p>Advanced Build Topics .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>281</p>
<p>7.9.3.1</p>
<p>Usage of external Libraries (Jars) in the AutomationProject</p>
<p>.</p>
<p>.</p>
<p>281</p>
<p>7.9.3.2</p>
<p>Static Compilation of Groovy Code</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>282</p>
<p>7.9.3.3</p>
<p>Gradle dvCfgAutomation API Reference</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>283</p>
<p><b>8</b></p>
<p><b>AutomationInterface Changes between Versions</b></p>
<p><b>285</b></p>
<p>8.1</p>
<p>Currently Supported Features .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>285</p>
<p>8.2</p>
<p>Changes in MICROSAR AR4-R20 - Cfg5.17 .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>288</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>7 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Contents</b></p>
<p>8.2.1</p>
<p>General</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>288</p>
<p>8.2.2</p>
<p>Automation Script Project .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>288</p>
<p>8.2.2.1</p>
<p>BuildSystem .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>288</p>
<p>8.2.2.2</p>
<p>Supported IntelliJ IDEA Version .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>288</p>
<p>8.2.3</p>
<p>Persistency</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>288</p>
<p>8.2.3.1</p>
<p>Model Module Import .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>288</p>
<p>8.2.3.2</p>
<p>Model Export</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>288</p>
<p>8.2.4</p>
<p>BswmdModel</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>289</p>
<p>8.2.4.1</p>
<p>SIP DefRefs</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>289</p>
<p>8.2.5</p>
<p>Runtime System Domain</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>289</p>
<p>8.2.5.1</p>
<p>Component Port Selection</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>289</p>
<p>8.2.5.2</p>
<p>Communication Element Selection .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>289</p>
<p>8.2.5.3</p>
<p>Create Delegation Ports .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>289</p>
<p>8.2.5.4</p>
<p>Task Mapping</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>289</p>
<p>8.2.5.5</p>
<p>Simple API for connection between ports</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>289</p>
<p>8.2.5.6</p>
<p>Simple API for data mapping .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>290</p>
<p>8.2.5.7</p>
<p>Port Terminators .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>290</p>
<p>8.2.5.8</p>
<p>Data Mapping</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>290</p>
<p>8.2.5.9</p>
<p>Service Proxy Components</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>290</p>
<p>8.2.5.10</p>
<p>Retrieve Short Name Paths and Fully Qualified Names</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>290</p>
<p>8.2.5.11</p>
<p>More Examples .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>290</p>
<p>8.3</p>
<p>Changes in MICROSAR AR4-R19 - Cfg5.16 .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>291</p>
<p>8.3.1</p>
<p>General</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>291</p>
<p>8.3.2</p>
<p>Automation Script Project .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>291</p>
<p>8.3.2.1</p>
<p>Groovy</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>291</p>
<p>8.3.2.2</p>
<p>BuildSystem .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>291</p>
<p>8.3.2.3</p>
<p>Supported IntelliJ IDEA Version .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>291</p>
<p>8.3.3</p>
<p>ScriptAccess .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>291</p>
<p>8.3.4</p>
<p>UserInteraction - Progress Indication .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>291</p>
<p>8.3.5</p>
<p>Project Handling .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>292</p>
<p>8.3.6</p>
<p>Model Automation API</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>292</p>
<p>8.3.6.1</p>
<p>Derived Containers</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>292</p>
<p>8.3.6.2</p>
<p>Variance API .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>292</p>
<p>8.3.6.3</p>
<p>CE State</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>292</p>
<p>8.3.6.4</p>
<p>MDF Modification API</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>292</p>
<p>8.3.7</p>
<p>Persistency</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>292</p>
<p>8.3.7.1</p>
<p>Model Export</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>292</p>
<p>8.3.8</p>
<p>Generation</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>293</p>
<p>8.3.8.1</p>
<p>Generation Steps .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>293</p>
<p>8.3.9</p>
<p>Runtime System Domain</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>293</p>
<p>8.3.9.1</p>
<p>Component Port Selection</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>293</p>
<p>8.3.9.2</p>
<p>Signal Instance Selection</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>293</p>
<p>8.3.9.3</p>
<p>Bridge between mdf and model abstractions</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>293</p>
<p>8.3.9.4</p>
<p>Create Component Prototypes</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>293</p>
<p>8.3.9.5</p>
<p>Task Mapping</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>293</p>
<p>8.4</p>
<p>Changes in MICROSAR AR4-R18 - Cfg5.15 .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>294</p>
<p>8.4.1</p>
<p>General</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>294</p>
<p>8.4.2</p>
<p>Automation Script Project .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>294</p>
<p>8.4.2.1</p>
<p>Supported IntelliJ IDEA Version .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>294</p>
<p>8.4.2.2</p>
<p>BuildSystem .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>294</p>
<p>8.4.3</p>
<p>Script Execution</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>294</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>8 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Contents</b></p>
<p>8.4.3.1</p>
<p>User defined arguments</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>294</p>
<p>8.4.4</p>
<p>Project Handling .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>294</p>
<p>8.4.5</p>
<p>Project Creation vVIRTUALtarget settings</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>294</p>
<p>8.4.6</p>
<p>Model changes</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>295</p>
<p>8.4.7</p>
<p>Model Automation API</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>296</p>
<p>8.4.7.1</p>
<p>IVarianceApi</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>296</p>
<p>8.4.7.2</p>
<p>Access methods</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>296</p>
<p>8.4.7.3</p>
<p>Reverse Reference Resolution - ReferencesPointingToMe .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>296</p>
<p>8.4.7.4</p>
<p>Operations</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>296</p>
<p>8.4.7.5</p>
<p>User Annotations</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>296</p>
<p>8.4.7.6</p>
<p>Variance</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>296</p>
<p>8.4.7.7</p>
<p>Model Synchronization</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>296</p>
<p>8.4.8</p>
<p>Persistency</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>296</p>
<p>8.4.9</p>
<p>Workflow .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>297</p>
<p>8.4.10 Validation .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>297</p>
<p>8.4.10.1</p>
<p>Validation-Result Access Methods</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>297</p>
<p>8.4.11 Generation</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>297</p>
<p>8.4.11.1</p>
<p>SWC Templates and Contract Headers Generation .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>297</p>
<p>8.4.12 BswmdModel</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>297</p>
<p>8.4.12.1</p>
<p>BswmdModel Groovy</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>297</p>
<p>8.4.12.2</p>
<p>DerivativeMapping .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>298</p>
<p>8.4.13 Mode Management Domain .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>298</p>
<p>8.4.14 Runtime System Domain</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>298</p>
<p>8.4.14.1</p>
<p>Data Mapping</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>298</p>
<p>8.5</p>
<p>Changes in MICROSAR AR4-R17 - Cfg5.14 .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>299</p>
<p>8.5.1</p>
<p>General</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>299</p>
<p>8.5.2</p>
<p>Script Execution</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>299</p>
<p>8.5.2.1</p>
<p>Stateful Script Tasks .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>299</p>
<p>8.5.3</p>
<p>Automation Script Project .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>299</p>
<p>8.5.3.1</p>
<p>Groovy</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>299</p>
<p>8.5.3.2</p>
<p>Supported IntelliJ IDEA Version .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>299</p>
<p>8.5.3.3</p>
<p>BuildSystem .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>299</p>
<p>8.5.4</p>
<p>Converter Refactoring</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>299</p>
<p>8.5.5</p>
<p>UserInteraction .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>299</p>
<p>8.5.6</p>
<p>Project Load</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>300</p>
<p>8.5.6.1</p>
<p>AUTOSAR Arxml Files .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>300</p>
<p>8.5.7</p>
<p>Model</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>300</p>
<p>8.5.7.1</p>
<p>Transactions</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>300</p>
<p>8.5.7.2</p>
<p>MDF Model Read and Write</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>300</p>
<p>8.5.7.3</p>
<p>SystemDescription Access .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>301</p>
<p>8.5.7.4</p>
<p>ActiveEcuc</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>301</p>
<p>8.5.8</p>
<p>Persistency</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>301</p>
<p>8.5.9</p>
<p>Generation</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>301</p>
<p>8.5.10 BswmdModel</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>301</p>
<p>8.5.10.1</p>
<p>Writing with BswmdModel</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>301</p>
<p>8.5.11 BswmdModel Groovy</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>301</p>
<p>8.5.12 Diagnostics Domain</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>302</p>
<p>8.5.13 Communication Domain .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>302</p>
<p>8.5.14 Runtime System Domain</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>302</p>
<p>8.6</p>
<p>Changes in MICROSAR AR4-R16 - Cfg5.13 .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>303</p>
<p>8.6.1</p>
<p>General</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>303</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>9 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Contents</b></p>
<p>8.6.2</p>
<p>API Stability .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>303</p>
<p>8.6.3</p>
<p>Beta Status</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>303</p>
<p><b>9</b></p>
<p><b>Appendix</b></p>
<p><b>304</b></p>
<p>Nomenclature .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>305</p>
<p>Figures</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>306</p>
<p>Tables</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>307</p>
<p>Listings</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>308</p>
<p>ToDos</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>315</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>10 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>1 Introduction</b></p>
<p><b>1.1 General</b></p>
<p>The user of the DaVinci</p>
<p>Configurator Pro can create scripts,</p>
<p>which will</p>
<p>be executed inside of</p>
<p>the Configurator to:</p>
<p>• Create projects</p>
<p>• Update projects</p>
<p>• Manipulate the data model with an access to the whole AUTOSAR model</p>
<p>• Generate code</p>
<p>• Executed repetitive tasks with code, without user interaction</p>
<p>• More</p>
<p>The scripts are written by the<i> user</i> with the DaVinci Configurator AutomationInterface.</p>
<p><b>1.2 Facts</b></p>
<p><b>Installation</b></p>
<p>The DaVinci</p>
<p>Configurator Pro can execute customer defined scripts out of</p>
<p>the</p>
<p>box.</p>
<p>No additional scripting language installation is required by the customer.</p>
<p><b>Languages</b></p>
<p>The scripts are written in Groovy or Java.</p>
<p>See 3.2 on page 20 for details.</p>
<p><b>Debugging Support</b></p>
<p>The scripts can be debugged via IntelliJ IDEA. See 7.8 on page 279.</p>
<p><b>Documentation</b></p>
<p>The AutomationInterface provides a comprehensive documentation:</p>
<p>• This document</p>
<p>• Javadoc HTML pages as class reference</p>
<p>• Script samples and templates</p>
<p><b>–</b> ScriptProject creation assistant in the DaVinci Configurator</p>
<p>• API documentation inside of an IDE</p>
<p>• Integrated Definition (BSWMD) description for all modules in the SIP</p>
<p><b>Code Completion</b></p>
<p>You have code completion for Groovy and Java for the DaVinci</p>
<p>Configu-</p>
<p>rator AutomationInterface.</p>
<p>You have to use IntelliJ IDEA for code completion.</p>
<p>1</p>
<p>There is also a SIP based code completion for contained Module,</p>
<p>Container and Parameter</p>
<p>definitions.</p>
<p>This eases the traversal through the AUTOSAR model.</p>
<p>1</p>
<p>See chapter 7 on page 274 for details.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>11 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>2 Getting started with Script Development</b></p>
<p><b>2.1 General</b></p>
<p>This chapter gives a short introduction of how to get started with script file or script project</p>
<p>creation.</p>
<p><b>Attention:</b></p>
<p>You need at least one of the<b> License Options .WF or .MD</b> to develop scripts.</p>
<p>The script project creation assistant will</p>
<p>not be available otherwise.</p>
<p>Please note that the</p>
<p>execution of a script requires no specific license.</p>
<p><b>2.2 Automation Script Development Types</b></p>
<p>The DaVinci Configurator supports two types of automation scripts:</p>
<p>• Script files (.dvgroovy files)</p>
<p>• Script projects (.jar files)</p>
<p><b>Script File</b></p>
<p>The script file provides the<b> simplest way</b> to implement an automation script.</p>
<p>When the script gets bigger you should migrate to a script project.</p>
<p>To create a script file proceed with chapter 2.3.</p>
<p><b>Script Project</b></p>
<p>The script project is<b> more effort</b> to create and maintain,</p>
<p>but provides IDE</p>
<p>support for:</p>
<p>• Code completion</p>
<p>• Syntax highlighting</p>
<p>• API Documentation</p>
<p>• Debug support</p>
<p>• Build support</p>
<p>It is the<b> recommended way to develop</b> scripts,</p>
<p>containing more tasks or multiple clas-</p>
<p>ses.</p>
<p>To create a script project proceed with chapter 2.4 on page 14.</p>
<p><b>2.3 Script File</b></p>
<p>The script file is the simplest way to implement an automation script.</p>
<p>It could be sufficient</p>
<p>for small tasks and if the developer does not need support by the tool during implementing the</p>
<p>script and if debugging is not required.</p>
<p><b>Prerequisites</b></p>
<p>Before you start,</p>
<p>please make sure that you have a<b> SIP</b> containing a DaVinci</p>
<p>Configurator 5 available on your system.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>12 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 2.</b></p>
<p><b>Getting started with Script Development</b></p>
<p><b>Creation</b></p>
<p>Inside your SIP you find examples of</p>
<p>automation script files.</p>
<p>Create your own</p>
<p>script folder and copy an example,</p>
<p>e.g.</p>
<p>...ScriptSamples/SimpleScript.dvgroovy to your</p>
<p>folder.</p>
<p>Rename the script file and open it in any text editor.</p>
<p>In case of</p>
<p>SimpleScript.dvgroovy</p>
<p>it consists of</p>
<p>several</p>
<p>tasks.</p>
<p>One of</p>
<p>the tasks will</p>
<p>print a &quot;HelloApplication&quot;</p>
<p>string to the</p>
<p>console.</p>
<p>Figure 2.1: Script Samples location</p>
<p>Open the DaVinci Configurator inside your SIP. If not yet visible open the Views</p>
<p>• Script Locations</p>
<p>• Script Tasks</p>
<p>via the View menu.</p>
<p>In the<b> Script Locations</b> View select the location folder User@Machine.</p>
<p>On its context menu</p>
<p>you can<b> Add</b> a script location.</p>
<p>Select your own script folder.</p>
<p>Figure 2.2: Script Locations View</p>
<p>Alternatively you could add the script location to the Session folder.</p>
<p>In this case the script</p>
<p>location would only be stored in the current session.</p>
<p>Switch to the<b> Script Tasks</b> View.</p>
<p>It provides an overview over the tasks contained in your</p>
<p>script.</p>
<p>Figure 2.3: Script Tasks View</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>13 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 2.</b></p>
<p><b>Getting started with Script Development</b></p>
<p><b>Execute</b> the SimpleAppTask by double-click or by the Execute Command contained in its</p>
<p>context menu or by the Execute Button of the Task View and check that &quot;HelloApplication&quot; is</p>
<p>printed in the console.</p>
<p>You can modify the implementation according to your needs.</p>
<p>For the AutomationInterface</p>
<p>API Reference see chapter 4 on page 26.</p>
<p>It is sufficient to edit and save the modifications in</p>
<p>your editor.</p>
<p>The file is automatically reloaded by the DaVinci</p>
<p>Configurator then and can be</p>
<p>executed immediately.</p>
<p><b>Debugging</b></p>
<p>It is not possible to debug a script file, if you want to debug, please migrate to a</p>
<p>script project, see chapter 2.4.</p>
<p><b>2.4 Script Project</b></p>
<p>The script project is the preferred way to develop an automation script, if the content is more</p>
<p>than one simple task.</p>
<p>A script project is a normal IDE project (IntelliJ IDEA recommended), with compile bindings</p>
<p>to the DaVinci Configurator AutomationInterface.</p>
<p>It is also called &quot;Automation Script Project&quot;</p>
<p>throughout this document.</p>
<p>The DaVinci</p>
<p>Configurator will</p>
<p>load a script project as a single .jar file.</p>
<p>So the script pro-</p>
<p>ject must be built and packaged into a .jar file before it can be executed by the DaVinci</p>
<p>Configurator.</p>
<p><b>Prerequisites</b></p>
<p>Before you start,</p>
<p><b>please make sure</b> that the following items are available on</p>
<p>your system:</p>
<p>•<b> SIP</b> containing a DaVinci Configurator 5</p>
<p>•<b> Java JDK</b>: For the development with the IntelliJ IDEA a &quot;Java SE Development Kit 8&quot;</p>
<p>(JDK 8) is required.</p>
<p>Please install the JDK 8 as described in chapter 2.4.2 on page 17.</p>
<p>•<b> IDE</b>: For the script project development the<i> recommended</i> IDE is<i> IntelliJ IDEA</i>. Please</p>
<p>install IntelliJ IDEA as described in chapter 2.4.3 on page 17.</p>
<p>•<b> Build system</b>:</p>
<p>To build the script project the build system Gradle is required.</p>
<p>See</p>
<p>chapter 2.4.4 on page 18 for installation instructions.</p>
<p><b>Project Creation</b></p>
<p>Open the DaVinci Configurator inside your SIP. If not yet visible open the</p>
<p>following Views via the View menu:</p>
<p>• Script Locations</p>
<p>• Script Tasks</p>
<p>Switch to the View<b> Script Tasks</b> and select the Button<b> Create New Script Project...</b>.</p>
<p>Figure 2.4: Create New Script Project...</p>
<p>Button</p>
<p><b>Note:</b></p>
<p>If</p>
<p>the button is not available,</p>
<p>please make sure you have least one of</p>
<p>the<b> License</b></p>
<p><b>Options .WF or .MD</b> to develop scripts.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>14 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 2.</b></p>
<p><b>Getting started with Script Development</b></p>
<p>The<b> New Automation Script Project</b> dialogs is opened.</p>
<p>Click<i> Next</i> because you are reading</p>
<p>the document.</p>
<p>On the second page first you have to select a Script template on which the new project shall be</p>
<p>based on.</p>
<p>Please select Default Automation Project and click<i> Next</i>.</p>
<p>On the third page<b> Project Settings</b>, please specify the following items:</p>
<p>•<b> Script Project Name</b></p>
<p><b>–</b> Define a name for your new project.</p>
<p>•<b> Project Location</b></p>
<p><b>–</b> Select a parent folder in which your project shall be created in.</p>
<p>Note:</p>
<p>A new folder with the project name is created in this folder.</p>
<p>•<b> Gradle Distribution URL</b></p>
<p><b>–</b> Select one option:</p>
<p>∗<b> Gradle Default</b></p>
<p>· This will download the required Gradle build system.</p>
<p>To use this option you</p>
<p>need<b> internet access</b>.</p>
<p>∗<b> Custom URL</b></p>
<p>· Specify an URL to your own Gradle distribution.</p>
<p>New settings are displayed to specify the path.</p>
<p>To setup your own Gradle</p>
<p>build system see 2.4.4 on page 18.</p>
<p>•<b> Open IntelliJ IDEA</b></p>
<p><b>–</b> Select this option if the project shall automatically be opened in IntelliJ IDEA after</p>
<p>creation.</p>
<p>In case IntelliJ IDEA is not installed on your system a warning will</p>
<p>be</p>
<p>issued.</p>
<p>Figure 2.5: Project Settings</p>
<p>Proceed until the dialog is finished.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>15 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 2.</b></p>
<p><b>Getting started with Script Development</b></p>
<p>A new project will be created.</p>
<p>Necessary tasks as setting up the IntelliJ IDEA and building the</p>
<p>project are automatically initiated.</p>
<p>At the end IntelliJ IDEA will be started with the created</p>
<p>project.</p>
<p>You can now modify the implementation according to your needs.</p>
<p>For the AutomationInterface</p>
<p>API Reference see chapter 4 on page 26.</p>
<p>To edit and rebuild the project use IntelliJ IDEA.</p>
<p>After each build the project is automatically reloaded by the DaVinci Configurator and can be</p>
<p>executed there.</p>
<p><b>IntelliJ IDEA Usage</b></p>
<p>Ensure that the Gradle JVM and the Project SDK are set in the IntelliJ</p>
<p>IDEA Settings.</p>
<p>For details see 2.4.3 on the following page.</p>
<p>Having modified and saved MyScript.groovy in the IntelliJ IDEA editor you can build the</p>
<p>project by pressing the<b> Run Button provided in the toolbar</b>.</p>
<p>The functionality of this Run</p>
<p>Button is determined by the option selected in the Menu beneath this button.</p>
<p>In this menu</p>
<p><b>&lt;ProjectName&gt; [build] shall be selected</b>.</p>
<p>Figure 2.6: Project Build</p>
<p>For more information to IntelliJ IDEA usage please see chapter 7.5 on page 275.</p>
<p>If you have</p>
<p>trouble with IntelliJ, see 7.5.4 on page 277.</p>
<p><b>Debugging</b></p>
<p>To debug the script project follow the instructions in chapter 7.8 on page 279.</p>
<p><b>DaVinci</b></p>
<p><b>Configurator views</b></p>
<p>The View<b> Script Tasks</b> provides an overview over the scripts</p>
<p>and tasks contained in the project.</p>
<p>The newly created project already contains a sample script</p>
<p>file MyScript.groovy.</p>
<p>The Default Automation Project sample script file contains one task that prints a &quot;Hello-</p>
<p>Application&quot; string to the console.</p>
<p>Run and check it as already described in 2.3 on page 12.</p>
<p>If</p>
<p>you have selected a different Script Sample the MyScript.groovy will</p>
<p>contain the sample</p>
<p>code.</p>
<p>The View<b> Script Locations</b> contains the path to the script project build folder containing the</p>
<p>built .jar file.</p>
<p><b>Jar Location</b></p>
<p>The Jar location of the built script project is &lt;ProjectDir&gt;/build/libs.</p>
<p>Gradle</p>
<p>will</p>
<p>automatically create the directories during the build and will</p>
<p>generate the built .jar</p>
<p>file.</p>
<p><b>2.4.1 Script Project Development</b></p>
<p>For more details to the development of a script project see chapter 7 on page 274.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>16 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 2.</b></p>
<p><b>Getting started with Script Development</b></p>
<p><b>2.4.2 Java JDK Setup</b></p>
<p>Install a JDK 8 on your system.</p>
<p>The Java JDK website provides download versions for different</p>
<p>systems.</p>
<p>Download an appropriate version.</p>
<p>The architecture is not relevant, both x86 and x64 are valid.</p>
<p>The JDK is needed for the Java Compiler for IntelliJ IDEA and Gradle.</p>
<p><b>2.4.3 IntelliJ IDEA Setup</b></p>
<p>Install</p>
<p>IntelliJ IDEA on your system.</p>
<p>The IntelliJ IDEA website provides download versions</p>
<p>for different applications.</p>
<p>Download</p>
<p>1</p>
<p>a version that supports Java and Groovy and that is in</p>
<p>the list of supported versions (see list 7.5.1 on page 275).</p>
<p>Code completion and compilation additionally require that the Project SDK is set.</p>
<p>Therefore</p>
<p>open the File -&gt;<b> Project Structure</b> Dialog in IntelliJ IDEA and switch to the settings dialog</p>
<p>for<b> Project</b>.</p>
<p>If not already available set an appropriate option for the<b> Project SDK</b>. Please</p>
<p>set the value to a valid Java JDK ( see 2.4.2).</p>
<p><b>Do not</b> select a JRE.</p>
<p>Figure 2.7: Project SDK Setting</p>
<p>To enable building of</p>
<p>projects ensure that the Gradle JVM is set.</p>
<p>Therefore open the File</p>
<p>-&gt;<b> Settings</b> Dialog in IntelliJ IDEA and find the settings dialog for<b> Gradle</b>.</p>
<p>If not already</p>
<p>available set an appropriate option for the<b> Gradle JVM</b>. Please set the value to the same Java</p>
<p>JDK as the Project SDK above.</p>
<p><b>Do not</b> select a JRE.</p>
<p>If</p>
<p>you do not have the Gradle settings,</p>
<p>please make sure that the Gradle plugin inside of</p>
<p>IntelliJ IDEA is installed.</p>
<p>Open the File -&gt;<b> Settings</b> Dialog then Plugins and select the</p>
<p>Gradle plugin.</p>
<p>1</p>
<p>Vector-Internal:</p>
<p>If</p>
<p>you</p>
<p>are</p>
<p>inside</p>
<p>of</p>
<p>the</p>
<p>Vector</p>
<p>intranet,</p>
<p>you</p>
<p>could</p>
<p>download</p>
<p>it</p>
<p>from:</p>
<p>file:////vistrpesfs1/project2/DaVinci/Eclipse/Platform/CFG5/BuildComponents/IntelliJ</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>17 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 2.</b></p>
<p><b>Getting started with Script Development</b></p>
<p>Figure 2.8: Gradle JVM Setting</p>
<p><b>2.4.4 Gradle Setup</b></p>
<p>If</p>
<p>your system has internet access you can use the default Gradle Build System provided by</p>
<p>the DaVinci Configurator.</p>
<p>In this case you<b> do not</b> have to install Gradle.</p>
<p>If you are a Vector</p>
<p>internal user you could also<b> skip</b> the Gradle installation.</p>
<p>If you want to use your own Gradle Build System install it on your system.</p>
<p>The Gradle website</p>
<p>provides the required download version for the Gradle Build System.</p>
<p>Please<b> download the</b></p>
<p><b>version 4.0.1</b>.</p>
<p>See chapter 7.9 on page 280 for more details to the Build System.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>18 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>3 AutomationInterface Architecture</b></p>
<p><b>3.1 Components</b></p>
<p>The DaVinci Configurator consists of three components:</p>
<p>• Core components</p>
<p>• AutomationInterface (AI) - also called Automation API</p>
<p>• Scripting engine</p>
<p>The other part is the script provided by the user.</p>
<p>The Scripting engine will load the script, and the script uses the AutomationInterface to perform</p>
<p>tasks.</p>
<p>The AutomationInterface will translate the requests from the script into Core components</p>
<p>calls.</p>
<p>Figure 3.1: DaVinci Configurator components and interaction with scripts</p>
<p>The separation of the AutomationInterface and the Core components has multiple benefits:</p>
<p>• Stable API for script writters</p>
<p><b>–</b> Including checks, that the API will not break in following releases</p>
<p>• Well defined and documented API</p>
<p>• Abstraction from the internal heavy lifting</p>
<p><b>–</b> This ease the usage for the user,</p>
<p>because the automation interfaces are tailored to</p>
<p>the use cases.</p>
<p><b>PublishedApi</b></p>
<p>All AutomationInterface classes are marked with a special annotation to<b> high-</b></p>
<p><b>light</b> the fact</p>
<p>that</p>
<p>it</p>
<p>is</p>
<p>part</p>
<p>of</p>
<p>the published API.</p>
<p>The annotation is</p>
<p>called @Publishe-</p>
<p>dApi.</p>
<p>So every class marked with @PublishedApi can be used by the client code.</p>
<p>But if a class is</p>
<p><b>not</b> marked with @PublishedApi or is marked with @Deprecated it should not be used by any</p>
<p>client code, nor shall a client call methods via reflection or other runtime techniques.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>19 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 3.</b></p>
<p><b>AutomationInterface Architecture</b></p>
<p>You should<b> not</b> access DaVinci</p>
<p>Configurator private or package private classes,</p>
<p>methods or</p>
<p>fields.</p>
<p><b>3.2 Languages</b></p>
<p>The DaVinci Configurator provides out of the box language support for:</p>
<p>• Java</p>
<p>1</p>
<p>• Groovy</p>
<p>2</p>
<p>The recommended scripting language is<b> Groovy</b> which shall be preferred by all users.</p>
<p><b>3.2.1 Why Groovy</b></p>
<p><b>Flat Learning Curve</b></p>
<p>Groovy is concise,</p>
<p>readable with an expressive syntax and is easy to</p>
<p>learn for Java developers</p>
<p>3</p>
<p>.</p>
<p>• Groovy syntax is 95%-compatible with Java</p>
<p>4</p>
<p>• Any Java developer will be able to code in Groovy without having to know nor understand</p>
<p>the subtleties of this language</p>
<p>This is very important for teams where there’s not much time for learning a new language.</p>
<p><b>Domain-Specific Languages (DSL)</b></p>
<p>Groovy has a flexible and malleable syntax,</p>
<p>advanced</p>
<p>integration and customization mechanisms,</p>
<p>to integrate readable business rules in your appli-</p>
<p>cations.</p>
<p>The DSL features of Groovy are extensively used in DaVinci Automation API to provide simple</p>
<p>and expressive syntax.</p>
<p><b>Powerful Features</b></p>
<p>The Groovy language supports Closures, builders, runtime &amp; compile-time</p>
<p>meta-programming, functional programming, type inference, and static compilation.</p>
<p><b>Website</b></p>
<p>The website of Groovy is http://groovy-lang.org.</p>
<p>It provides a good documentation</p>
<p>and starting guides for the Groovy language.</p>
<p><b>Groovy Book</b></p>
<p>The book<b> &quot;Groovy in Action, Second Edition&quot;</b></p>
<p>5</p>
<p>provides a comprehensive</p>
<p>guide to Groovy programming language.</p>
<p>It is written by the developers of Groovy.</p>
<p>1</p>
<p>http://http://www.java.com [2016-05-09]</p>
<p>2</p>
<p>http://groovy-lang.org [2016-05-09]</p>
<p>3</p>
<p>Copied from http://groovy-lang.org [2016-05-09]</p>
<p>4</p>
<p>Copied from http://melix.github.io/blog/2010/07/27/experience_feedback_on_groovy.html [2016-05-09]</p>
<p>5</p>
<p>Groovy in Action, Second Edition by Dierk König, Paul King, Guillaume Laforge, Hamlet D’Arcy, Cédric</p>
<p>Champeau, Erik Pragt, and Jon Skeet June 2015 ISBN 9781935182443</p>
<p>https://www.manning.com/books/groovy-in-action-second-edition [2016-05-09]</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>20 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 3.</b></p>
<p><b>AutomationInterface Architecture</b></p>
<p><b>3.3 Script Structure</b></p>
<p>A script always contains one or more script tasks.</p>
<p>A script is represented by an instance of</p>
<p>IScript, the contained tasks are instances of</p>
<p>IScriptTask.</p>
<p>Figure 3.2: Structure of scripts and script tasks</p>
<p>You create the IScript and IScriptTask instance with the API described in chapter 4.2 on</p>
<p>page 27.</p>
<p>The script task type (IScriptTaskType) defines where the task could be executed.</p>
<p>It also</p>
<p>defines the signature of the task’s code {} block.</p>
<p>See chapter 4.3 on page 31 for the available</p>
<p>script task types.</p>
<p><b>3.3.1 Scripts</b></p>
<p>Script contain the tasks to execute and are loaded from the script locations specified in the</p>
<p>DaVinci Configurator.</p>
<p>The DaVinci Configurator supports two types of automation scripts:</p>
<p>• Script files (.dvgroovy files)</p>
<p>• Script projects (.jar files)</p>
<p>For details to the script project, see chapter 7 on page 274.</p>
<p><b>3.3.2 Script Tasks</b></p>
<p>Script tasks are the executable units of</p>
<p>scripts,</p>
<p>which are executed at certain points in the</p>
<p>DaVinci</p>
<p>Configurator (specified by the IScriptTaskType).</p>
<p>Every script task has a code {}</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>21 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 3.</b></p>
<p><b>AutomationInterface Architecture</b></p>
<p>block, which contains the logic to execute.</p>
<p><b>3.3.3 Script Locations</b></p>
<p>Script locations define where script files are loaded from.</p>
<p>These locations are edited in the</p>
<p>DaVinci</p>
<p>Configurator Script Locations view.</p>
<p>You can also start the Configurator with the</p>
<p>option –scriptLocations to specify additional locations.</p>
<p>The DaVinci Configurator could load scripts from different script locations:</p>
<p>• SIP</p>
<p>• Project</p>
<p>• User-defined directories</p>
<p>• More</p>
<p><b>3.4 Script loading</b></p>
<p>All scripts contained in the script locations are automatically loaded by the DaVinci Configu-</p>
<p>rator.</p>
<p>If new scripts are added to script locations these scripts are automatically loaded.</p>
<p>If a script changes during runtime of the DaVinci Configurator the whole script is reloaded and</p>
<p>then executable, without a restart of the tool or a reload of the project.</p>
<p>This enables script development during the runtime of the DaVinci Configurator</p>
<p>• No project reload</p>
<p>• No tool restart</p>
<p>• Faster feedback loops</p>
<p><b>Note:</b></p>
<p>A jar file of a script project<i> should be updated by the Gradle build system</i>, not by hand.</p>
<p>Because the Java VM is holding a lock to the file.</p>
<p>If you try to replace the file in the explorer</p>
<p>you will get an error message.</p>
<p><b>3.4.1 Internal</b></p>
<p><b>Script Reload Behavior</b></p>
<p>Your script can be loaded and unloaded automatically multiple times during the execution of</p>
<p>the DaVinci</p>
<p>Configurator.</p>
<p>More precise,</p>
<p>when a script is currently not used and there are</p>
<p>memory constraints your script will be automatically unloaded.</p>
<p>If</p>
<p>the script will</p>
<p>be executed again,</p>
<p>it is automatically reloaded and then executed.</p>
<p>So it is</p>
<p>possible that the script initialization code is called multiple times in the DaVinci Configurator</p>
<p>lifecycle.</p>
<p>But this is no issue,</p>
<p>because the script and the tasks<b> shall</b></p>
<p><b>not</b> have any internal</p>
<p>state during initialization.</p>
<p><b>Memory Leak Prevention</b></p>
<p>The feature above is implemented to prevent leaking memory from</p>
<p>an automation script into the DaVinci Configurator memory.</p>
<p>So when the memory run low, all</p>
<p>unused scripts are unloaded, which will also free leaked memory of scripts.</p>
<p>But this<b> does not</b> mean that is impossible to construct memory leaks from an automation</p>
<p>script.</p>
<p>E.g.</p>
<p>Open file handles without closing them will still cause a memory leak.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>22 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 3.</b></p>
<p><b>AutomationInterface Architecture</b></p>
<p><b>3.5 Script editing</b></p>
<p>The DaVinci Configurator does not contain any editing support for scripts, like:</p>
<p>• Script editor</p>
<p>• Debugger</p>
<p>• REPL (Read-Eval-Print-Loop)</p>
<p>These tasks are delegated to other development tools:</p>
<p>• IntelliJ IDEA (recommended)</p>
<p>• EclipseIDE</p>
<p>• Notepad++</p>
<p>See chapter 7 on page 274 for script development and debugging with IntelliJ IDEA.</p>
<p><b>3.6 Licensing</b></p>
<p>The DaVinci</p>
<p>Configurator requires certain license options to develop and/or execute script</p>
<p>tasks.</p>
<p>You need specific combinations of</p>
<p>DaVinci</p>
<p>Configurator licenses and options to develop and</p>
<p>execute scripts.</p>
<p>For typical automation script tasks you need following licenses:</p>
<p>• Product license CFG PRO required for execution of script tasks</p>
<p>• Additional option .WF required for development and debugging</p>
<p>For generation script tasks for example you need a different license combination.</p>
<p>See chapter 4.3 on page 31 for details, which script task type requires which license.</p>
<p>Some script task may require different licenses or options during development or execution.</p>
<p>It</p>
<p>is also possible that the execution does not require any license at all.</p>
<p>Normally you need more</p>
<p>license options to develop scripts than you need to execute them.</p>
<p><b>3.7 Script Coding Conventions and Constraints</b></p>
<p>This section describes conventions, which you are advised to apply.</p>
<p><b>Requirement Levels - Wording</b></p>
<p>• Shall:</p>
<p>This word, or the terms &quot;Mandatory&quot;, &quot;Required&quot; or &quot;Must&quot;, mean that the rule or</p>
<p>convention is an absolute requirement.</p>
<p>• Shall</p>
<p>not:</p>
<p>This word,</p>
<p>or the terms &quot;Must not&quot; mean that the rule or convention is an</p>
<p>absolute prohibition.</p>
<p>• Should:</p>
<p>This word,</p>
<p>or the adjective &quot;Recommended&quot;,</p>
<p>mean that there may exist valid</p>
<p>reasons in particular circumstances to ignore a particular item,</p>
<p>but the full implications</p>
<p>must be understood and carefully weighed before choosing a different course.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>23 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 3.</b></p>
<p><b>AutomationInterface Architecture</b></p>
<p>• Should not:</p>
<p>This phrase,</p>
<p>or the phrase &quot;Not recommended&quot; mean that there may exist</p>
<p>valid reasons in particular circumstances when the particular behavior is acceptable or</p>
<p>even useful, but the full implications should be understood and the case carefully weighed</p>
<p>before implementing any behavior described with this label.</p>
<p>• May:</p>
<p>This word, or the adjective &quot;Optional&quot;, mean that an item is truly optional.</p>
<p>See also &quot;RFC 2119:</p>
<p>Key words for use in RFCs to Indicate Requirement Levels&quot;</p>
<p>6</p>
<p>.</p>
<p><b>3.7.1 Usage of static fields</b></p>
<p>You<b> shall</b></p>
<p><b>not</b> use any static fields in your script code or other written classes inside of your</p>
<p>project.</p>
<p>Except static final constants of simple immutable types like (normally compile time</p>
<p>constants):</p>
<p>• int</p>
<p>• boolean</p>
<p>• double</p>
<p>• String</p>
<p>• ...</p>
<p>Static fields will</p>
<p>cause memory leaks,</p>
<p>because the fields are not garbage collected.</p>
<p>Exam-</p>
<p>ple:</p>
<p>scriptTask (&quot; Name &quot;) {</p>
<p>code {</p>
<p>MyClass . leakVariable . add ( &quot; Leaked</p>
<p>Memory &quot; )</p>
<p>}</p>
<p>}</p>
<p><b>class</b></p>
<p>MyClass {</p>
<p><b>static</b></p>
<p>List</p>
<p>leakVariable</p>
<p>=</p>
<p>[]</p>
<p>}</p>
<p>Listing 3.1: Static field memory leak</p>
<p>The use of static fields of the AutomationInterface is allowed.</p>
<p><b>3.7.2 Usage of Outer Closure Scope Variables</b></p>
<p>The same static field rule applies to variables passed from outer Closure scopes into a script</p>
<p>task code{} block.</p>
<p>You<b> shall not</b> cache/save data into such variables.</p>
<p>Example:</p>
<p>6</p>
<p>https://www.ietf.org/rfc/rfc2119.txt</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>24 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 3.</b></p>
<p><b>AutomationInterface Architecture</b></p>
<p>scriptTask (&quot; Name &quot;) {</p>
<p><b>def</b></p>
<p>invalidVariable</p>
<p>=</p>
<p>[]</p>
<p>// List</p>
<p>code {</p>
<p>invalidVariable . add (&quot; Leaked</p>
<p>Memory &quot; )</p>
<p>}</p>
<p>}</p>
<p>Listing 3.2: Memory leak with closure variable</p>
<p><b>3.7.3 States over script task execution</b></p>
<p>You<b> shall not</b> hold or save any states over multiple script task executions in your classes.</p>
<p>The script task should be state less.</p>
<p>All states are provided by the Automation API or the data</p>
<p>models.</p>
<p>If</p>
<p>you need to cache data over multiple executions,</p>
<p>see chapter 4.4.10 on page 53 for a solu-</p>
<p>tion.</p>
<p><b>3.7.4 Usage of Threads</b></p>
<p>A script task<b> shall</b></p>
<p><b>not</b> create any Thread, Executor, ThreadPool or ForkJoinPool in-</p>
<p>stances.</p>
<p>If</p>
<p>multithreading is required,</p>
<p>the Automation API provides the corresponding met-</p>
<p>hods.</p>
<p>A different thread will</p>
<p>not provide any Automation APIs and will</p>
<p>cause IllegalStateExcepti-</p>
<p>ons.</p>
<p><b>3.7.5 Usage of DaVinci</b></p>
<p><b>Configurator private Classes Methods or Fields</b></p>
<p>A script task<b> should not</b> call or rely on any non published API or private (also package private)</p>
<p>classes,</p>
<p>methods or fields.</p>
<p>You also should not use any reflection techniques to reflect about</p>
<p>Configurator internal APIs.</p>
<p>Otherwise it is not guaranteed that your script will work with other</p>
<p>DaVinci Configurator versions.</p>
<p>See 3.1 on page 19 for details about PublishedApi.</p>
<p>But it is valid to use reflection for your own script code.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>25 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>4 AutomationInterface API Reference</b></p>
<p><b>4.1 Introduction</b></p>
<p>This chapter contains the description of the DaVinci</p>
<p>Configurator AutomationInterface.</p>
<p>The</p>
<p>figure 4.1 shows the APIs and the containment structure of the different APIs.</p>
<p>Figure 4.1: The API overview and containment structure</p>
<p>The components have an hierarchical order, where and when the components are usable.</p>
<p>When a</p>
<p>component is contained in another the component is only usable, when the other is active.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>26 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>Usage examples:</p>
<p>• The Generation API is only usable inside of a loaded Project</p>
<p>• The Project creation API is only usable outside of a loaded Project</p>
<p><b>4.2 Script Creation</b></p>
<p>This section lists the APIs to create,</p>
<p>execute and query information for script tasks.</p>
<p>The</p>
<p>sections document the following aspects:</p>
<p>• Script task creation</p>
<p>• Description and help texts</p>
<p>• Task executable query</p>
<p><b>4.2.1 Script Task Creation</b></p>
<p>To create a script task you have to call one of the scriptTask() methods.</p>
<p>The last parameter</p>
<p>of the scriptTask methods can be used to set additional options of the task.</p>
<p>Every script task</p>
<p>needs one IScriptTaskType.</p>
<p>See chapter 4.3 on page 31 for all available task types.</p>
<p>The code{ } block is<b> required</b> for every IScriptTask.</p>
<p>The block contains the code, which is</p>
<p>executed when the task is executed.</p>
<p><b>Script Task with default Type</b></p>
<p>The method scriptTask() will create an script task for the</p>
<p>default IScriptTaskType DV_PROJECT.</p>
<p>scriptTask (&quot; TaskName &quot;){</p>
<p>code {</p>
<p>//</p>
<p>Task</p>
<p>execution</p>
<p>code</p>
<p>here</p>
<p>}</p>
<p>}</p>
<p>Listing 4.1: Task creation with default type</p>
<p><b>Script Task with Task Type</b></p>
<p>You could also define the used IScriptTaskType at the script-</p>
<p>Task() methods.</p>
<p>The methods</p>
<p>• scriptTask(String, IApplicationScriptTaskType, Closure)</p>
<p>• scriptTask(String, IProjectScriptTaskType, Closure)</p>
<p>will</p>
<p>create an script task for passed IScriptTaskType.</p>
<p>The two methods differentiate,</p>
<p>if</p>
<p>a</p>
<p>project is required or not.</p>
<p>See chapter for all available task types 4.3 on page 31</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>27 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>scriptTask (&quot; TaskName &quot; ,</p>
<p>DV_APPLICATION ){</p>
<p>code {</p>
<p>//</p>
<p>Task</p>
<p>execution</p>
<p>code</p>
<p>here</p>
<p>}</p>
<p>}</p>
<p>Listing 4.2: Task creation with TaskType Application</p>
<p>scriptTask (&quot; TaskName &quot; ,</p>
<p>DV_PROJECT ){</p>
<p>code {</p>
<p>//</p>
<p>Task</p>
<p>execution</p>
<p>code</p>
<p>here</p>
<p>}</p>
<p>}</p>
<p>Listing 4.3: Task creation with TaskType Project</p>
<p><b>Multiple Tasks in one Script</b></p>
<p>It is also possible to define multiple tasks in one script.</p>
<p>scriptTask (&quot; TaskName &quot;){</p>
<p>code {</p>
<p>}</p>
<p>}</p>
<p>scriptTask (&quot; SecondTask &quot;) {</p>
<p>code {</p>
<p>}</p>
<p>}</p>
<p>Listing 4.4: Define two tasks is one script</p>
<p><b>4.2.1.1 Script Creation with IDE Code Completion Support</b></p>
<p>The IDE could not know which API is available inside of a script file.</p>
<p>So a glue code is needed</p>
<p>to tell the IDE, what API is callable inside of a script file.</p>
<p>The ScriptApi.daVinci() method enables the IDE code completion support in a script file.</p>
<p>You have to write the daVinci{ } block and inside of the block the code completion is available.</p>
<p>The following sample shows the glue code for the IDE:</p>
<p><b>import</b></p>
<p><b>static</b></p>
<p>com . vector . cfg . automation . api . ScriptApi .*</p>
<p>// daVinci</p>
<p>enables</p>
<p>the</p>
<p>IDE</p>
<p>code</p>
<p>completion</p>
<p>support</p>
<p>daVinci {</p>
<p>//</p>
<p>Normal</p>
<p>script</p>
<p>code</p>
<p>here</p>
<p>scriptTask ( &quot; TaskName &quot;){</p>
<p>code {</p>
<p>//</p>
<p>Script</p>
<p>task</p>
<p>execution</p>
<p>code</p>
<p>here</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.5: Script creation with IDE support</p>
<p>The daVinci{} block is only required for code completion support in the IDE. It has no effect</p>
<p>during runtime, so the daVinci{} is optional in script files (.dvgroovy)</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>28 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>4.2.1.2 Script Task isExecutableIf</b></p>
<p>You can set an isExecutableIf handler, which is called before the IScriptTask is executed.</p>
<p>The code can evaluate, if the IScriptTask shall be executable.</p>
<p>If the handler returns true, the</p>
<p>code of the IScriptTask is executable, otherwise false.</p>
<p>See class IExecutableTaskEvaluator</p>
<p>for details.</p>
<p>The Closure isExecutable has to return a boolean.</p>
<p>The passed arguments to the closure are</p>
<p>the same as the code{ } block arguments.</p>
<p>Inside of the Closure a property notExecutableReasons is available to set reasons why it is not</p>
<p>executable.</p>
<p>It is highly recommended to set reasons, when the Closure returns false.</p>
<p>scriptTask (&quot; TaskName &quot;){</p>
<p>isExecutableIf {</p>
<p>taskArgument</p>
<p>-&gt;</p>
<p>//</p>
<p>Decide ,</p>
<p>if</p>
<p>the</p>
<p>task</p>
<p>shall</p>
<p>be</p>
<p>executable</p>
<p><b>if</b> ( taskArgument</p>
<p>==</p>
<p>&quot; CorrectArgument &quot; ){</p>
<p><b>return</b></p>
<p><b>true</b></p>
<p>}</p>
<p>notExecutableReasons . addReason</p>
<p>&quot; The</p>
<p>argument</p>
<p>is</p>
<p>not</p>
<p>' CorrectArgument '&quot;</p>
<p><b>return</b></p>
<p><b>false</b></p>
<p>}</p>
<p>code {</p>
<p>taskArgument</p>
<p>-&gt;</p>
<p>//</p>
<p>Task</p>
<p>execution</p>
<p>code</p>
<p>here</p>
<p>}</p>
<p>}</p>
<p>Listing 4.6: Task with isExecutableIf</p>
<p><b>4.2.2 Description and Help</b></p>
<p><b>Script Description</b></p>
<p>The script can have an optional</p>
<p>description text.</p>
<p>The description shall</p>
<p>list what this script contains.</p>
<p>The method scriptDescription(String) sets the description</p>
<p>of the script.</p>
<p>The description shall be a short overview.</p>
<p>The String can be multiline.</p>
<p>//</p>
<p>You</p>
<p>can</p>
<p>set</p>
<p>a</p>
<p>description</p>
<p>for</p>
<p>the</p>
<p>whole</p>
<p>script</p>
<p>scriptDescription</p>
<p>&quot; The</p>
<p>Script</p>
<p>has</p>
<p>a</p>
<p>description &quot;</p>
<p>scriptTask (&quot; Task &quot;) {</p>
<p>code {}</p>
<p>}</p>
<p>Listing 4.7: Script with description</p>
<p><b>Task Description</b></p>
<p>A script task can have an optional</p>
<p>description text.</p>
<p>The description shall</p>
<p>help the user of the script task to understand what the task does.</p>
<p>The method taskDescrip-</p>
<p>tion(String) sets the description of the script task.</p>
<p>The description shall be a short overview.</p>
<p>The String can be multiline.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>29 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>scriptTask (&quot; TaskName &quot;){</p>
<p>taskDescription</p>
<p>&quot; The</p>
<p>description</p>
<p>of</p>
<p>the</p>
<p>task &quot;</p>
<p>code {</p>
<p>}</p>
<p>}</p>
<p>Listing 4.8: Task with description</p>
<p><b>Task Help</b></p>
<p>A script task can also have an optional help text.</p>
<p>The help text shall describe in</p>
<p>detail what the task does and when it could be executed.</p>
<p>The method taskHelp(String) sets</p>
<p>the help of the script task.</p>
<p>The help shall be elaborate text about what the task does and how to use it.</p>
<p>The String can</p>
<p>be multiline.</p>
<p>The help text is automatically expanded with the help for user defined script task arguments,</p>
<p>see IScriptTaskBuilder.newUserDefinedArgument(String, Class, String).</p>
<p>scriptTask (&quot; TaskName &quot;){</p>
<p>taskDescription</p>
<p>&quot; The</p>
<p>short</p>
<p>description</p>
<p>of</p>
<p>the</p>
<p>task &quot;</p>
<p>taskHelp</p>
<p>&quot; &quot; &quot;</p>
<p>The</p>
<p>long</p>
<p>help</p>
<p>text</p>
<p>of</p>
<p>the</p>
<p>script</p>
<p>with</p>
<p>multiple</p>
<p>lines</p>
<p>And</p>
<p>paragraphs</p>
<p>...</p>
<p>&quot;&quot;&quot; . stripIndent ()</p>
<p>//</p>
<p>stripIndent ()</p>
<p>will</p>
<p>strip</p>
<p>the</p>
<p>indentation</p>
<p>of</p>
<p>multiline</p>
<p>strings</p>
<p>//</p>
<p>The</p>
<p>three</p>
<p>&quot;&quot;&quot;</p>
<p>are</p>
<p>needed ,</p>
<p>if</p>
<p>you</p>
<p>want</p>
<p>to</p>
<p>write</p>
<p>a</p>
<p>multiline</p>
<p>string</p>
<p>code {</p>
<p>}</p>
<p>}</p>
<p>Listing 4.9: Task with description and help text</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>30 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>4.3 Script Task Types</b></p>
<p>The IScriptTaskType instances define where a script task is executed in the DaVinci Configu-</p>
<p>rator.</p>
<p>The types also define the arguments passed to the script task execution and what return</p>
<p>type an execution has.</p>
<p>Every script task needs an IScriptTaskType.</p>
<p>The type is set during creation of</p>
<p>the script</p>
<p>tasks.</p>
<p><b>License Options</b></p>
<p>For the common explanation of the required license options, see chapter 3.6</p>
<p>on page 23.</p>
<p><b>Interfaces</b></p>
<p>All</p>
<p>task types implement the interface IScriptTaskType.</p>
<p>The following figure</p>
<p>show the type and the defined sub types:</p>
<p>Figure 4.2: IScriptTaskType interfaces</p>
<p><b>4.3.1 Available Types</b></p>
<p>The class IScriptTaskTypeApi defines all</p>
<p>available IScriptTaskTypes in the DaVinci</p>
<p>Confi-</p>
<p>gurator.</p>
<p>All task types start with the prefix DV_.</p>
<p>None at parameters and return types mean, that any arguments could be passed and return to</p>
<p>or from the task.</p>
<p>Normally it will be nothing.</p>
<p>The arguments are used, when the task is called</p>
<p>in unit tests for example.</p>
<p><b>4.3.1.1 Application Types</b></p>
<p><b>Application</b></p>
<p>The type<b> DV_APPLICATION</b> is for application wide script tasks.</p>
<p>A task could</p>
<p>create/open/close/update projects.</p>
<p>Use this type,</p>
<p>if</p>
<p>you need full</p>
<p>control</p>
<p>over the project</p>
<p>handling, or you want to handle multiple project at once.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>31 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>Name</b></p>
<p>Application</p>
<p><b>Code identifier</b></p>
<p>DV_APPLICATION</p>
<p><b>Task type interface</b></p>
<p>IApplicationScriptTaskType</p>
<p><b>Parameters</b></p>
<p>None</p>
<p><b>Return type</b></p>
<p>None</p>
<p><b>Execution</b></p>
<p>Standalone</p>
<p><b>Required license</b></p>
<p>Development:</p>
<p>.WF Execution:</p>
<p>CFG PRO</p>
<p><b>4.3.1.2 Project Types</b></p>
<p><b>Project</b></p>
<p>The type<b> DV_PROJECT</b> is for project script tasks.</p>
<p>A task could access the currently</p>
<p>loaded project.</p>
<p>Manipulate the data, generate and save the project.</p>
<p>This is the default type, if</p>
<p>no other type is specified.</p>
<p><b>Name</b></p>
<p>Project</p>
<p><b>Code identifier</b></p>
<p>DV_PROJECT</p>
<p><b>Task type interface</b></p>
<p>IProjectScriptTaskType</p>
<p><b>Parameters</b></p>
<p>None</p>
<p><b>Return type</b></p>
<p>None</p>
<p><b>Execution</b></p>
<p>Standalone</p>
<p><b>Required license</b></p>
<p>Development:</p>
<p>.WF Execution:</p>
<p>CFG PRO</p>
<p><b>Module activation</b></p>
<p>The type<b> DV_ON_MODULE_ACTIVATION</b> allows the script to hook any Mo-</p>
<p>dule Activation in a loaded project.</p>
<p>Every DV_ON_MODULE_ACTIVATION task is automatically</p>
<p>executed, when an &quot;Activate Module&quot; operation is executed.</p>
<p>The script task is called after the</p>
<p>module was created.</p>
<p><b>Name</b></p>
<p>Module activation</p>
<p><b>Code identifier</b></p>
<p>DV_ON_MODULE_ACTIVATION</p>
<p><b>Task type interface</b></p>
<p>IProjectScriptTaskType</p>
<p><b>Parameters</b></p>
<p>MIModuleConfiguration moduleConfiguration</p>
<p><b>Return type</b></p>
<p>Void</p>
<p><b>Execution</b></p>
<p>Automatically during module activation</p>
<p><b>Required license</b></p>
<p>Development:</p>
<p>.WF Execution:</p>
<p>CFG PRO</p>
<p><b>Module deactivation</b></p>
<p>The type<b> DV_ON_MODULE_DEACTIVATION</b> allows the script to hook any</p>
<p>Module Deactivation in a loaded project.</p>
<p>Every DV_ON_MODULE_DEACTIVATION task is automa-</p>
<p>tically executed, when an &quot;Deactivate Module&quot; operation is executed.</p>
<p>The script task is called</p>
<p>before the module is deleted.</p>
<p><b>Name</b></p>
<p>Module deactivation</p>
<p><b>Code identifier</b></p>
<p>DV_ON_MODULE_DEACTIVATION</p>
<p><b>Task type interface</b></p>
<p>IProjectScriptTaskType</p>
<p><b>Parameters</b></p>
<p>MIModuleConfiguration moduleConfiguration</p>
<p><b>Return type</b></p>
<p>Void</p>
<p><b>Execution</b></p>
<p>Automatically during module deactivation</p>
<p><b>Required license</b></p>
<p>Development:</p>
<p>.WF Execution:</p>
<p>CFG PRO</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>32 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>4.3.1.3 UI Types</b></p>
<p><b>Editor selection</b></p>
<p>The type<b> DV_EDITOR_SELECTION</b> allows the script task to access the currently</p>
<p>selected element of an editor.</p>
<p>The task is executed in context of the selection and is not callable</p>
<p>by the user without an active selection.</p>
<p><b>Name</b></p>
<p>Editor selection</p>
<p><b>Code identifier</b></p>
<p>DV_EDITOR_SELECTION</p>
<p><b>Task type interface</b></p>
<p>IProjectScriptTaskType</p>
<p><b>Parameters</b></p>
<p>MIObject selectedElement</p>
<p><b>Return type</b></p>
<p>Void</p>
<p><b>Execution</b></p>
<p>In context menu of an editor selection</p>
<p><b>Required license</b></p>
<p>Development:</p>
<p>.WF Execution:</p>
<p>CFG PRO</p>
<p><b>Editor multiple selections</b></p>
<p>The type<b> DV_EDITOR_MULTI_SELECTION</b> allows the script task to</p>
<p>access the currently selected elements of</p>
<p>an editor.</p>
<p>The task is executed in context of</p>
<p>the</p>
<p>selection and is not callable by the user without an active selection.</p>
<p>The type is also usable</p>
<p>when the DV_EDITOR_SELECTION apply.</p>
<p><b>Name</b></p>
<p>Editor multiple selections</p>
<p><b>Code identifier</b></p>
<p>DV_EDITOR_MULTI_SELECTION</p>
<p><b>Task type interface</b></p>
<p>IProjectScriptTaskType</p>
<p><b>Parameters</b></p>
<p>List&lt;MIObject&gt; selectedElements</p>
<p><b>Return type</b></p>
<p>Void</p>
<p><b>Execution</b></p>
<p>In context menu of an editor selection</p>
<p><b>Required license</b></p>
<p>Development:</p>
<p>.WF Execution:</p>
<p>CFG PRO</p>
<p><b>4.3.1.4 Generation Types</b></p>
<p><b>Generation Step</b></p>
<p>The type<b> DV_GENERATION_STEP</b> defines that the script task is executable as</p>
<p>a GenerationStep during generation.</p>
<p>The user has to explicitly create an GenerationStep in the</p>
<p>Project Settings Editor, which references the script task.</p>
<p><b>Name</b></p>
<p>Generation Step</p>
<p><b>Code identifier</b></p>
<p>DV_GENERATION_STEP</p>
<p><b>Task type interface</b></p>
<p>IProjectScriptTaskType</p>
<p><b>Parameters</b></p>
<p>EGenerationPhaseType phase</p>
<p>EGenerationProcessType processType</p>
<p>IValidationResultSink resultSink</p>
<p><b>Return type</b></p>
<p>Void</p>
<p><b>Execution</b></p>
<p>Selected as GenerationStep in GenerationProcess</p>
<p><b>Required license</b></p>
<p>Development:</p>
<p>.MD Execution:</p>
<p>none</p>
<p>See chapter 4.7.2 on page 118 for usage samples.</p>
<p><b>Custom Workflow Step</b></p>
<p>The type<b> DV_CUSTOM_WORKFLOW_STEP</b> defines that the script task is</p>
<p>executable as a CustomWorkflow step in the CustomWorkflow process.</p>
<p>The user has to explicitly</p>
<p>create an CustomWorkflow step in the Project Settings Editor, which references the script task.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>33 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>Name</b></p>
<p>Custom Workflow Step</p>
<p><b>Code identifier</b></p>
<p>DV_CUSTOM_WORKFLOW_STEP</p>
<p><b>Task type interface</b></p>
<p>IProjectScriptTaskType</p>
<p><b>Parameters</b></p>
<p>None</p>
<p><b>Return type</b></p>
<p>Void</p>
<p><b>Execution</b></p>
<p>Selected as Custom Workflow Step in the Project Settings</p>
<p><b>Required license</b></p>
<p>Development:</p>
<p>.WF Execution:</p>
<p>CFG PRO</p>
<p>See chapter 4.7.2 on page 118 for usage samples.</p>
<p><b>Generation Process Start</b></p>
<p>The type<b> DV_ON_GENERATION_START</b> defines that the script task is</p>
<p>automatically executed when the generation is started.</p>
<p><b>Name</b></p>
<p>Generation Process Start</p>
<p><b>Task type interface</b></p>
<p>IProjectScriptTaskType</p>
<p><b>Code identifier</b></p>
<p>DV_ON_GENERATION_START</p>
<p><b>Parameters</b></p>
<p>List&lt;EGenerationPhaseType&gt; generationPhases</p>
<p>List&lt;IGenerator&gt; executedGenerators</p>
<p><b>Return type</b></p>
<p>Void</p>
<p><b>Execution</b></p>
<p>Automatically before GenerationProcess</p>
<p><b>Required license</b></p>
<p>Development:</p>
<p>.MD Execution:</p>
<p>none</p>
<p>See chapter 4.7.2 on page 118 for usage samples.</p>
<p><b>Generation Process End</b></p>
<p>The type<b> DV_ON_GENERATION_END</b> defines that the script task is</p>
<p>automatically executed when the generation has finished.</p>
<p><b>Name</b></p>
<p>Generation Process End</p>
<p><b>Code identifier</b></p>
<p>DV_ON_GENERATION_END</p>
<p><b>Task type interface</b></p>
<p>IProjectScriptTaskType</p>
<p><b>Parameters</b></p>
<p>EGenerationProcessResult processResult</p>
<p>List&lt;IGenerator&gt; executedGenerators</p>
<p><b>Return type</b></p>
<p>Void</p>
<p><b>Execution</b></p>
<p>Automatically after GenerationProcess</p>
<p><b>Required license</b></p>
<p>Development:</p>
<p>.MD Execution:</p>
<p>none</p>
<p>See chapter 4.7.2 on page 118 for usage samples.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>34 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>4.4 Script Task Execution</b></p>
<p>This section lists the APIs to execute and query information for script tasks.</p>
<p>The sections</p>
<p>document the following aspects:</p>
<p>• Script task execution</p>
<p>• Logging API</p>
<p>• Path resolution</p>
<p>• Error handling</p>
<p>• User defined classes and methods</p>
<p>• User defined script task arguments</p>
<p><b>4.4.1 Execution Context</b></p>
<p>Every IScriptTask could be be executed,</p>
<p>and retrieve passed arguments and other context</p>
<p>information.</p>
<p>This execution information of a script task is tracked by the IScriptExecution-</p>
<p>Context.</p>
<p>The IScriptExecutionContext holds the context of the execution:</p>
<p>• The script task arguments</p>
<p>• The current running script task</p>
<p>• The current active script logger</p>
<p>• The active project, if existing</p>
<p>• The script temp folder</p>
<p>• The script task user defined arguments</p>
<p>The IScriptExecutionContext is also the entry point into every automation API,</p>
<p>and pro-</p>
<p>vide access to the different API classes.</p>
<p>The classes are describes in their own chapters like</p>
<p>IProjectHandlingApiEntryPoint or IWorkflowApiEntryPoint.</p>
<p>The context is immediately active, when the code block of an IScriptTask is called.</p>
<p><b>Groovy Code</b></p>
<p>The client sample illustrates the seamless usage of the IScriptExecutionCon-</p>
<p>text class in Groovy:</p>
<p>scriptTask (&quot; taskName &quot; ,</p>
<p>DV_APPLICATION ){</p>
<p>code {</p>
<p>//</p>
<p>The</p>
<p>IScriptExecutionContext</p>
<p>is</p>
<p>automatically</p>
<p>active</p>
<p>here</p>
<p>//</p>
<p>Call</p>
<p>methods</p>
<p>of</p>
<p>the</p>
<p>IScriptExecutionContext</p>
<p><b>def</b></p>
<p>logger</p>
<p>=</p>
<p>scriptLogger</p>
<p><b>def</b></p>
<p>temp</p>
<p>=</p>
<p>paths . tempFolder</p>
<p>//</p>
<p>Use</p>
<p>an</p>
<p>automation</p>
<p>API</p>
<p>workflow {</p>
<p>//</p>
<p>Now</p>
<p>the</p>
<p>Workflow</p>
<p>API</p>
<p>is</p>
<p>active</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.10: Access automation API in Groovy clients by the IScriptExecutionContext</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>35 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>In Groovy the IScriptExecutionContext is</p>
<p>automatically activated inside of</p>
<p>the code{}</p>
<p>block.</p>
<p><b>Java Code</b></p>
<p>For</p>
<p>java clients</p>
<p>the method IScriptExecutionContext.getInstance(Class)</p>
<p>provides access to the API classes, which are seamlessly available for the groovy clients:</p>
<p>//</p>
<p>Java</p>
<p>code</p>
<p>//</p>
<p>Passed</p>
<p>from</p>
<p>the</p>
<p>script</p>
<p>task :</p>
<p>IScriptExecutionContext</p>
<p>scriptContext</p>
<p>=</p>
<p>...;</p>
<p>//</p>
<p>Retrieve</p>
<p>automation</p>
<p>API</p>
<p>in</p>
<p>Java</p>
<p>IWorkflowApi</p>
<p>workflow</p>
<p>=</p>
<p>scriptContext . getInstance ( IWorkflowApiEntryPoint .<b> class</b> )</p>
<p>. getWorkflow () ;</p>
<p>IWorkflowContext</p>
<p>workflowCtx</p>
<p>=</p>
<p>workflow . getWorkflow () ;</p>
<p>//</p>
<p>In</p>
<p>groovy</p>
<p>code</p>
<p>it</p>
<p>would</p>
<p>be :</p>
<p>workflow {</p>
<p>}</p>
<p>Listing 4.11: Access to automation API in Java clients by the IScriptExecutionContext</p>
<p>In Java code the context is always the first parameter passed to every task code (see IScript-</p>
<p>TaskCode).</p>
<p><b>4.4.1.1 Code Block Arguments</b></p>
<p>The code block can have arguments passed into the script task execution.</p>
<p>The arguments passed</p>
<p>into the code{ } block are defined by the IScriptTaskType of the script task.</p>
<p>See chapter 4.3</p>
<p>on page 31 for the list of arguments (including types) passed by each individual task type.</p>
<p>scriptTask (&quot; Task &quot;) {</p>
<p>code {</p>
<p>arg1 ,</p>
<p>arg2 ,</p>
<p>...</p>
<p>-&gt;</p>
<p>//</p>
<p>arguments</p>
<p>here</p>
<p>defined</p>
<p>by</p>
<p>the</p>
<p>IScriptTaskType</p>
<p>}</p>
<p>}</p>
<p>scriptTask (&quot; Task2 &quot; ){</p>
<p>//</p>
<p>Or</p>
<p>you</p>
<p>could</p>
<p>specify</p>
<p>the</p>
<p>type</p>
<p>of</p>
<p>the</p>
<p>arguments</p>
<p>for</p>
<p>code</p>
<p>completion</p>
<p>code {</p>
<p>String</p>
<p>arg1 ,</p>
<p>List &lt; Double &gt;</p>
<p>arg2</p>
<p>-&gt;</p>
<p>}</p>
<p>}</p>
<p>Listing 4.12: Script task code block arguments</p>
<p>The arguments can also retrieved with IScriptExecutionContext.getScriptTaskArguments().</p>
<p><b>4.4.2 Task Execution Sequence</b></p>
<p>The figure 4.3 on the next page shows the overview sequence when a script task gets executed</p>
<p>by the user and the interaction with the IScriptExecutionContext.</p>
<p>Note that the context</p>
<p>gets created each time the task is executed.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>36 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>Figure 4.3: Script Task Execution Sequence</p>
<p><b>4.4.3 Script Path API during Execution</b></p>
<p>Script tasks could resolve relative and absolute file system paths with the IAutomationPat-</p>
<p>hsApi.</p>
<p>As entry point call paths in a code{ } block (see IScriptExecutionContext.getPaths()).</p>
<p>There are multiple ways to resolve relative paths:</p>
<p>• by Script folder</p>
<p>• by Temp folder</p>
<p>• by SIP folder</p>
<p>• by Project folder</p>
<p>• by any parent folder</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>37 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>4.4.3.1 Path Resolution by Parent Folder</b></p>
<p>The resolvePath(Path parent, Object path) method resolves a file path relative to supplied</p>
<p>parent folder.</p>
<p>This method converts the supplied path based on its type:</p>
<p>• A CharSequence, including String or GString.</p>
<p>Interpreted relative to the parent direc-</p>
<p>tory.</p>
<p>A string that starts with file: is treated as a file URL.</p>
<p>• A File:</p>
<p>If</p>
<p>the file is an absolute file,</p>
<p>it is returned as is.</p>
<p>Otherwise,</p>
<p>the file’s path is</p>
<p>interpreted relative to the parent directory.</p>
<p>• A Path:</p>
<p>If</p>
<p>the path is an absolute path,</p>
<p>it is returned as is.</p>
<p>Otherwise,</p>
<p>the path is</p>
<p>interpreted relative to the parent directory.</p>
<p>• A URI or URL: The URL’s path is interpreted as the file path.</p>
<p>Currently, only file: URLs</p>
<p>are supported.</p>
<p>• A IHasURI: The returned URI is interpreted as defined above.</p>
<p>• A Closure:</p>
<p>The closure’s return value is resolved recursively.</p>
<p>• A Callable:</p>
<p>The callable’s return value is resolved recursively.</p>
<p>• A Supplier:</p>
<p>The supplier’s return value is resolved recursively.</p>
<p>• A Provider:</p>
<p>The provider’s return value is resolved recursively.</p>
<p>The return type is java.nio.file.Path.</p>
<p>scriptTask (&quot; TaskName &quot;){</p>
<p>code {</p>
<p>//</p>
<p>Method</p>
<p>resolvePath ( Path ,</p>
<p>Object )</p>
<p>resolves</p>
<p>a</p>
<p>path</p>
<p>relative</p>
<p>to</p>
<p>the</p>
<p>supplied</p>
<p>folder</p>
<p>Path</p>
<p>parentFolder</p>
<p>=</p>
<p>Paths . get ( '. ')</p>
<p>Path</p>
<p>p</p>
<p>=</p>
<p>paths . resolvePath ( parentFolder ,</p>
<p>&quot; MyFile . txt &quot; )</p>
<p>/*</p>
<p>The</p>
<p>resolvePath ( Path ,</p>
<p>Object )</p>
<p>method</p>
<p>will</p>
<p>resolve</p>
<p>*</p>
<p>relative</p>
<p>and</p>
<p>absolute</p>
<p>paths</p>
<p>to</p>
<p>a</p>
<p>java . nio . file . Path</p>
<p>object .</p>
<p>*/</p>
<p>}</p>
<p>}</p>
<p>Listing 4.13: Resolves a path with the resolvePath() method</p>
<p><b>4.4.3.2 Path Resolution</b></p>
<p>The resolvePath(Object) method resolves the Object to a file path.</p>
<p>Relative paths are</p>
<p>preserved, so relative paths are not converted into absolute paths.</p>
<p>This method converts the supplied path same as the resolvePath(Path, Object) method.</p>
<p>The return type is java.nio.file.Path.</p>
<p>See 4.4.3.1.</p>
<p>But it does<b> NOT</b> convert relative paths</p>
<p>into absolute.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>38 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>scriptTask (&quot; TaskName &quot;){</p>
<p>code {</p>
<p>//</p>
<p>Method</p>
<p>resolvePath ()</p>
<p>resolves</p>
<p>a</p>
<p>path</p>
<p>and</p>
<p>preserve</p>
<p>relative</p>
<p>paths</p>
<p>Path</p>
<p>p</p>
<p>=</p>
<p>paths . resolvePath (&quot; MyFile . txt &quot;)</p>
<p>/*</p>
<p>The</p>
<p>resolvePath ()</p>
<p>method</p>
<p>will</p>
<p>resolve</p>
<p>*</p>
<p>relative</p>
<p>and</p>
<p>absolute</p>
<p>paths</p>
<p>to</p>
<p>a</p>
<p>java . nio . file . Path</p>
<p>object .</p>
<p>*</p>
<p>Is</p>
<p>also</p>
<p>preserves</p>
<p>relative</p>
<p>paths .</p>
<p>*/</p>
<p>}</p>
<p>}</p>
<p>Listing 4.14: Resolves a path with the resolvePath() method</p>
<p><b>4.4.3.3 Script Folder Path Resolution</b></p>
<p>The resolveScriptPath(Object) method resolves a file path relative to the script directory</p>
<p>of the executed IScript.</p>
<p>This method converts the supplied path same as the resolvePath(Path, Object) method.</p>
<p>The return type is java.nio.file.Path.</p>
<p>See 4.4.3.1 on the previous page.</p>
<p>scriptTask (&quot; TaskName &quot;){</p>
<p>code {</p>
<p>//</p>
<p>Method</p>
<p>resolveScriptPath ()</p>
<p>resolves</p>
<p>a</p>
<p>path</p>
<p>relative</p>
<p>to</p>
<p>the</p>
<p>script</p>
<p>folder</p>
<p>Path</p>
<p>p</p>
<p>=</p>
<p>paths . resolveScriptPath (&quot; MyFile . txt &quot;)</p>
<p>/*</p>
<p>The</p>
<p>resolveScriptPath ()</p>
<p>method</p>
<p>will</p>
<p>resolve</p>
<p>*</p>
<p>relative</p>
<p>and</p>
<p>absolute</p>
<p>paths</p>
<p>to</p>
<p>a</p>
<p>java . nio . file . Path</p>
<p>object .</p>
<p>*/</p>
<p>}</p>
<p>}</p>
<p>Listing 4.15: Resolves a path with the resolveScriptPath() method</p>
<p><b>4.4.3.4 Project Folder Path Resolution</b></p>
<p>The resolveProjectPath(Object) method resolves a file path relative to the project directory</p>
<p>(see getDpaProjectFolder()) of the current active project.</p>
<p>This method converts the supplied path same as the resolvePath(Path, Object) method.</p>
<p>The return type is java.nio.file.Path.</p>
<p>See 4.4.3.1 on the preceding page.</p>
<p>There must be an active project to use this method.</p>
<p>See chapter 4.5.2 on page 56 for details</p>
<p>about active projects.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>39 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>scriptTask (&quot; TaskName &quot;){</p>
<p>code {</p>
<p>//</p>
<p>Method</p>
<p>resolveProjectPath ()</p>
<p>resolves</p>
<p>a</p>
<p>path</p>
<p>relative</p>
<p>active</p>
<p>project</p>
<p>folder</p>
<p>Path</p>
<p>p</p>
<p>=</p>
<p>paths . resolveProjectPath ( &quot; MyFile . txt &quot; )</p>
<p>/*</p>
<p>The</p>
<p>resolveProjectPath ()</p>
<p>method</p>
<p>will</p>
<p>resolve</p>
<p>*</p>
<p>relative</p>
<p>and</p>
<p>absolute</p>
<p>paths</p>
<p>to</p>
<p>a</p>
<p>java . nio . file . Path</p>
<p>object .</p>
<p>*/</p>
<p>}</p>
<p>}</p>
<p>Listing 4.16: Resolves a path with the resolveProjectPath() method</p>
<p><b>4.4.3.5 SIP Folder Path Resolution</b></p>
<p>The resolveSipPath(Object) method resolves a file path relative to the SIP directory (see</p>
<p>getSipRootFolder()).</p>
<p>This method converts the supplied path same as the resolvePath(Path, Object) method.</p>
<p>The return type is java.nio.file.Path.</p>
<p>See 4.4.3.1 on page 38.</p>
<p>scriptTask (&quot; TaskName &quot;){</p>
<p>code {</p>
<p>//</p>
<p>Method</p>
<p>resolveSipPath ()</p>
<p>resolves</p>
<p>a</p>
<p>path</p>
<p>relative</p>
<p>SIP</p>
<p>folder</p>
<p>Path</p>
<p>p</p>
<p>=</p>
<p>paths . resolveSipPath ( &quot; MyFile . txt &quot;)</p>
<p>/*</p>
<p>The</p>
<p>resolveSipPath ()</p>
<p>method</p>
<p>will</p>
<p>resolve</p>
<p>*</p>
<p>relative</p>
<p>and</p>
<p>absolute</p>
<p>paths</p>
<p>to</p>
<p>a</p>
<p>java . nio . file . Path</p>
<p>object .</p>
<p>*/</p>
<p>}</p>
<p>}</p>
<p>Listing 4.17: Resolves a path with the resolveSipPath() method</p>
<p><b>4.4.3.6 Temp Folder Path Resolution</b></p>
<p>The resolveTempPath(Object) method resolves a file path relative to the script temp di-</p>
<p>rectory of</p>
<p>the executed IScript.</p>
<p>A new temporary folder is created for each IScriptTask</p>
<p>execution.</p>
<p>This method converts the supplied path same as the resolvePath(Path, Object) method.</p>
<p>The return type is java.nio.file.Path.</p>
<p>See 4.4.3.1 on page 38.</p>
<p>scriptTask (&quot; TaskName &quot;){</p>
<p>code {</p>
<p>//</p>
<p>Method</p>
<p>resolveTempPath ()</p>
<p>resolves</p>
<p>a</p>
<p>path</p>
<p>relative</p>
<p>to</p>
<p>the</p>
<p>temp</p>
<p>folder</p>
<p>Path</p>
<p>p</p>
<p>=</p>
<p>paths . resolveTempPath (&quot; MyFile . txt &quot;)</p>
<p>/*</p>
<p>The</p>
<p>resolveTempPath ()</p>
<p>method</p>
<p>will</p>
<p>resolve</p>
<p>*</p>
<p>relative</p>
<p>and</p>
<p>absolute</p>
<p>paths</p>
<p>to</p>
<p>a</p>
<p>java . nio . file . Path</p>
<p>object .</p>
<p>*/</p>
<p>}</p>
<p>}</p>
<p>Listing 4.18: Resolves a path with the resolveTempPath() method</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>40 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>4.4.3.7 Other Project and Application Paths</b></p>
<p>The IAutomationPathsApi will also resolve any other Vector provided path variable like $(Ecu-</p>
<p>cFile).</p>
<p>The call</p>
<p>would be paths.ecucFile,</p>
<p>add the variable to resolve as a Groovy pro-</p>
<p>perty.</p>
<p>Short list of available variables (not complete,</p>
<p>please see DaVinci</p>
<p>Configurator help for more</p>
<p>details):</p>
<p>• EcucFile</p>
<p>• OutputFolder</p>
<p>• SystemFolder</p>
<p>• AutosarFolder</p>
<p>• more ...</p>
<p>scriptTask (&quot; TaskName &quot; ,</p>
<p>DV_PROJECT ){</p>
<p>code {</p>
<p>//</p>
<p>The</p>
<p>property</p>
<p>OutputFolder</p>
<p>is</p>
<p>the</p>
<p>folder</p>
<p>of</p>
<p>the</p>
<p>generated</p>
<p>artifacts</p>
<p>Path</p>
<p>folder</p>
<p>=</p>
<p>paths . outputFolder</p>
<p>}</p>
<p>}</p>
<p>Listing 4.19: Get the project output folder path</p>
<p>scriptTask (&quot; TaskName &quot;){</p>
<p>code {</p>
<p>//</p>
<p>The</p>
<p>property</p>
<p>sipRootFolder</p>
<p>is</p>
<p>the</p>
<p>folder</p>
<p>of</p>
<p>the</p>
<p>used</p>
<p>SIP</p>
<p>Path</p>
<p>folder</p>
<p>=</p>
<p>paths . sipRootFolder</p>
<p>}</p>
<p>}</p>
<p>Listing 4.20: Get the SIP folder path</p>
<p><b>4.4.4 Script logging API</b></p>
<p>The script task execution (IScriptExecutionContext) provides a script logger to log events</p>
<p>during an execution.</p>
<p>The method getScriptLogger() returns the logger.</p>
<p>The logger can be</p>
<p>used to log:</p>
<p>• Errors</p>
<p>• Warnings</p>
<p>• Debug messages</p>
<p>• More...</p>
<p>You shall</p>
<p><b>always prefer</b> the usage of</p>
<p>the<b> logger</b> before using the println() of</p>
<p>stdout or</p>
<p>stderr.</p>
<p>In any code block without direct access to the script API, you can write the following code to</p>
<p>access the logger:</p>
<p>ScriptApi.scriptLogger</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>41 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>scriptTask (&quot; TaskName &quot;){</p>
<p>code {</p>
<p>//</p>
<p>Use</p>
<p>the</p>
<p>scriptLogger</p>
<p>to</p>
<p>log</p>
<p>messages</p>
<p>scriptLogger . info</p>
<p>&quot; My</p>
<p>script</p>
<p>is</p>
<p>running &quot;</p>
<p>scriptLogger . warn</p>
<p>&quot; My</p>
<p>Warning &quot;</p>
<p>scriptLogger . error</p>
<p>&quot; My</p>
<p>Error &quot;</p>
<p>scriptLogger . debug</p>
<p>&quot; My</p>
<p>debug</p>
<p>message &quot;</p>
<p>scriptLogger . trace</p>
<p>&quot; My</p>
<p>trace</p>
<p>message &quot;</p>
<p>//</p>
<p>Also</p>
<p>log</p>
<p>an</p>
<p>Exception</p>
<p>as</p>
<p>second</p>
<p>argument</p>
<p>scriptLogger . error (&quot; My</p>
<p>Error &quot; ,</p>
<p><b>new</b></p>
<p>RuntimeException ( &quot; MyException &quot; ))</p>
<p>}</p>
<p>}</p>
<p>Listing 4.21: Usage of the script logger</p>
<p>The ILogger also provides a formatting syntax for the format String.</p>
<p>The syntax is {Index-</p>
<p>Number} and the index of arguments after the format String.</p>
<p>It is also possible to use the Groovy GString syntax for formatting.</p>
<p>scriptTask (&quot; TaskName &quot;){</p>
<p>code {</p>
<p>argument</p>
<p>-&gt;</p>
<p>//</p>
<p>Use</p>
<p>the</p>
<p>format</p>
<p>methods</p>
<p>to</p>
<p>insert</p>
<p>data</p>
<p>scriptLogger . infoFormat ( &quot; My</p>
<p>script</p>
<p>{0}</p>
<p>with :{1} &quot; ,</p>
<p>scriptTask ,</p>
<p>argument )</p>
<p>}</p>
<p>}</p>
<p>Listing 4.22: Usage of the script logger with message formatting</p>
<p>scriptTask (&quot; TaskName &quot;){</p>
<p>code {</p>
<p>argument</p>
<p>-&gt;</p>
<p>//</p>
<p>Use</p>
<p>the</p>
<p>Groovy</p>
<p>GString</p>
<p>syntax</p>
<p>to</p>
<p>insert</p>
<p>data</p>
<p>scriptLogger . info</p>
<p>&quot; My</p>
<p>script</p>
<p>$scriptTask</p>
<p>with :</p>
<p>$argument &quot;</p>
<p>}</p>
<p>}</p>
<p>Listing 4.23: Usage of the script logger with Groovy GString message formatting</p>
<p><b>4.4.5 User Interactions and Inputs</b></p>
<p>The UserInteraction and UserInput API provides methods to directly communicate with the</p>
<p>user via MessageBoxes, Input dialogs or report progress of long running operations.</p>
<p>You should use the API only if you want do communicate directly with the user, because some</p>
<p>API calls may block and wait for user interaction.</p>
<p>So you should not use the API for batch</p>
<p>jobs.</p>
<p><b>4.4.5.1 UserInteraction</b></p>
<p>The UserInteraction API provides methods to display messages to the user directly.</p>
<p>In UI</p>
<p>mode the DaVinci</p>
<p>Configurator will</p>
<p>prompt a message box an will</p>
<p>block until</p>
<p>the user has</p>
<p>acknowledged the message.</p>
<p>In console (non UI) mode, the message is logged to the console in</p>
<p>a user logger.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>42 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>The user logger will display error, warnings and infos by default.</p>
<p>The logger name will not be</p>
<p>displayed.</p>
<p>The user interaction is good to display information where the user has to respond to immediately.</p>
<p>Please use the feature sparingly, because users do not like to acknowledge multiple messages for</p>
<p>a single script task execution.</p>
<p>The code block userInteractions{} provides the API</p>
<p>inside of</p>
<p>the block.</p>
<p>The following</p>
<p>methods can be used:</p>
<p>• errorToUser()</p>
<p>• warnToUser()</p>
<p>• infoToUser()</p>
<p>• messageToUser(ELogLevel, Object)</p>
<p>The severity (error, warning, info) will change the display (icons, text) of the message box.</p>
<p>No</p>
<p>other semantic is applied by the severity.</p>
<p>scriptTask (&quot; TaskName &quot; ,</p>
<p>DV_APPLICATION ){</p>
<p>code {</p>
<p>userInteractions {</p>
<p>warnToUser ( &quot; Warning</p>
<p>displayed</p>
<p>to</p>
<p>the</p>
<p>user</p>
<p>as</p>
<p>message</p>
<p>box &quot; )</p>
<p>}</p>
<p>//</p>
<p>You</p>
<p>could</p>
<p>also</p>
<p>write</p>
<p>userInteractions . errorToUser ( &quot; Error</p>
<p>message</p>
<p>for</p>
<p>the</p>
<p>user &quot;)</p>
<p>}</p>
<p>}</p>
<p>Listing 4.24: UserInteraction from a script</p>
<p><b>4.4.5.2 Progress Indication</b></p>
<p>If you perform long running operations in a script task,</p>
<p>you should display some progress to</p>
<p>the user,</p>
<p>otherwise the user may cancel</p>
<p>the whole execution.</p>
<p>The progress API will</p>
<p>display</p>
<p>the progress of</p>
<p>the currently running script task by the information provided by the script</p>
<p>code.</p>
<p>The method progress(String, Closure) displays the passed message in progress information</p>
<p>dialog and executed the code block.</p>
<p>So the message is displayed until</p>
<p>the code block has</p>
<p>finished.</p>
<p>userInteractions . progress ( &quot; The</p>
<p>text</p>
<p>for</p>
<p>the</p>
<p>user &quot; ) {</p>
<p>//</p>
<p>Here</p>
<p>the</p>
<p>code</p>
<p>of</p>
<p>the</p>
<p>long</p>
<p>running</p>
<p>operation</p>
<p>}</p>
<p>Listing 4.25: Display progress to the user</p>
<p>You could also nest multiple progress() calls.</p>
<p>When a progress block is left, the parent progress</p>
<p>text will be displayed again.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>43 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>userInteractions {</p>
<p>progress ( &quot; The</p>
<p>text</p>
<p>for</p>
<p>the</p>
<p>user &quot; ){</p>
<p>//</p>
<p>Here</p>
<p>the</p>
<p>code</p>
<p>of</p>
<p>the</p>
<p>long</p>
<p>running</p>
<p>operation</p>
<p>progress ( &quot; Inner</p>
<p>operation &quot;) {</p>
<p>//</p>
<p>Here</p>
<p>code</p>
<p>of</p>
<p>inner</p>
<p>operation</p>
<p>}</p>
<p>}</p>
<p>progress ( &quot; Second</p>
<p>operation &quot; ) {</p>
<p>// Code</p>
<p>of</p>
<p>the</p>
<p>second</p>
<p>operation</p>
<p>}</p>
<p>}</p>
<p>Listing 4.26: Display progress to the user nested</p>
<p>The method progress(String, int, Closure) updates the progress information for the user</p>
<p>with the message, during the code is running with work ticks.</p>
<p>It also indicates progress in the progress bar, but you have to set the total amount of work.</p>
<p>The</p>
<p>total work will be taken from the parent and sets the remaining work for the code block.</p>
<p>The root script task always starts with totalWork of</p>
<p>1000 ticks, so you have to consume 1000</p>
<p>ticks to fill the progress bar.</p>
<p>userInteractions {</p>
<p>progress ( &quot; The</p>
<p>text</p>
<p>for</p>
<p>the</p>
<p>user &quot; ,</p>
<p>1000) {</p>
<p>worked (100)</p>
<p>progress ( &quot; Inner</p>
<p>operation &quot; ,</p>
<p>400) {</p>
<p>// 100</p>
<p>ticks</p>
<p>worked (200)</p>
<p>// 300</p>
<p>ticks</p>
<p>}</p>
<p>//</p>
<p>half</p>
<p>reached</p>
<p>-</p>
<p>500</p>
<p>ticks</p>
<p>progress ( &quot; Inner</p>
<p>operation &quot; ,</p>
<p>200) {</p>
<p>worked (100)</p>
<p>//</p>
<p>600</p>
<p>ticks</p>
<p>reached</p>
<p>}</p>
<p>//</p>
<p>700</p>
<p>ticks</p>
<p>reached</p>
<p>}</p>
<p>//</p>
<p>All</p>
<p>1000</p>
<p>ticks</p>
<p>done ,</p>
<p>the</p>
<p>progress</p>
<p>bar</p>
<p>is</p>
<p>now</p>
<p>full !</p>
<p>}</p>
<p>Listing 4.27: Display progress to the user with progress bar work</p>
<p><b>Eclipse API</b></p>
<p>You can also use the underlying Eclipse API to fine grain control</p>
<p>the progress</p>
<p>bar and information data.</p>
<p>To do this use the getProgressMonitor() method to retrieve the</p>
<p>Eclipse SubMonitor.</p>
<p>See also the Eclipse API SubMonitor.setWorkRemaining(int) to scale</p>
<p>your own work to different values (also more than 1000 ticks).</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>44 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>4.4.6 Script Error Handling</b></p>
<p><b>4.4.6.1 Script Exceptions</b></p>
<p>All exceptions thrown by any script task execution are sub types of ScriptingException.</p>
<p>Figure 4.4: ScriptingException and sub types</p>
<p><b>4.4.6.2 Script Task Abortion by Exception</b></p>
<p>The script task can throw an ScriptClientExecutionException to abort the execution of an</p>
<p>IScriptTask, and display a meaningful message to the user.</p>
<p>scriptTask (&quot; TaskName &quot;){</p>
<p>code {</p>
<p>//</p>
<p>Stop</p>
<p>the</p>
<p>execution</p>
<p>and</p>
<p>display</p>
<p>a</p>
<p>message</p>
<p>to</p>
<p>the</p>
<p>user</p>
<p><b>throw</b></p>
<p><b>new</b></p>
<p>ScriptClientExecutionException ( &quot; Message</p>
<p>to</p>
<p>the</p>
<p>User &quot; )</p>
<p>}</p>
<p>}</p>
<p>Listing 4.28: Stop script task execution by throwing an ScriptClientExecutionException</p>
<p><b>Exception with Console Return Code</b></p>
<p>An ScriptClientExecutionException with an return</p>
<p>code of type Integer will also abort the execution of the IScriptTask.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>45 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>But it<i> also changes the return code</i> of the console application, if the IScriptTask was executed</p>
<p>in the console application.</p>
<p>This could be used when the console application of</p>
<p>the DaVinci</p>
<p>Configurator is called for other scripts or batch files.</p>
<p>scriptTask (&quot; TaskName &quot;){</p>
<p>code {</p>
<p>//</p>
<p>The</p>
<p>return</p>
<p>code</p>
<p>will</p>
<p>be</p>
<p>returned</p>
<p>by</p>
<p>the</p>
<p>DvCmd . exe</p>
<p>process</p>
<p><b>def</b></p>
<p>returnCode</p>
<p>=</p>
<p>50</p>
<p><b>throw</b></p>
<p><b>new</b></p>
<p>ScriptClientExecutionException ( returnCode ,</p>
<p>&quot; Message</p>
<p>to</p>
<p>the</p>
<p>User &quot; )</p>
<p>}</p>
<p>}</p>
<p>Listing 4.29: Changing</p>
<p>the</p>
<p>return</p>
<p>code</p>
<p>of</p>
<p>the</p>
<p>console</p>
<p>application</p>
<p>by</p>
<p>throwing</p>
<p>an</p>
<p>ScriptClientExecutionException</p>
<p><b>Reserved Return Codes</b></p>
<p>The returns codes 0-20 are reversed for internal use of the DaVinci</p>
<p>Configurator, and are not allowed to be used by a client script.</p>
<p>Also negative returns codes are</p>
<p>not permitted.</p>
<p><b>4.4.6.3 Unhandled Exceptions from Tasks</b></p>
<p>When a script task execution throws any type of</p>
<p>Exception (more precise Throwable) the</p>
<p>script task is marked as failed and the Exception is reported to the user.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>46 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>4.4.7 User defined Classes and Methods</b></p>
<p>You can define your own methods and classes in a script file.</p>
<p>The methods a called like any</p>
<p>other method.</p>
<p>scriptTask (&quot; Task &quot;) {</p>
<p>code {</p>
<p>userMethod ()</p>
<p>}</p>
<p>}</p>
<p><b>def</b></p>
<p>userMethod () {</p>
<p><b>return</b></p>
<p>&quot; UserString &quot;</p>
<p>}</p>
<p>Listing 4.30: Using your own defined method</p>
<p>Classes can be used like any other class.</p>
<p>It is also possible to define multiple classes in the</p>
<p>script file.</p>
<p>scriptTask (&quot; Task &quot;) {</p>
<p>code {</p>
<p><b>new</b></p>
<p>UserClass () . userMethod ()</p>
<p>}</p>
<p>}</p>
<p><b>class</b></p>
<p>UserClass {</p>
<p><b>def</b></p>
<p>userMethod () {</p>
<p><b>return</b></p>
<p>&quot; ReturnValue &quot;</p>
<p>}</p>
<p>}</p>
<p>Listing 4.31: Using your own defined class</p>
<p>You can also create classes in different files, but then you have to write imports in your script</p>
<p>like in normal Groovy or Java code.</p>
<p>The script should be structured as any other development project, so if the script file gets too</p>
<p>big, please refactor the parts into multiple classes and so on.</p>
<p><b>daVinci</b></p>
<p><b>Block</b></p>
<p>The classes and methods must be outside of the daVinci{ } block.</p>
<p><b>import</b></p>
<p><b>static</b></p>
<p>com . vector . cfg . automation . api . ScriptApi .*</p>
<p>daVinci {</p>
<p>scriptTask ( &quot; Task &quot; ) {</p>
<p>code {}</p>
<p>}</p>
<p>}</p>
<p><b>def</b></p>
<p>userMethod () {}</p>
<p><b>class</b></p>
<p>UserClass {}</p>
<p>Listing 4.32: Using your own defined method with a daVinci block</p>
<p><b>Code Completion</b></p>
<p>Note that the code completion for the Automation API will not work auto-</p>
<p>matically in own defined classes and methods.</p>
<p>You have to open for example a scriptCode{}</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>47 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>block.</p>
<p>The chapter 4.4.8 describes how to use the Automation API for your own defined classes</p>
<p>and methods.</p>
<p><b>4.4.8 Usage of Automation API in own defined Classes and Methods</b></p>
<p>In your own methods and classes the automation API is not automatically available differently</p>
<p>as inside of the script task code{} block.</p>
<p>But it is often the case, that methods need access to</p>
<p>the automation API.</p>
<p>The class<b> ScriptApi provides static methods as entry points</b> into the automation API.</p>
<p>The static methods either return the API objects,</p>
<p>or you could pass a Closure,</p>
<p>which will</p>
<p>activate the API inside of the Closure.</p>
<p><b>4.4.8.1 Access the Automation API like the Script code{} Block</b></p>
<p>The ScriptApi.scriptCode(Closure) method provides access to all</p>
<p>automation APIs the</p>
<p>same way as inside of the normal script code{} block.</p>
<p>This is useful,</p>
<p>when you want to call</p>
<p>script code API inside of</p>
<p>your own methods and clas-</p>
<p>ses.</p>
<p>def</p>
<p>yourMethod () {</p>
<p>//</p>
<p>Needs</p>
<p>access</p>
<p>to</p>
<p>an</p>
<p>automation</p>
<p>API</p>
<p>ScriptApi . scriptCode {</p>
<p>//</p>
<p>API</p>
<p>is</p>
<p>now</p>
<p>available</p>
<p>workflow . update ()</p>
<p>}</p>
<p>}</p>
<p>Listing 4.33: ScriptApi.scriptCode{} usage in own method</p>
<p>The ScriptApi.scriptCode() method can be used to call API in Java style.</p>
<p>def</p>
<p>yourMethod () {</p>
<p>//</p>
<p>Needs</p>
<p>access</p>
<p>to</p>
<p>an</p>
<p>automation</p>
<p>API</p>
<p>ScriptApi . scriptCode () . workflow . update ()</p>
<p>}</p>
<p>Listing 4.34: ScriptApi.scriptCode() usage in own method</p>
<p>Java note:</p>
<p>The ScriptApi.scriptCode() returns the IScriptExecutionContext.</p>
<p><b>4.4.8.2 Access the Project API of the current active Project</b></p>
<p>The ScriptApi.activeProject() method provides access to the project automation API of</p>
<p>the currently active project.</p>
<p>This is useful,</p>
<p>when you want to call</p>
<p>project API inside of your</p>
<p>own methods and classes.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>48 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>def</p>
<p>yourMethod () {</p>
<p>//</p>
<p>Needs</p>
<p>access</p>
<p>to</p>
<p>an</p>
<p>automation</p>
<p>API</p>
<p>ScriptApi . activeProject {</p>
<p>//</p>
<p>Project</p>
<p>API</p>
<p>is</p>
<p>now</p>
<p>available</p>
<p>transaction {</p>
<p>//</p>
<p>Now</p>
<p>model</p>
<p>modifications</p>
<p>are</p>
<p>allowed</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.35: ScriptApi.activeProject{} usage in own method</p>
<p>The ScriptApi.activeProject() method returns the current active IProject.</p>
<p>def</p>
<p>yourMethod () {</p>
<p>//</p>
<p>Needs</p>
<p>access</p>
<p>to</p>
<p>an</p>
<p>automation</p>
<p>API</p>
<p>IProject</p>
<p>theActiveProject</p>
<p>=</p>
<p>ScriptApi . activeProject ()</p>
<p>}</p>
<p>Listing 4.36: ScriptApi.activeProject() usage in own method</p>
<p><b>4.4.9 User defined Script Task Arguments</b></p>
<p>A script task can create IScriptTaskUserDefinedArgument,</p>
<p>which can be set by the user</p>
<p>(e.g.</p>
<p>from the commandline) to pass user defined arguments to the script task execution.</p>
<p>An</p>
<p>argument can be optional or required.</p>
<p>The arguments are type safe and checked before the task</p>
<p>is executed.</p>
<p>Possible valueTypes are:</p>
<p>• String</p>
<p>• Boolean</p>
<p>• Void:</p>
<p>For parameter where only the existence is relevant.</p>
<p>• File:</p>
<p>The existence of the file is not checked by default.</p>
<p>See argument validators.</p>
<p>• Path:</p>
<p>Same as File</p>
<p>• Integer</p>
<p>• Long</p>
<p>• Double</p>
<p>The help text</p>
<p>is</p>
<p>automatically expanded with the help for</p>
<p>user</p>
<p>defined script</p>
<p>task argu-</p>
<p>ments.</p>
<p>scriptTask (&quot; TaskName &quot;){</p>
<p>//</p>
<p>newUserDefinedArgument ( String</p>
<p>argName ,</p>
<p>Class &lt;T &gt;</p>
<p>valueType ,</p>
<p>String</p>
<p>help )</p>
<p><b>def</b></p>
<p>procArg</p>
<p>=</p>
<p>newUserDefinedArgument ( &quot;p &quot; ,</p>
<p>Void ,</p>
<p>&quot; Enables</p>
<p>the</p>
<p>processing</p>
<p>of</p>
<p>... &quot; )</p>
<p>code {</p>
<p><b>if</b> ( procArg . hasValue ){</p>
<p>scriptLogger . info</p>
<p>&quot; The</p>
<p>argument</p>
<p>-p</p>
<p>was</p>
<p>defined &quot;</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.37: Script task UserDefined argument with no value</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>49 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>scriptTask (&quot; TaskName &quot;){</p>
<p>/*</p>
<p>*</p>
<p>newUserDefinedArgument ( String</p>
<p>argName ,</p>
<p>Class &lt;T &gt;</p>
<p>valueType ,</p>
<p>String</p>
<p>help )</p>
<p>*/</p>
<p><b>def</b></p>
<p>countArg</p>
<p>=</p>
<p>newUserDefinedArgument (&quot; count &quot; ,</p>
<p>Integer ,</p>
<p>&quot; The</p>
<p>amount</p>
<p>of</p>
<p>elements</p>
<p>to</p>
<p>create &quot; )</p>
<p><b>def</b></p>
<p>nameArg</p>
<p>=</p>
<p>newUserDefinedArgument ( &quot; name &quot; ,</p>
<p>String ,</p>
<p>&quot; The</p>
<p>element</p>
<p>name</p>
<p>to</p>
<p>create &quot;)</p>
<p>code {</p>
<p><b>int</b></p>
<p>count</p>
<p>=</p>
<p>countArg . value</p>
<p>String</p>
<p>name</p>
<p>=</p>
<p>nameArg . value</p>
<p>scriptLogger . info</p>
<p>&quot; The</p>
<p>arguments</p>
<p>-- name</p>
<p>and</p>
<p>-- count</p>
<p>were</p>
<p>$name ,</p>
<p>$count &quot;</p>
<p>}</p>
<p>}</p>
<p>Listing 4.38: Define and use script task user defined arguments from commandline</p>
<p>scriptTask (&quot; TaskName &quot;){</p>
<p>/*</p>
<p>*</p>
<p>newUserDefinedArgument ( String</p>
<p>argName ,</p>
<p>Class &lt;T &gt;</p>
<p>valueType ,</p>
<p>*</p>
<p>T</p>
<p>defaultValue ,</p>
<p>String</p>
<p>help )</p>
<p>*/</p>
<p><b>def</b></p>
<p>procArg</p>
<p>=</p>
<p>newUserDefinedArgument ( &quot;p &quot; ,</p>
<p>Double ,</p>
<p>25.0 ,</p>
<p>//</p>
<p>The</p>
<p>Default</p>
<p>value</p>
<p>&quot; Help</p>
<p>text</p>
<p>... &quot; )</p>
<p>code {</p>
<p><b>double</b></p>
<p>value</p>
<p>=</p>
<p>procArg . value</p>
<p>scriptLogger . info</p>
<p>&quot; The</p>
<p>argument</p>
<p>-p</p>
<p>was</p>
<p>$value &quot;</p>
<p>}</p>
<p>}</p>
<p>Listing 4.39: Script task UserDefined argument with default value</p>
<p>scriptTask (&quot; TaskName &quot;){</p>
<p>/*</p>
<p>*</p>
<p>newUserDefinedArgument ( String</p>
<p>argName ,</p>
<p>Class &lt;T &gt;</p>
<p>valueType ,</p>
<p>String</p>
<p>help )</p>
<p>*/</p>
<p><b>def</b></p>
<p>multiArg</p>
<p>=</p>
<p>newUserDefinedArgument (&quot; multiArg &quot; ,</p>
<p>String ,</p>
<p>&quot; Help</p>
<p>text</p>
<p>... &quot; )</p>
<p>/*</p>
<p>*</p>
<p>The</p>
<p>client</p>
<p>calls</p>
<p>the</p>
<p>task</p>
<p>with</p>
<p>arguments :</p>
<p>*</p>
<p>-- multiArg</p>
<p>&quot; ArgOne &quot;</p>
<p>-- multiArg</p>
<p>&quot; ArgTwo &quot;</p>
<p>*/</p>
<p>code {</p>
<p>List &lt; String &gt;</p>
<p>values</p>
<p>=</p>
<p>multiArg . values</p>
<p>//</p>
<p>Call</p>
<p>values</p>
<p>instead</p>
<p>of</p>
<p>value</p>
<p>scriptLogger . info</p>
<p>&quot; The</p>
<p>argument</p>
<p>-- multiArg</p>
<p>had</p>
<p>values :</p>
<p>$values &quot;</p>
<p>}</p>
<p>}</p>
<p>Listing 4.40: Script task UserDefined argument with multiple values</p>
<p><b>4.4.9.1 User defined Argument Validators</b></p>
<p>You could also specify a validator for the argument to check for special</p>
<p>conditions,</p>
<p>like the</p>
<p>file must exist.</p>
<p>This is helpful</p>
<p>to provide a quick feedback to the user,</p>
<p>if</p>
<p>the task would be</p>
<p>executable.</p>
<p>Simply add the validator at the end of the newUserDefinedArgument() call.</p>
<p>The</p>
<p>validator code is called when the input is checked.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>50 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>There are also default validators available, like:</p>
<p>• Constraints.IS_EXISTING_FOLDER</p>
<p>• Constraints.IS_EXISTING_FILE</p>
<p>• Constraints.IS_VALID_AUTOSAR_SHORT_NAME</p>
<p>Please see chapter 4.12.1 on page 222 for more available validators.</p>
<p><b>import</b></p>
<p>com . vector . cfg . business . Constraints</p>
<p>scriptTask (&quot; TaskName &quot;){</p>
<p>/*</p>
<p>*</p>
<p>newUserDefinedArgument ( String</p>
<p>argName ,</p>
<p>Class &lt;T &gt;</p>
<p>valueType ,</p>
<p>*</p>
<p>T</p>
<p>defaultValue ,</p>
<p>String</p>
<p>help ,</p>
<p>Consumer &lt;T &gt;</p>
<p>validator )</p>
<p>*/</p>
<p><b>def</b></p>
<p>contArg</p>
<p>=</p>
<p>newUserDefinedArgument ( &quot;p &quot; ,</p>
<p>String ,</p>
<p>&quot; Help</p>
<p>text</p>
<p>... &quot; ,</p>
<p>Constraints .</p>
<p>IS_VALID_AUTOSAR_SHORT_NAME_PATH )</p>
<p>code {</p>
<p>String</p>
<p>value</p>
<p>=</p>
<p>contArg . value</p>
<p>scriptLogger . info</p>
<p>&quot; The</p>
<p>argument</p>
<p>-p</p>
<p>was</p>
<p>$value &quot;</p>
<p>}</p>
<p>}</p>
<p>Listing 4.41: Script task UserDefined argument with predefined validator</p>
<p>Or you implement your own validation logic, by passing a Closure, which throws an exception,</p>
<p>if the value is invalid.</p>
<p>scriptTask (&quot; TaskName &quot;){</p>
<p>/*</p>
<p>*</p>
<p>newUserDefinedArgument ( String</p>
<p>argName ,</p>
<p>Class &lt;T &gt;</p>
<p>valueType ,</p>
<p>*</p>
<p>T</p>
<p>defaultValue ,</p>
<p>String</p>
<p>help ,</p>
<p>Consumer &lt;T &gt;</p>
<p>validator )</p>
<p>*/</p>
<p><b>def</b></p>
<p>procArg</p>
<p>=</p>
<p>newUserDefinedArgument ( &quot;p &quot; ,</p>
<p>Integer ,</p>
<p>20 ,</p>
<p>&quot; Help</p>
<p>text</p>
<p>... &quot; ,</p>
<p>//</p>
<p>The</p>
<p>validator</p>
<p>code</p>
<p>{</p>
<p>value</p>
<p>-&gt;</p>
<p><b>if</b> (</p>
<p>value</p>
<p>%</p>
<p>2) {</p>
<p><b>throw</b></p>
<p><b>new</b></p>
<p>IllegalArgumentException (&quot; The</p>
<p>value</p>
<p>has</p>
<p>to</p>
<p>be</p>
<p>even .&quot; )</p>
<p>}</p>
<p>})</p>
<p>code {</p>
<p>}</p>
<p>}</p>
<p>Listing 4.42: Script task UserDefined argument with own validator</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>51 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>4.4.9.2 Call</b></p>
<p><b>Script Task with Task Arguments from Commandline</b></p>
<p>The commandline option taskArgs is used to specify the arguments passed to a script task to</p>
<p>execute:</p>
<p>--taskArgs &lt;TASK_ARGS&gt;</p>
<p>Passes arguments to the specified script tasks.</p>
<p>The arguments have the following syntax:</p>
<p>Syntax: --taskArgs &quot;&lt;TaskName&gt;&quot; &quot;&lt;Arguments to Task&gt;&quot;</p>
<p>E.g. --taskArgs &quot;MyTask&quot; &quot;-s --projectCfg MyFile.cfg&quot;</p>
<p>If only one task is executed, the &quot;&lt;TaskName&gt;&quot; can be omitted.</p>
<p>For multiple task arguments the following syntax apply:</p>
<p>Syntax: --taskArgs &quot;&lt;TaskName&gt;&quot; &quot;&lt;Arguments to Task&gt;&quot;</p>
<p>&quot;&lt;TaskName2&gt;&quot; &quot;&lt;Arguments to Task2&gt;&quot;</p>
<p>E.g. --taskArgs &quot;MyTask&quot; &quot;-s --projectCfg MyFile.cfg&quot;</p>
<p>&quot;Task2&quot; &quot;-d --saveTo saveFile.txt&quot;</p>
<p>Note:</p>
<p>The newlines in the listing are only for visualization.</p>
<p>If the task name is not unique, your can specify the full qualified name with script name</p>
<p>--taskArgs &quot;MyScript:MyTask&quot; &quot;-s --projectCfg MyFile.cfg&quot;</p>
<p>Arguments with spaces inside the script task argument could be quoted with &quot;&quot;</p>
<p>--taskArgs &quot;MyScript:MyTask&quot; &quot;-s --projectCfg \&quot;Path to File\MyFile.cfg\&quot; -d&quot;</p>
<p>The task help of a task will print the possible arguments of a script task.</p>
<p>--scriptTaskHelp taskName</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>52 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>4.4.10 Stateful</b></p>
<p><b>Script Tasks</b></p>
<p>Script tasks normally have no state or cached data,</p>
<p>but it can be useful</p>
<p>to cache data during</p>
<p>an execution,</p>
<p>or over multiple task executions.</p>
<p>The IScriptExecutionContext provides two</p>
<p>methods to save and restore data for that purpose:</p>
<p>• getExecutionData() - caches data during one task execution</p>
<p>• getSessionData() - caches data over multiple task executions</p>
<p><b>Execution Data</b></p>
<p>Caches data during a single script task execution,</p>
<p>which allows to save cal-</p>
<p>culated values or services needed in multiple parts of the task, without recalculating or creating</p>
<p>it.</p>
<p>Note:</p>
<p>When the task is executed again the executionData will be empty.</p>
<p>scriptTask (&quot; TaskName &quot;){</p>
<p>code {</p>
<p>//</p>
<p>Cache</p>
<p>a</p>
<p>value</p>
<p>for</p>
<p>the</p>
<p>execution</p>
<p>executionData . myCacheValue</p>
<p>=</p>
<p>500</p>
<p><b>def</b></p>
<p>val</p>
<p>=</p>
<p>executionData . myCacheValue</p>
<p>//</p>
<p>Retrieve</p>
<p>the</p>
<p>value</p>
<p>anywhere</p>
<p>scriptLogger . info</p>
<p>&quot; The</p>
<p>cached</p>
<p>value</p>
<p>is</p>
<p>$val &quot;</p>
<p>//</p>
<p>Or</p>
<p>access</p>
<p>it</p>
<p>from</p>
<p>any</p>
<p>place</p>
<p>with</p>
<p>ScriptApi . scriptCode</p>
<p>like :</p>
<p><b>def</b></p>
<p>sameValue</p>
<p>=</p>
<p>ScriptApi . scriptCode . executionData . myCacheValue</p>
<p>}</p>
<p>}</p>
<p>Listing 4.43: executionData - Cache and retrieve data during one script task execution</p>
<p><b>Session Data</b></p>
<p>Caches data over multiple task executions, which allows to implement a stateful</p>
<p>task, by saving and retrieving any data calculated by the task itself.</p>
<p><b>Caution:</b></p>
<p>The data is saved globally so the usage of</p>
<p>the sessionData can lead to memory</p>
<p>leaks or OutOfMemoryErrors.</p>
<p>You have to take care not to store too much memory in the</p>
<p>sessionData.</p>
<p>The DaVinci</p>
<p>Configurator will</p>
<p>also free the sessionData,</p>
<p>when the system run low on free</p>
<p>memory.</p>
<p>So you have to deal</p>
<p>with the fact,</p>
<p>that the sessionData was freed,</p>
<p>when the script</p>
<p>task getting executed again.</p>
<p>But the data is not deallocated during a running execution.</p>
<p>scriptTask (&quot; TaskName &quot;){</p>
<p>//</p>
<p>Setup</p>
<p>-</p>
<p>set</p>
<p>the</p>
<p>value</p>
<p>the</p>
<p>first</p>
<p>time ,</p>
<p>this</p>
<p>is</p>
<p>only</p>
<p>executed</p>
<p>once</p>
<p>( during</p>
<p>initialization )</p>
<p>sessionData . myExecutionCount</p>
<p>=</p>
<p>1</p>
<p>code {</p>
<p>//</p>
<p>Retrieve</p>
<p>the</p>
<p>value</p>
<p><b>def</b></p>
<p>executionCount</p>
<p>=</p>
<p>sessionData . myExecutionCount</p>
<p>scriptLogger . info</p>
<p>&quot; The</p>
<p>task</p>
<p>was</p>
<p>executed</p>
<p>$executionCount</p>
<p>times &quot;</p>
<p>//</p>
<p>Update</p>
<p>the</p>
<p>value</p>
<p>sessionData . myExecutionCount</p>
<p>=</p>
<p>executionCount</p>
<p>+</p>
<p>1</p>
<p>}</p>
<p>}</p>
<p>Listing 4.44: sessionData - Cache and retrieve data over multiple script task executions</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>53 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>API</b></p>
<p><b>usage</b></p>
<p>Both methods executionData and sessionData return the same API of</p>
<p>type</p>
<p>IScriptTaskUserData.</p>
<p>The IScriptTaskUserData provides methods to retrieve and store properties by a key (like a</p>
<p>Map).</p>
<p>The retrieval</p>
<p>and store methods are Object based,</p>
<p>so any Object can be a key.</p>
<p>The</p>
<p>exception are Class instances (like String.class, which required that the value is an instance</p>
<p>of the Class).</p>
<p>On retrieval if a property does not exist an UnknownPropertyException is thrown.</p>
<p>Properties</p>
<p>can be set multiple times and will</p>
<p>override the old value.</p>
<p>The keys of the properties used to</p>
<p>retrieve and store data are compared with Object.equals(Object) for equality.</p>
<p>The listing below describes the usage of the API:</p>
<p>scriptTask (&quot; TaskName &quot;){</p>
<p>code {</p>
<p><b>def</b></p>
<p>val</p>
<p>//</p>
<p>The</p>
<p>sessionData</p>
<p>and</p>
<p>executionData</p>
<p>have</p>
<p>the</p>
<p>same</p>
<p>API</p>
<p>//</p>
<p>You</p>
<p>have</p>
<p>multiple</p>
<p>ways</p>
<p>to</p>
<p>set</p>
<p>a</p>
<p>value</p>
<p>executionData . myCacheId</p>
<p>=</p>
<p>&quot; VALUE &quot;</p>
<p>executionData . set ( &quot; myCacheId &quot; ,</p>
<p>&quot; VALUE &quot; )</p>
<p>executionData [ &quot; myCacheId &quot; ]</p>
<p>=</p>
<p>&quot; VALUE &quot;</p>
<p>//</p>
<p>Or</p>
<p>with</p>
<p>classes</p>
<p>for</p>
<p>a</p>
<p>service</p>
<p>locator</p>
<p>pattern</p>
<p>executionData . set ( Integer .<b> class</b> ,</p>
<p>50)</p>
<p>//</p>
<p>Possible</p>
<p>for</p>
<p>any</p>
<p>Class</p>
<p>executionData [ Integer ]</p>
<p>=</p>
<p>50</p>
<p>//</p>
<p>There</p>
<p>are</p>
<p>the</p>
<p>same</p>
<p>ways</p>
<p>to</p>
<p>retrieve</p>
<p>the</p>
<p>values</p>
<p>val</p>
<p>=</p>
<p>executionData . myCacheId</p>
<p>val</p>
<p>=</p>
<p>executionData . get ( &quot; myCacheId &quot; )</p>
<p>val</p>
<p>=</p>
<p>executionData [&quot; myCacheId &quot; ]</p>
<p>//</p>
<p>Or</p>
<p>with</p>
<p>classes</p>
<p>for</p>
<p>a</p>
<p>service</p>
<p>locator</p>
<p>pattern</p>
<p>val</p>
<p>=</p>
<p>executionData . get ( Integer .<b> class</b> )</p>
<p>val</p>
<p>=</p>
<p>executionData [ Integer ]</p>
<p>//</p>
<p>You</p>
<p>can</p>
<p>also</p>
<p>ask</p>
<p>if</p>
<p>the</p>
<p>property</p>
<p>exists</p>
<p><b>boolean</b></p>
<p>exists</p>
<p>=</p>
<p>executionData . has (&quot; myCacheId &quot;)</p>
<p>}</p>
<p>}</p>
<p>Listing 4.45: sessionData and executionData syntax samples</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>54 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>4.4.11 ScriptAccess - Calling ScriptTasks</b></p>
<p>Sometimes it can be helpful</p>
<p>to call</p>
<p>other script tasks from inside your task.</p>
<p>The scripts{}</p>
<p>block or getScripts() method provides API to retrieve existing IScripts and call other IS-</p>
<p>criptTasks from your running IScriptTask.</p>
<p><b>Note:</b></p>
<p>If you<b> just want to reuse code</b> of your own scripts in an automation script project,</p>
<p>create a normal method containing the code and call it, instead of calling the task.</p>
<p>The method</p>
<p>is typesafe, has code completion support and is<b> much faster</b> than calling a script task.</p>
<p><b>Calling script tasks</b></p>
<p>To call a task you need the name of the task and the IScriptTaskType.</p>
<p>The IScriptTaskType determines the argument types and the return type of the script task.</p>
<p>Then you can use scripts.callScriptTask(String, Object...) to call the script.</p>
<p>You could also use callScriptTaskWithUserArgs(String, String, Object...), if you want</p>
<p>to pass user defined arguments.</p>
<p>scriptTask (&quot; TaskName &quot;){</p>
<p>code {</p>
<p>scripts . callScriptTask ( &quot; OtherTask &quot; )</p>
<p>// The</p>
<p>same</p>
<p>scripts {</p>
<p>callScriptTask ( &quot; OtherTask &quot; )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>scriptTask (&quot; OtherTask &quot;){</p>
<p>code {</p>
<p>// Other</p>
<p>task</p>
<p>code</p>
<p>}</p>
<p>}</p>
<p>Listing 4.46: Call another script task from a script task</p>
<p><b>Calling script tasks with task arguments</b></p>
<p>If the IScriptTaskType requires task arguments,</p>
<p>you have to pass the arguments to the callScriptTask() methods.</p>
<p>The return value of the</p>
<p>method is the returned value of the called script task.</p>
<p>scriptTask (&quot; TaskName &quot; ,</p>
<p>DV_PROJECT ){</p>
<p>code {</p>
<p><b>def</b></p>
<p>arg1</p>
<p>=</p>
<p>&quot; First</p>
<p>argument &quot;</p>
<p><b>def</b></p>
<p>arg2</p>
<p>=</p>
<p>5</p>
<p><b>def</b></p>
<p>result</p>
<p>=</p>
<p>scripts . callScriptTask (&quot; OtherTask &quot; ,</p>
<p>arg1 ,</p>
<p>arg2 )</p>
<p>//</p>
<p>Result</p>
<p>contains</p>
<p>the</p>
<p>calculated</p>
<p>value</p>
<p>of</p>
<p>OtherTask</p>
<p>}</p>
<p>}</p>
<p>scriptTask (&quot; OtherTask &quot;){</p>
<p>code { arg1 ,</p>
<p>arg2</p>
<p>-&gt;</p>
<p><b>return</b></p>
<p>arg1</p>
<p>+</p>
<p>arg2</p>
<p>}</p>
<p>}</p>
<p>Listing 4.47: Call another script task with arguments</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>55 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>4.5 Project Handling</b></p>
<p>Project handling comprises creating new projects,</p>
<p>opening existing projects or accessing the</p>
<p>currently active project.</p>
<p>IProjectHandlingApi provides methods to access to the active project, for creating new pro-</p>
<p>jects and for opening existing projects.</p>
<p>getProjects() allows accessing the IProjectHandlingApi like a property.</p>
<p>scriptTask ( ' taskName ')</p>
<p>{</p>
<p>code</p>
<p>{</p>
<p>//</p>
<p>IProjectHandlingApi</p>
<p>is</p>
<p>available</p>
<p>as</p>
<p>&quot; projects &quot;</p>
<p>property</p>
<p><b>def</b></p>
<p>projectHandlingApi</p>
<p>=</p>
<p>projects</p>
<p>}</p>
<p>}</p>
<p>Listing 4.48: Accessing IProjectHandlingApi as a property</p>
<p>projects(Closure) allows accessing the IProjectHandlingApi in a scope-like way.</p>
<p>scriptTask ( ' taskName ')</p>
<p>{</p>
<p>code</p>
<p>{</p>
<p>projects</p>
<p>{</p>
<p>//</p>
<p>IProjectHandlingApi</p>
<p>is</p>
<p>available</p>
<p>inside</p>
<p>this</p>
<p>Closure</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.49: Accessing IProjectHandlingApi in a scope-like way</p>
<p><b>4.5.1 Projects</b></p>
<p>Projects in the AutomationInterface are represented by IProject instances.</p>
<p>These instances</p>
<p>can be created by:</p>
<p>• Creating a new project</p>
<p>• Loading an existing project</p>
<p>You can only access IProject instances by using a Closure block at IProjectHandlingApi or</p>
<p>IProjectRef class.</p>
<p>This shall prevent memory leaks, by not closing open projects.</p>
<p><b>4.5.2 Accessing the active Project</b></p>
<p>The IProjectHandlingApi provides access to the active project.</p>
<p>The active project is either</p>
<p>(in descending order):</p>
<p>• The last IProject instance activated with a Closure block</p>
<p><b>–</b> Stack-based - so multiple opened projects are possible and the last (inner) Closure</p>
<p>block is used.</p>
<p>• The passed project to a project task</p>
<p>• Or the loaded project in the current DaVinci Configurator in an application task</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>56 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>The figure 4.5 describes the behavior to search for the active project of a script task.</p>
<p>Figure 4.5: Search for active project in getActiveProject()</p>
<p>It is possible that there is no active project, e.g.</p>
<p>no project was loaded.</p>
<p>You can switch the active project,</p>
<p>by calling the with(Closure) method on an IProject</p>
<p>instance.</p>
<p>//</p>
<p>Retrieve</p>
<p>theProject</p>
<p>from</p>
<p>other</p>
<p>API</p>
<p>like</p>
<p>load</p>
<p>a</p>
<p>project</p>
<p>IProject</p>
<p>theProject</p>
<p>=</p>
<p>...;</p>
<p>theProject . with</p>
<p>{</p>
<p>//</p>
<p>Now</p>
<p>theProject</p>
<p>is</p>
<p>the</p>
<p>new</p>
<p>active</p>
<p>project</p>
<p>inside</p>
<p>of</p>
<p>this</p>
<p>closure</p>
<p>}</p>
<p>Listing 4.50: Switch the active project</p>
<p>To access the active project you can use the activeProject(Closure) and getActivePro-</p>
<p>ject() methods.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>57 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>scriptTask ( ' taskName ')</p>
<p>{</p>
<p>code</p>
<p>{</p>
<p><b>if</b></p>
<p>( projects . projectActive )</p>
<p>{</p>
<p>//</p>
<p>active</p>
<p>IProject</p>
<p>is</p>
<p>available</p>
<p>as</p>
<p>&quot; activeProject &quot;</p>
<p>property</p>
<p>scriptLogger . info</p>
<p>&quot; Active</p>
<p>project :</p>
<p>$ { projects . activeProject . projectName }&quot;</p>
<p>projects . activeProject</p>
<p>{</p>
<p>//</p>
<p>active</p>
<p>IProject</p>
<p>is</p>
<p>available</p>
<p>inside</p>
<p>this</p>
<p>Closure</p>
<p>scriptLogger . info</p>
<p>&quot; Active</p>
<p>project :</p>
<p>$ { projectName } &quot;</p>
<p>}</p>
<p>}</p>
<p><b>else</b></p>
<p>{</p>
<p>scriptLogger . info</p>
<p>' No</p>
<p>project</p>
<p>active '</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.51: Accessing the active IProject</p>
<p>isProjectActive() returns true if</p>
<p>and only if</p>
<p>there is an active IProject.</p>
<p>If</p>
<p>isProjec-</p>
<p>tActive() returns true it is safe to call getActiveProject().</p>
<p>getActiveProject() allows accessing the active IProject like a property.</p>
<p>activeProject(Closure) allows accessing the active IProject in a scope-like way.</p>
<p>This will</p>
<p>enable the project specific API inside of the Closure.</p>
<p><b>4.5.3 Creating a new Project</b></p>
<p>The method createProject(Closure) creates a new project as specified by the given Closure.</p>
<p>Inside the closure the ICreateProjectApi is available.</p>
<p>The new project is not opened and usable until IProjectRef.openProject(Closure) is called</p>
<p>on the returned IProjectRef.</p>
<p>scriptTask ( ' taskName ' ,</p>
<p>DV_APPLICATION )</p>
<p>{</p>
<p>code</p>
<p>{</p>
<p><b>def</b></p>
<p>newProject</p>
<p>=</p>
<p>projects . createProject</p>
<p>{</p>
<p>projectName</p>
<p>' NewProject '</p>
<p>projectFolder</p>
<p>paths . resolveTempPath ( ' projectFolder ')</p>
<p>}</p>
<p>scriptLogger . info ( &quot; Project</p>
<p>created</p>
<p>and</p>
<p>saved</p>
<p>to :</p>
<p>$newProject &quot;)</p>
<p>//</p>
<p>Now</p>
<p>open</p>
<p>the</p>
<p>project</p>
<p>newProject . openProject {</p>
<p>//</p>
<p>Inside</p>
<p>here</p>
<p>the</p>
<p>project</p>
<p>can</p>
<p>be</p>
<p>used</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.52: Creating a new project (mandatory parameters only)</p>
<p>The next is a more sophisticated example of creating a project with multiple settings:</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>58 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>scriptTask ( ' taskName ' ,</p>
<p>DV_APPLICATION )</p>
<p>{</p>
<p>code</p>
<p>{</p>
<p><b>def</b></p>
<p>newProject</p>
<p>=</p>
<p>projects . createProject</p>
<p>{</p>
<p>projectName</p>
<p>' NewProject '</p>
<p>projectFolder</p>
<p>paths . resolveTempPath ( ' projectFolder ')</p>
<p>general</p>
<p>{</p>
<p>author</p>
<p>' projectAuthor '</p>
<p>version</p>
<p>' 0.9 '</p>
<p>}</p>
<p>postBuild</p>
<p>{</p>
<p>loadable</p>
<p><b>true</b></p>
<p>selectable</p>
<p><b>true</b></p>
<p>}</p>
<p>folders . ecucFileStructure</p>
<p>=</p>
<p>ONE_FILE_PER_MODULE</p>
<p>folders . moduleFilesFolder</p>
<p>=</p>
<p>' Appl / GenData '</p>
<p>folders . templatesFolder</p>
<p>=</p>
<p>' Appl / Source '</p>
<p>target . vVIRTUALtargetSupport</p>
<p>=</p>
<p><b>false</b></p>
<p>daVinciDeveloper . createDaVinciDeveloperWorkspace</p>
<p>=</p>
<p><b>false</b></p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.53: Creating a new project (with some optional parameters)</p>
<p>The ICreateProjectApi contains the methods to parameterize the creation of</p>
<p>a new pro-</p>
<p>ject.</p>
<p><b>4.5.3.1 Mandatory Settings</b></p>
<p><b>Project Name</b></p>
<p>Specify the name newly created project with setProjectName(String).</p>
<p>The</p>
<p>name given here is postfixed with &quot;.dpa&quot; for the new project’s .dpa file.</p>
<p>The following constraints apply:</p>
<p>• Constraints.IS_VALID_PROJECT_NAME 4.12.1 on page 222</p>
<p><b>Project Folder</b></p>
<p>Specify the folder in which to create the new project in with setProjectFol-</p>
<p>der(Object).</p>
<p>The value given here is converted to Path using the converter ScriptConver-</p>
<p>ters.TO_SCRIPT_PATH 4.12.2 on page 223.</p>
<p>The following constraints apply:</p>
<p>• Constraints.IS_CREATABLE_FOLDER 4.12.1 on page 222</p>
<p><b>4.5.3.2 General</b></p>
<p><b>Settings</b></p>
<p>Use getGeneral() or general(Closure) to specify the new project’s general</p>
<p>settings.</p>
<p>The</p>
<p>provided settings are defined in ICreateProjectGeneralApi.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>59 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>Author</b></p>
<p>The author for the new project can be specified with setAuthor(String).</p>
<p>This is an</p>
<p>optional</p>
<p>parameter defaulting to the name of the currently logged in user if the parameter is</p>
<p>not provided explicitly.</p>
<p>The following constraints apply:</p>
<p>• Constraints.IS_NON_EMPTY_STRING 4.12.1 on page 222</p>
<p><b>Version</b></p>
<p>The version for the new project can be specified with setVersion(Object).</p>
<p>This</p>
<p>is an optional</p>
<p>parameter defaulting to &quot;1.0&quot; if</p>
<p>the parameter is not provided explicitly.</p>
<p>The</p>
<p>value given here is converted to IVersion using ScriptConverters.TO_VERSION 4.12.2 on</p>
<p>page 223.</p>
<p>The following constraints apply:</p>
<p>• Constraints.IS_NOT_NULL 4.12.1 on page 222</p>
<p><b>Description</b></p>
<p>The description for the new project can be specified with setDescription(String).</p>
<p>This is an optional parameter defaulting to &quot;&quot; if the parameter is not provided explicitly.</p>
<p>The following constraints apply:</p>
<p>• Constraints.IS_NOT_NULL 4.12.1 on page 222</p>
<p><b>Start Menu Entries</b></p>
<p>setCreateStartMenuEntries(boolean) defines whether or not to create</p>
<p>start menu entries for the new project.</p>
<p>This is an optional parameter defaulting to false if the</p>
<p>parameter is not provided explicitly.</p>
<p><b>4.5.3.3 Target Settings</b></p>
<p>Use getTarget() or target(Closure) to specify the new project’s target settings for compiler,</p>
<p>derivatives and pin layouts.</p>
<p>ICreateProjectTargetApi contains the API to specify the new project’s target settings.</p>
<p><b>Available Derivatives</b></p>
<p>getAvailableDerivatives() returns all possible input values for set-</p>
<p>Derivative(DerivativeInfo).</p>
<p><b>Derivative</b></p>
<p>Set the derivative for the new project with setDerivative(DerivativeInfo).</p>
<p>This is an optional</p>
<p>parameter defaulting to the first element in the collection returned by</p>
<p>getAvailableDerivatives() (or null if the collection is empty).</p>
<p>The value given here must</p>
<p>be one of the values returned by getAvailableDerivatives().</p>
<p><b>Available Compilers</b></p>
<p>getAvailableCompilers() returns all</p>
<p>possible input values for set-</p>
<p>Compiler(ImplementationProperty).</p>
<p>Note:</p>
<p>the available compilers depend on the currently</p>
<p>configured derivative.</p>
<p>This method will</p>
<p>return the empty collection if no derivative has been</p>
<p>configured at the time it is called.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>60 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>Compiler</b></p>
<p>Set the compiler for the new project with setCompiler(ImplementationProperty).</p>
<p>This is an optional parameter defaulting to the first element in the collection returned by ge-</p>
<p>tAvailableCompilers() (or null if</p>
<p>the collection is empty).</p>
<p>The value given here must be</p>
<p>one of the values returned by getAvailableCompilers().</p>
<p><b>Available Pin Layouts</b></p>
<p>getAvailablePinLayouts() returns all possible input values for set-</p>
<p>PinLayout(ImplementationProperty).</p>
<p>Note:</p>
<p>the available pin layouts depend on the cur-</p>
<p>rently configured derivative.</p>
<p>This method will return the empty collection if no derivative has</p>
<p>been configured at the time it is called.</p>
<p><b>Pin Layout</b></p>
<p>Set the pin layout of the selected derivative for the new project with setPinLa-</p>
<p>yout(ImplementationProperty).</p>
<p>This is an optional parameter defaulting to the first element</p>
<p>in the collection returned by getAvailablePinLayouts() (or null if the collection is empty).</p>
<p>The value given here must be one of the values returned by getAvailablePinLayouts().</p>
<p><b>vVIRTUALtarget Support</b></p>
<p>setvVIRTUALtargetSupport(boolean) specifies whether or not</p>
<p>to support the vVIRTUALtarget for the new project.</p>
<p>This is an optional parameter defaulting to</p>
<p>false if the parameter is not provided explicitly.</p>
<p>See also ICreateProjectApi.getVirtualTarget()</p>
<p>and ICreateProjectVirtualTargetApi for specifying further details (path to vVIRTUALtar-</p>
<p>get project, ...).</p>
<p>The following constraints apply:</p>
<p>• vVIRTUALtarget support may not be available depending on the purchased license</p>
<p><b>4.5.3.4 Post Build Settings</b></p>
<p>Use getPostBuild() or postBuild(Closure) to specify the new project’s post build settings</p>
<p>for Post-build selectable and or loadable projects.</p>
<p>ICreateProjectPostBuildApi contains the API to specify the new project’s post build set-</p>
<p>tings.</p>
<p><b>Post-build Loadable Support</b></p>
<p>setLoadable(boolean) sets whether or not to support Post-</p>
<p>build loadable for the new project.</p>
<p>This is an optional</p>
<p>parameter defaulting to false if</p>
<p>the</p>
<p>parameter is not provided explicitly.</p>
<p><b>Post-Build Selectable Support</b></p>
<p>setSelectable(boolean) sets whether or not to support</p>
<p>Post-build selectable for the new project.</p>
<p>This is an optional parameter defaulting to false if</p>
<p>the parameter is not provided explicitly.</p>
<p><b>4.5.3.5 Folders Settings</b></p>
<p>Use getFolders() or folders(Closure) to specify the new project’s folders settings.</p>
<p>ICreateProjectFolderApi contains</p>
<p>the methods</p>
<p>to specify the new project’s</p>
<p>folders</p>
<p>set-</p>
<p>tings.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>61 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>Module Files Folder</b></p>
<p>Set the module files folder for the new project with setModuleFilesFol-</p>
<p>der(Object).</p>
<p>This is an optional parameter defaulting to &quot;./Appl/GenData&quot; if the parameter</p>
<p>is not provided explicitly.</p>
<p>The value given here is converted to Path using ScriptConver-</p>
<p>ters.TO_PATH 4.12.2 on page 223.</p>
<p>Normally a relative path (to be interpreted relative to the</p>
<p>project folder) should be given here.</p>
<p>The following constraints apply:</p>
<p>• Constraints.IS_CREATABLE_FOLDER 4.12.1 on page 222</p>
<p><b>Templates Folder</b></p>
<p>Set the templates folder for the new project with setTemplatesFolder(Object).</p>
<p>This is an optional</p>
<p>parameter defaulting to &quot;./Appl/Source&quot; if the parameter is not provided</p>
<p>explicitly.</p>
<p>The value given here is converted to Path using ScriptConverters.TO_PATH 4.12.2 on page 223.</p>
<p>Normally a relative path (to be interpreted relative to the project folder) should be given</p>
<p>here.</p>
<p>The following constraints apply:</p>
<p>• Constraints.IS_CREATABLE_FOLDER 4.12.1 on page 222</p>
<p><b>Service Components Folder</b></p>
<p>Set the service component files folder for the new project with</p>
<p>setServiceComponentFilesFolder(Object).</p>
<p>This</p>
<p>is</p>
<p>an optional</p>
<p>parameter</p>
<p>defaulting to</p>
<p>&quot;./Config/ServiceComponents&quot; if the parameter is not provided explicitly.</p>
<p>The value given here is converted to Path using ScriptConverters.TO_PATH 4.12.2 on page 223.</p>
<p>Normally a relative path (to be interpreted relative to the project folder) should be given</p>
<p>here.</p>
<p>The following constraints apply:</p>
<p>• Constraints.IS_CREATABLE_FOLDER 4.12.1 on page 222</p>
<p><b>Application Components Folder</b></p>
<p>Set the application component files folder for the new project</p>
<p>with setApplicationComponentFilesFolder(Object).</p>
<p>This is an optional parameter defaul-</p>
<p>ting to &quot;./Config/ApplicationComponents&quot; if the parameter is not provided explicitly.</p>
<p>The value given here is converted to Path using ScriptConverters.TO_PATH 4.12.2 on page 223.</p>
<p>Normally a relative path (to be interpreted relative to the project folder) should be given</p>
<p>here.</p>
<p>The following constraints apply:</p>
<p>• Constraints.IS_CREATABLE_FOLDER 4.12.1 on page 222</p>
<p><b>Log Files Folder</b></p>
<p>Set the log files folder for the new project with setLogFilesFolder(Object).</p>
<p>This is an optional</p>
<p>parameter defaulting to &quot;./Config/Log&quot; if</p>
<p>the parameter is not provided</p>
<p>explicitly.</p>
<p>The value given here is converted to Path using ScriptConverters.TO_PATH 4.12.2 on page 223.</p>
<p>Normally a relative path (to be interpreted relative to the project folder) should be given</p>
<p>here.</p>
<p>The following constraints apply:</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>62 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>• Constraints.IS_CREATABLE_FOLDER 4.12.1 on page 222</p>
<p><b>Measurement And Calibration Files Folder</b></p>
<p>Set the measurement and calibration files folder</p>
<p>for the new project with setMeasurementAndCalibrationFilesFolder(Object).</p>
<p>This is an</p>
<p>optional</p>
<p>parameter defaulting to &quot;./Config/McData&quot; if</p>
<p>the parameter is not provided expli-</p>
<p>citly.</p>
<p>The folder object passed to the method is converted to Path using ScriptConverters.TO_PATH 4.12.2</p>
<p>on page 223.</p>
<p>Normally a relative path (to be interpreted relative to the project folder) should</p>
<p>be given here.</p>
<p>The following constraints apply:</p>
<p>• Constraints.IS_CREATABLE_FOLDER 4.12.1 on page 222</p>
<p><b>AUTOSAR Files Folder</b></p>
<p>Set the AUTOSAR files folder for the new project with setAuto-</p>
<p>sarFilesFolder(Object).</p>
<p>This is an optional parameter defaulting to &quot;./Config/AUTOSAR&quot;</p>
<p>if the parameter is not provided explicitly.</p>
<p>The value given here is converted to Path using ScriptConverters.TO_PATH 4.12.2 on page 223.</p>
<p>Normally a relative path (to be interpreted relative to the project folder) should be given</p>
<p>here.</p>
<p>The following constraints apply:</p>
<p>• Constraints.IS_CREATABLE_FOLDER 4.12.1 on page 222</p>
<p><b>ECUC File Structure</b></p>
<p>The literals of</p>
<p>EEcucFileStructure define the alternative ECUC file</p>
<p>structures supported by the new project.</p>
<p>The following alternatives are supported:</p>
<p>SINGLE_FILE results in a single ECUC file containing all module configurations.</p>
<p>ONE_FILE_PER_MODULE results in a separate ECUC file for each module configuration all located</p>
<p>in a common folder.</p>
<p>ONE_FILE_IN_SEPARATE_FOLDER_PER_MODULE results in a separate ECUC file for each module</p>
<p>configuration each located in its separate folder.</p>
<p>Set the ECUC file structure to use for the new project with the method setEcucFileStruc-</p>
<p>ture(EEcucFileStructure).</p>
<p>This is an optional</p>
<p>parameter defaulting to EEcucFileStruc-</p>
<p>ture.SINGLE_FILE if the parameter is not provided explicitly.</p>
<p><b>4.5.3.6 DaVinci</b></p>
<p><b>Developer Settings</b></p>
<p>Use getDaVinciDeveloper() to specify the new project’s DaVinci Developer settings.</p>
<p>ICreateProjectDaVinciDeveloperApi contians the methods for specifying the new project’s</p>
<p>DaVinci Developer settings.</p>
<p><b>Create DEV Workspace</b></p>
<p>setCreateDaVinciDeveloperWorkspace(boolean) specifies whet-</p>
<p>her or not to create a DaVinci</p>
<p>Developer workspace for the new project.</p>
<p>This is an optional</p>
<p>parameter defaulting to true if and only if a compatible DaVinci Developer installation can be</p>
<p>detected and the parameter is not provided explicitly.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>63 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>DEV Executable</b></p>
<p>Set the DaVinci Developer executable for the new project with setDaVin-</p>
<p>ciDeveloperExecutable(Object).</p>
<p>This is an optional parameter defaulting to the location of</p>
<p>a compatible DaVinci</p>
<p>Developer installation (if there is any) if the parameter is not provided</p>
<p>explicitly.</p>
<p>The value given here is converted to Path using ScriptConverters.TO_SCRIPT_PATH 4.12.2 on</p>
<p>page 223.</p>
<p>The following constraints apply:</p>
<p>• The path must points to a compatible DaVinci Developer executable (DaVinciDEV.exe).</p>
<p><b>DEV Workspace</b></p>
<p>Set the DaVinci</p>
<p>Developer workspace for the new project with setDaVin-</p>
<p>ciDeveloperWorkspace(Object).</p>
<p>This is an optional parameter defaulting to</p>
<p>&quot;./Config/Developer/&lt;ProjectName&gt;.dcf&quot; if the parameter is not provided explicitly.</p>
<p>The value given here is converted to Path using ScriptConverters.TO_PATH 4.12.2 on page 223.</p>
<p>Normally a relative path (to be interpreted relative to the project folder) should be given</p>
<p>here.</p>
<p>The following constraints apply:</p>
<p>• Constraints.IS_DCF_FILE 4.12.1 on page 223</p>
<p>• Constraints.IS_CREATABLE_FOLDER 4.12.1 on page 222 (applies to the parent Path of</p>
<p>the given Path to the DaVinci Developer executable)</p>
<p><b>Import Mode Preset</b></p>
<p>setUseImportModePreset(boolean) specifies whether or not to use the</p>
<p>import mode preset for the new project.</p>
<p>This is an optional</p>
<p>parameter defaulting to true if</p>
<p>the parameter is not provided explicitly.</p>
<p><b>Object Locking</b></p>
<p>setLockCreatedObjects(boolean) specifies whether or not to lock created</p>
<p>objects for the new project.</p>
<p>This is an optional parameter defaulting to true if the parameter</p>
<p>is not provided explicitly.</p>
<p><b>Selective Import</b></p>
<p>The literals of</p>
<p>ESelectiveImport define the alternative modes for the se-</p>
<p>lective import into the DaVinci</p>
<p>Developer workspace during project updates.</p>
<p>The following</p>
<p>alternatives are supported:</p>
<p>ALL results in selective import for all elements.</p>
<p>COMMUNICATION_ONLY results in selective import for communication elements only.</p>
<p>Set the selective import mode for the new project with setSelectiveImport(ESelectiveImport).</p>
<p>This is an optional parameter defaulting to ESelectiveImport.ALL if the parameter is not pro-</p>
<p>vided explicitly.</p>
<p><b>4.5.3.7 vVIRTUALtarget Settings</b></p>
<p>Use getVirtualTarget() to specify the new project’s vVIRTUALtarget settings.</p>
<p>The vVIR-</p>
<p>TUALtarget support may not be available depending on the purchased license.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>64 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>scriptTask ( ' ProjectCreation ' ,</p>
<p>DV_APPLICATION )</p>
<p>{</p>
<p>code</p>
<p>{</p>
<p><b>def</b></p>
<p>prjFolder</p>
<p>=</p>
<p>paths . resolveTempPath ( ' projectFolder ')</p>
<p><b>def</b></p>
<p>newProject</p>
<p>=</p>
<p>projects . createProject</p>
<p>{</p>
<p>projectName</p>
<p>' tpVttFullyCustom '</p>
<p>projectFolder</p>
<p>prjFolder</p>
<p>target</p>
<p>{</p>
<p>vVIRTUALtargetSupport</p>
<p>=</p>
<p><b>true</b></p>
<p>}</p>
<p>virtualTarget</p>
<p>{</p>
<p>createVirtualTargetProjectFile</p>
<p>=</p>
<p><b>true</b></p>
<p>virtualTargetExecutable</p>
<p>=</p>
<p>getCustomVttExe ()</p>
<p>virtualTargetProject</p>
<p>=</p>
<p><b>new</b></p>
<p>File ( prjFolder . toFile () ,</p>
<p>&quot;/ MyVtt / custom .</p>
<p>vttproj &quot; )</p>
<p>}</p>
<p>}</p>
<p>scriptLogger . info ( &quot; Project</p>
<p>created</p>
<p>and</p>
<p>saved &quot; )</p>
<p>}</p>
<p>}</p>
<p>Listing 4.54: Creating a new project with custom VTT settings</p>
<p><b>Create vVIRTUALtarget project file</b></p>
<p>setCreateVirtualTargetProjectFile(boolean) spe-</p>
<p>cifies</p>
<p>whether</p>
<p>or</p>
<p>not</p>
<p>to create a vVIRTUALtarget</p>
<p>project</p>
<p>file for</p>
<p>the new project.</p>
<p>This</p>
<p>is an optional</p>
<p>parameter defaulting to true.</p>
<p>However the vVIRTUALtarget project file is</p>
<p>only created when ICreateProjectTargetApi.vVIRTUALtargetSupport(boolean) evaluates</p>
<p>to true.</p>
<p><b>vVIRTUALtarget Project</b></p>
<p>Set the path to the vVIRTUALtarget project (*.vttproj) for the</p>
<p>new project with setVirtualTargetProject(Object).</p>
<p>This is an optional parameter defaul-</p>
<p>ting to ’./Config/VTT/ProjectName.vttproj’ if the parameter is not provided explicitly.</p>
<p>See also</p>
<p>ICreateProjectTargetApi.setvVIRTUALtargetSupport(boolean) and ICreateProjectVir-</p>
<p>tualTargetApi.setCreateVirtualTargetProjectFile(boolean) at which both have to be</p>
<p>true to force the creation of the vVIRTUALtarget project.</p>
<p>The value given here is converted to Path using ScriptConverters.TO_SCRIPT_PATH 4.12.2 on</p>
<p>page 223.</p>
<p><b>vVIRTUALtarget Executable</b></p>
<p>Set the vVIRTUALtarget executable (VttCmd.exe) for the new</p>
<p>project with setVirtualTargetExecutable(Object).</p>
<p>This is an optional parameter defaulting</p>
<p>to the location of the currently registered installation (if there is any) if the parameter is not</p>
<p>provided explicitly.</p>
<p>The value given here is converted to Path using ScriptConverters.TO_SCRIPT_PATH 4.12.2 on</p>
<p>page 223.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>65 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>4.5.4 Opening an existing Project</b></p>
<p>You can open an existing DaVinci Configurator Dpa project with the automation interface.</p>
<p>The method openProject(Object, Closure) opens the project at the given .dpa file location,</p>
<p>delegates the given code to the opened IProject.</p>
<p>The project is automatically closed after leaving the Closure code of the openProject(Object,</p>
<p>Closure) method.</p>
<p>The Object given as .dpa file is converted to Path using ScriptConverters.TO_SCRIPT_PATH 4.12.2</p>
<p>on page 223</p>
<p>scriptTask ( ' taskName ' ,</p>
<p>DV_APPLICATION )</p>
<p>{</p>
<p>code</p>
<p>{</p>
<p>//</p>
<p>replace</p>
<p>getDpaFileToLoad ()</p>
<p>with</p>
<p>the</p>
<p>path</p>
<p>to</p>
<p>the</p>
<p>. dpa</p>
<p>file</p>
<p>to</p>
<p>be</p>
<p>loaded</p>
<p>projects . openProject ( getDpaFileToLoad () )</p>
<p>{</p>
<p>//</p>
<p>the</p>
<p>opened</p>
<p>IProject</p>
<p>is</p>
<p>available</p>
<p>inside</p>
<p>this</p>
<p>Closure</p>
<p>scriptLogger . info</p>
<p>' Project</p>
<p>loaded</p>
<p>and</p>
<p>ready '</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.55: Opening a project from .dpa file</p>
<p><b>4.5.4.1 Parameterized Project Load</b></p>
<p>You can also configure how a Dpa project is loaded, e.g.</p>
<p>by disabling the generators.</p>
<p>The method parameterizeProjectLoad(Closure) returns a handle on the project specified by</p>
<p>the given Closure.</p>
<p>Using the IOpenDpaProjectApi,</p>
<p>the Closure may further customize the</p>
<p>project’s opening procedure.</p>
<p>The project is not opened until openProject() is called on the returned IProjectRef.</p>
<p>scriptTask ( ' taskName ' ,</p>
<p>DV_APPLICATION )</p>
<p>{</p>
<p>code</p>
<p>{</p>
<p><b>def</b></p>
<p>project</p>
<p>=</p>
<p>projects . parameterizeProjectLoad</p>
<p>{</p>
<p>//</p>
<p>replace</p>
<p>getDpaFileToLoad ()</p>
<p>with</p>
<p>the</p>
<p>path</p>
<p>to</p>
<p>the</p>
<p>. dpa</p>
<p>file</p>
<p>to</p>
<p>be</p>
<p>loaded</p>
<p>dpaFile</p>
<p>getDpaFileToLoad ()</p>
<p>//</p>
<p>prevent</p>
<p>activation</p>
<p>of</p>
<p>generators</p>
<p>and</p>
<p>validation</p>
<p>loadGenerators</p>
<p><b>false</b></p>
<p>enableValidation</p>
<p><b>false</b></p>
<p>}</p>
<p>project . openProject</p>
<p>{</p>
<p>//</p>
<p>the</p>
<p>opened</p>
<p>IProject</p>
<p>is</p>
<p>available</p>
<p>inside</p>
<p>this</p>
<p>Closure</p>
<p>scriptLogger . info</p>
<p>' Project</p>
<p>loaded</p>
<p>and</p>
<p>ready '</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.56: Parameterizing the project open procedure</p>
<p>IOpenProjectApi contains the methods for parameterizing the process of opening a project.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>66 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>DPA File</b></p>
<p>The method setDpaFile(Object) sets the .dpa file of</p>
<p>the project to be opened.</p>
<p>The value given here is converted to Path using ScriptConverters.TO_SCRIPT_PATH 4.12.2 on</p>
<p>page 223.</p>
<p><b>Generators</b></p>
<p>Using setLoadGenerators(boolean) specifies whether or not to activate genera-</p>
<p>tors (including their validations) for the opened project.</p>
<p><b>Validation</b></p>
<p>setEnableValidation(boolean) specifies whether or not to activate validation</p>
<p>for the opened project.</p>
<p><b>4.5.4.2 Open Project Details</b></p>
<p>IProjectRef is a handle on a project not yet loaded but ready to be opened.</p>
<p>This could be</p>
<p>used to open the project.</p>
<p>IProjectRef instances can be obtained from form the following methods:</p>
<p>• IProjectHandlingApi.createProject(Closure) 4.5.3 on page 58</p>
<p>• IProjectHandlingApi.parameterizeProjectLoad(Closure) 4.5.4 on the previous page</p>
<p>The IProject is not really opened until IProjectRef.openProject(Closure) is called.</p>
<p>Here,</p>
<p>the project is opened and the given Closure is executed on the opened project.</p>
<p>When IPro-</p>
<p>jectRef.openProject(Closure) returns the project has already been closed.</p>
<p><b>Advanced Open Project Use Cases</b></p>
<p>The method IProjectRef.advanced() provides methods</p>
<p>for advanced usages of IProject instances.</p>
<p>For example you can open a project which will not</p>
<p>be closed when the open stack frame is left.</p>
<p>This can be helpful for unit tests.</p>
<p>• IProjectRefAdvancedUsage.openProject():</p>
<p>Open the project and return the IProject</p>
<p>as reference, but you have to manually close the project.</p>
<p>The IProjectRefAdvancedUsage API this only for special</p>
<p>use cases,</p>
<p>with have very narrow</p>
<p>scope.</p>
<p>If you are not sure that you need it don’t use it.</p>
<p><b>4.5.5 Saving a Project</b></p>
<p>IProject.saveProject() saves the current state including all model changes of the project to</p>
<p>disc.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>67 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>scriptTask ( ' taskName ' ,</p>
<p>DV_APPLICATION )</p>
<p>{</p>
<p>code</p>
<p>{</p>
<p>//</p>
<p>replace</p>
<p>getDpaFileToLoad ()</p>
<p>with</p>
<p>the</p>
<p>path</p>
<p>to</p>
<p>the</p>
<p>. dpa</p>
<p>file</p>
<p>to</p>
<p>be</p>
<p>loaded</p>
<p><b>def</b></p>
<p>project</p>
<p>=</p>
<p>projects . openProject ( getDpaFileToLoad () )</p>
<p>{</p>
<p>//</p>
<p>modify</p>
<p>the</p>
<p>opened</p>
<p>project</p>
<p>transaction</p>
<p>{</p>
<p>operations . activateModuleConfiguration ( sipDefRef . EcuC )</p>
<p>}</p>
<p>//</p>
<p>save</p>
<p>the</p>
<p>modified</p>
<p>project</p>
<p>saveProject ()</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.57: Opening, modifying and saving a project</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>68 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>4.5.6 Opening AUTOSAR Files as Project</b></p>
<p>Sometimes it could be helpful to load AUTOSAR arxml files instead of a full-fledged DaVinci</p>
<p>Configurator project.</p>
<p>For example to modify the content of</p>
<p>a file for test cases with the</p>
<p>AutomationInterface, instead of using an XML editor.</p>
<p>You could load multiple arxml files into a temporary project, which allowed to read and write</p>
<p>the loaded file content with the normal model APIs.</p>
<p>The following elements are loaded by default, without specifying the AUTOSAR files:</p>
<p>• ModuleDefinitions from the SIP: To allow the usage of the BswmdModel</p>
<p>• AUTOSAR standard definition:</p>
<p>Refinement resolution of definitions</p>
<p><b>Caution:</b></p>
<p>Some APIs and services may not be available for this type of project, like:</p>
<p>• Update workflow:</p>
<p>You can’t update a non existing project</p>
<p>• Validation:</p>
<p>The validation is disabled by default</p>
<p>• Generation:</p>
<p>The generators are not loaded by default</p>
<p>The method parameterizeArxmlFileLoad(Closure) allows to load multiple arxml files into a</p>
<p>temporary project.</p>
<p>The given Closure is used to customize the project’s opening procedure by</p>
<p>the IOpenArxmlFilesProjectApi.</p>
<p>The arxml</p>
<p>file project is not opened until</p>
<p>openProject() is called on the returned IPro-</p>
<p>jectRef.</p>
<p>scriptTask ( ' taskName ' ,</p>
<p>DV_APPLICATION )</p>
<p>{</p>
<p>code</p>
<p>{</p>
<p><b>def</b></p>
<p>project</p>
<p>=</p>
<p>projects . parameterizeArxmlFileLoad</p>
<p>{</p>
<p>//</p>
<p>Add</p>
<p>here</p>
<p>your</p>
<p>arxml</p>
<p>files</p>
<p>to</p>
<p>load</p>
<p>arxmlFiles ( arxmlFilesToLoad )</p>
<p>rawAutosarDataMode</p>
<p>=</p>
<p><b>true</b></p>
<p>}</p>
<p>project . openProject</p>
<p>{</p>
<p>scriptLogger . info</p>
<p>' Project</p>
<p>loaded</p>
<p>and</p>
<p>ready '</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.58: Opening Arxml files as project</p>
<p><b>Arxml</b></p>
<p><b>Files</b></p>
<p>Add arxml files to load with the method arxmlFiles(Collection).</p>
<p>Multiple</p>
<p>files and method calls are allowed.</p>
<p>The given values are converted to Path instances using</p>
<p>ScriptConverters.TO_SCRIPT_PATH 4.12.2 on page 223.</p>
<p><b>Raw AUTOSAR Data Mode</b></p>
<p>the method setRawAutosarDataMode(boolean) specifies whet-</p>
<p>her or not to use the raw ATUOSAR data model.</p>
<p><b>Currently only this mode is supported!</b> You have to set rawAutosarDataMode = true.</p>
<p>Note:</p>
<p>In raw mode most of</p>
<p>the provided services and APIs will</p>
<p>disabled,</p>
<p>see below for de-</p>
<p>tails.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>69 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>4.5.6.1 Raw AUTOSAR models as Project</b></p>
<p>Sometimes it could be helpful</p>
<p>to create an empty AUTOSAR model</p>
<p>or load single ARXML</p>
<p>file.</p>
<p>This is called raw mode (IProjectHandlingRawApi).</p>
<p>You could for example create an empty AUTOSAR model</p>
<p>add elements and then export the</p>
<p>snippet as an ARXML file.</p>
<p>In raw mode most of the provided services and APIs will disabled, like:</p>
<p>• Ecuc access</p>
<p>• BswmdModel support</p>
<p>• Generation</p>
<p>• Validation</p>
<p>• Workflow</p>
<p>• Domain API</p>
<p>• ChangeInspector</p>
<p>• and more</p>
<p><b>Empty AUTOSAR model</b></p>
<p>The emptyAutosarModel(String, Closure) method creates a</p>
<p>new empty AUTOSAR model, only containing one MIARPackage created by this method with</p>
<p>the path AsrPath.</p>
<p>The passed AUTOSAR version defines the version of</p>
<p>the AUTOSAR model,</p>
<p>the version is</p>
<p>specified in the format &quot;4.2.1&quot; or &quot;4.0.3&quot;, ...</p>
<p>scriptTask (&quot; taskName &quot; ,</p>
<p>DV_APPLICATION )</p>
<p>{</p>
<p>code</p>
<p>{</p>
<p><b>def</b></p>
<p>asrPkgToCreate</p>
<p>=</p>
<p>AsrPath . create (&quot;/ MyPkg &quot;)</p>
<p><b>def</b></p>
<p>autosarVersion</p>
<p>=</p>
<p>&quot; 4.2.1 &quot;</p>
<p>projects . raw . emptyAutosarModel ( autosarVersion ,</p>
<p>asrPkgToCreate )</p>
<p>{</p>
<p>modelProject ,</p>
<p>myPkg</p>
<p>-&gt;</p>
<p>//</p>
<p>modelProject</p>
<p>is</p>
<p>the</p>
<p>created</p>
<p>IProject</p>
<p>//</p>
<p>myPkg</p>
<p>is</p>
<p>the</p>
<p>MIARPackage</p>
<p>specified</p>
<p>above</p>
<p>with</p>
<p>asrPkgToCreate</p>
<p>//</p>
<p>Now</p>
<p>you</p>
<p>could</p>
<p>use</p>
<p>the</p>
<p>model</p>
<p>like</p>
<p>any</p>
<p>other</p>
<p>project :</p>
<p>transaction {</p>
<p>//</p>
<p>For</p>
<p>example</p>
<p>create</p>
<p>a</p>
<p>new</p>
<p>sub</p>
<p>package :</p>
<p><b>def</b></p>
<p>mySubPkg</p>
<p>=</p>
<p>myPkg . subPackage . byNameOrCreate ( &quot; MySubPkg &quot;)</p>
<p>}</p>
<p>//</p>
<p>Then</p>
<p>export</p>
<p>the</p>
<p>package</p>
<p>content</p>
<p><b>def</b></p>
<p>exportFolder</p>
<p>=</p>
<p>paths . getTempFolder ()</p>
<p>persistency . modelExport . exportModelTree ( exportFolder ,</p>
<p>myPkg )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.59: Create an empty AUTOSAR model</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>70 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>4.6 Model</b></p>
<p><b>4.6.1 Introduction</b></p>
<p>The model</p>
<p>API provides means to retrieve AUTOSAR model</p>
<p>content and to modify AUTO-</p>
<p>SAR data.</p>
<p>This comprises Ecuc data (module configurations and their content) and System</p>
<p>Description data.</p>
<p>In this chapter you’ll first find a brief introduction into the model handling.</p>
<p>Here you also find</p>
<p>some simple cut-and-paste examples which allow starting easily with low effort.</p>
<p>Subsequent</p>
<p>sections describe more and more details which you can read if required.</p>
<p>Chapter 5 on page 230 may additionally be useful</p>
<p>to understand detailed concepts and as a</p>
<p>reference to handle special use cases.</p>
<p><b>4.6.2 Getting Started</b></p>
<p>The model API basically provides two different approaches:</p>
<p>• The<b> MDF model</b> is the low level AUTOSAR model.</p>
<p>It stores all data read from AUTO-</p>
<p>SAR XML files.</p>
<p>Its structure is base on the AUTOSAR MetaModel.</p>
<p>In 5.1 on page 230</p>
<p>you find detailed information about this model.</p>
<p>• The<b> BswmdModel</b> is a model which wraps the MDF model to provide convenient and</p>
<p>type-safe access to the Ecuc data.</p>
<p>It contains,</p>
<p>definition based classes for module con-</p>
<p>figurations,</p>
<p>containers,</p>
<p>parameters and references.</p>
<p>The class CanGeneral for example</p>
<p>as type-safe implementation in contrast to the generic AUTOSAR class MIContainer in</p>
<p>MDF.</p>
<p><b>It is strongly recommended to use the BswmdModel model to deal with Ecuc data</b></p>
<p>because it simplifies scripting a lot.</p>
<p><b>4.6.2.1 Read the ActiveEcuc</b></p>
<p>This section provides some typical</p>
<p>examples as a brief</p>
<p>introduction for reading the Ecuc by</p>
<p>means of the BswmdModel.</p>
<p>See chapter 4.6.3.2 on page 81 for more details.</p>
<p>The following example specifies no types for the local variables.</p>
<p>It therefore requires no import</p>
<p>statements.</p>
<p>A drawback on the other hand is that the type is only known at runtime and you</p>
<p>have no type support in the IDE:</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>71 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>scriptTask (&quot; TaskName &quot;){</p>
<p>code</p>
<p>{</p>
<p>//</p>
<p>Gets</p>
<p>the</p>
<p>module</p>
<p>DefRef</p>
<p>searching</p>
<p>all</p>
<p>definitions</p>
<p>of</p>
<p>this</p>
<p>SIP</p>
<p><b>def</b></p>
<p>moduleDefRef</p>
<p>=</p>
<p>sipDefRef . EcuC</p>
<p>//</p>
<p>Creates</p>
<p>all</p>
<p>BswmdModel</p>
<p>instances</p>
<p>with</p>
<p>this</p>
<p>definition .</p>
<p>A</p>
<p>List &lt; EcuC &gt;</p>
<p>in</p>
<p>this</p>
<p>case .</p>
<p><b>def</b></p>
<p>ecucModules</p>
<p>=</p>
<p>bswmdModel ( moduleDefRef )</p>
<p>//</p>
<p>Gets</p>
<p>the</p>
<p>EcucGeneral</p>
<p>container</p>
<p>of</p>
<p>the</p>
<p>first</p>
<p>found</p>
<p>module</p>
<p>instance</p>
<p><b>def</b></p>
<p>ecuc</p>
<p>=</p>
<p>ecucModules . single</p>
<p><b>def</b></p>
<p>ecucGeneral</p>
<p>=</p>
<p>ecuc . ecucGeneral</p>
<p>//</p>
<p>Gets</p>
<p>an</p>
<p>( enum )</p>
<p>parameter</p>
<p>of</p>
<p>this</p>
<p>container</p>
<p><b>def</b></p>
<p>cpuType</p>
<p>=</p>
<p>ecucGeneral . CPUType</p>
<p>}</p>
<p>}</p>
<p>Listing 4.60: Read with BswmdModel</p>
<p>objects</p>
<p>starting</p>
<p>with a</p>
<p>module</p>
<p>DefRef</p>
<p>(no</p>
<p>type</p>
<p>declaration)</p>
<p>In contrast to the listing above the next one implements the same behavior but specifies all</p>
<p>types:</p>
<p>//</p>
<p>Required</p>
<p>imports</p>
<p><b>import</b></p>
<p>com . vector . cfg . automation . model . ecuc . microsar . ecuc . EcuC</p>
<p><b>import</b></p>
<p>com . vector . cfg . automation . model . ecuc . microsar . ecuc . ecucgeneral .</p>
<p>EcucGeneral</p>
<p><b>import</b></p>
<p>com . vector . cfg . automation . model . ecuc . microsar . ecuc . ecucgeneral . cputype .</p>
<p>CPUType</p>
<p><b>import</b></p>
<p>com . vector . cfg . automation . model . ecuc . microsar . ecuc . ecucgeneral . cputype .</p>
<p>ECPUType</p>
<p>scriptTask (&quot; TaskName &quot;){</p>
<p>code</p>
<p>{</p>
<p>//</p>
<p>Gets</p>
<p>the</p>
<p>ecuc</p>
<p>module</p>
<p>configuration</p>
<p>EcuC</p>
<p>ecuc</p>
<p>=</p>
<p>bswmdModel ( EcuC ) . single</p>
<p>//</p>
<p>Gets</p>
<p>the</p>
<p>EcucGeneral</p>
<p>container</p>
<p>EcucGeneral</p>
<p>ecucGeneral</p>
<p>=</p>
<p>ecuc . ecucGeneral</p>
<p>//</p>
<p>Gets</p>
<p>an</p>
<p>enum</p>
<p>parameter</p>
<p>of</p>
<p>this</p>
<p>container</p>
<p>CPUType</p>
<p>cpuType</p>
<p>=</p>
<p>ecucGeneral . CPUType</p>
<p><b>if</b></p>
<p>( cpuType . value</p>
<p>==</p>
<p>ECPUType . CPU32Bit )</p>
<p>{</p>
<p>&quot; Do</p>
<p>something</p>
<p>... &quot;</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.61: Read with BswmdModel objects starting with a module class (strong typing)</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>72 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>The bswmdModel() API</p>
<p>takes an optional</p>
<p>closure argument which is being called for each</p>
<p>created BswmdModel object.</p>
<p>This object is used as parameter of the closure:</p>
<p>//</p>
<p>Required</p>
<p>imports</p>
<p><b>import</b></p>
<p>com . vector . cfg . automation . model . ecuc . microsar . ecuc . EcuC</p>
<p><b>import</b></p>
<p>com . vector . cfg . automation . model . ecuc . microsar . ecuc . ecucgeneral . cputype .</p>
<p>ECPUType</p>
<p>scriptTask (&quot; TaskName &quot;){</p>
<p>code</p>
<p>{</p>
<p>//</p>
<p>Executes</p>
<p>the</p>
<p>closure</p>
<p>with</p>
<p>all</p>
<p>instances</p>
<p>of</p>
<p>this</p>
<p>definition</p>
<p>bswmdModel ( EcuC )</p>
<p>{</p>
<p>//</p>
<p>The</p>
<p>related</p>
<p>BswmdModel</p>
<p>instance</p>
<p>is</p>
<p>parameter</p>
<p>of</p>
<p>this</p>
<p>closure</p>
<p>ecuc</p>
<p>-&gt;</p>
<p><b>if</b></p>
<p>( ecuc . ecucGeneral . CPUType . value</p>
<p>==</p>
<p>ECPUType . CPU32Bit )</p>
<p>{</p>
<p>&quot; Do</p>
<p>something</p>
<p>... &quot;</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.62: Read with BswmdModel objects with closure argument</p>
<p>Additionally to the DefRef, an already available MDF model object can be specified to create</p>
<p>the related BswmdModel object for it:</p>
<p>//</p>
<p>Required</p>
<p>imports</p>
<p><b>import</b></p>
<p>com . vector . cfg . automation . model . ecuc . microsar . ecuc . ecucgeneral .</p>
<p>EcucGeneral</p>
<p><b>import</b></p>
<p>com . vector . cfg . automation . model . ecuc . microsar . ecuc . ecucgeneral . cputype .</p>
<p>ECPUType</p>
<p>scriptTask (&quot; TaskName &quot;){</p>
<p>code</p>
<p>{</p>
<p>//</p>
<p>Gets</p>
<p>the</p>
<p>MDF</p>
<p>model</p>
<p>instance</p>
<p>of</p>
<p>the</p>
<p>Ecuc</p>
<p>General</p>
<p>container</p>
<p><b>def</b></p>
<p>container</p>
<p>=</p>
<p>mdfModel ( EcucGeneral . DefRef ). single</p>
<p>//</p>
<p>Executes</p>
<p>the</p>
<p>closure</p>
<p>with</p>
<p>this</p>
<p>MDF</p>
<p>object</p>
<p>instance</p>
<p>bswmdModel ( container ,</p>
<p>EcucGeneral . DefRef )</p>
<p>{</p>
<p>//</p>
<p>The</p>
<p>related</p>
<p>BswmdModel</p>
<p>instance</p>
<p>is</p>
<p>parameter</p>
<p>of</p>
<p>this</p>
<p>closure</p>
<p>ecucGeneral</p>
<p>-&gt;</p>
<p><b>if</b></p>
<p>( ecucGeneral . CPUType . value</p>
<p>==</p>
<p>ECPUType . CPU32Bit )</p>
<p>{</p>
<p>&quot; Do</p>
<p>something</p>
<p>... &quot;</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.63: Read with BswmdModel object for an MDF model object</p>
<p>For a generic access to Ecu configuration structure (e.g.</p>
<p>to use the script with different SIPs</p>
<p>and different platforms/derivatives) the untyped model</p>
<p>in combination with SipDefRefs can</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>73 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>be used.</p>
<p>See chapter 4.6.3.4 on page 83 and 4.6.3.6 on page 84 for more details:</p>
<p>//</p>
<p>Required</p>
<p>imports</p>
<p><b>import</b></p>
<p>com . vector . cfg . gen . core . bswmdmodel . GIContainer</p>
<p><b>import</b></p>
<p>com . vector . cfg . gen . core . bswmdmodel . GIParameter</p>
<p>scriptTask (&quot; TaskName &quot;){</p>
<p>code</p>
<p>{</p>
<p>GIContainer</p>
<p>ecucGen</p>
<p>=</p>
<p>bswmdModel ( sipDefRef . EcucGeneral ) . single</p>
<p>GIParameter &lt; Boolean &gt;</p>
<p>ecuCSafeBswChecks</p>
<p>=</p>
<p>ecucGen . getParameter ( sipDefRef</p>
<p>. EcuCSafeBswChecks )</p>
<p><b>if</b></p>
<p>( ecuCSafeBswChecks . valueMdf . booleanValue () )</p>
<p>{</p>
<p>&quot; Do</p>
<p>something</p>
<p>... &quot;</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.64: Read with BswmdModel objects with the untyped model (DefRefAPI)</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>74 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>4.6.2.2 Write the ActiveEcuc</b></p>
<p>This section provides some typical</p>
<p>examples as a brief</p>
<p>introduction for writing the Ecuc by</p>
<p>means of the BswmdModel.</p>
<p>See chapter 4.6.3.3 on page 82 for more details.</p>
<p>For the most cases the entry point for writing the ActiveEcuc is a (existing) module configuration</p>
<p>object which can be retrieved with the bswmdModel() API. Because the model is in read-only</p>
<p>state by default,</p>
<p>every call to an API which creates or deletes elements has to be executed in</p>
<p>a transaction() block.</p>
<p>//</p>
<p>Required</p>
<p>imports</p>
<p><b>import</b></p>
<p>com . vector . cfg . automation . model . ecuc . microsar . ecuc . EcuC</p>
<p><b>import</b></p>
<p>com . vector . cfg . automation . model . ecuc . microsar . ecuc . ecucgeneral .</p>
<p>EcucGeneral</p>
<p>scriptTask (&quot; TaskName &quot;){</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>//</p>
<p>Gets</p>
<p>the</p>
<p>first</p>
<p>found</p>
<p>ecuc</p>
<p>module</p>
<p>instance</p>
<p>EcuC</p>
<p>ecuc</p>
<p>=</p>
<p>bswmdModel ( EcuC ). single</p>
<p>// Gets</p>
<p>the</p>
<p>EcucGeneral</p>
<p>container</p>
<p>or</p>
<p>create</p>
<p>one</p>
<p>if</p>
<p>it</p>
<p>is</p>
<p>missing</p>
<p>EcucGeneral</p>
<p>ecucGeneral</p>
<p>=</p>
<p>ecuc . ecucGeneralOrCreate</p>
<p>//</p>
<p>Gets</p>
<p>an</p>
<p>boolean</p>
<p>parameter</p>
<p>of</p>
<p>this</p>
<p>container</p>
<p>or</p>
<p>create</p>
<p>one</p>
<p>if</p>
<p>it</p>
<p>is</p>
<p>missing</p>
<p><b>def</b></p>
<p>ecuCSafeBswChecks</p>
<p>=</p>
<p>ecucGeneral . ecuCSafeBswChecksOrCreate</p>
<p>//</p>
<p>Sets</p>
<p>the</p>
<p>parameter</p>
<p>value</p>
<p>to</p>
<p>true</p>
<p>ecuCSafeBswChecks . value</p>
<p>=</p>
<p><b>true</b></p>
<p>}}}</p>
<p>Listing 4.65: Write with BswmdModel required/optional objects</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>75 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>//</p>
<p>Required</p>
<p>imports</p>
<p><b>import</b></p>
<p>com . vector . cfg . automation . model . ecuc . microsar . ecuc . EcuC</p>
<p><b>import</b></p>
<p>com . vector . cfg . automation . model . ecuc . microsar . ecuc . ecuchardware .</p>
<p>ecuccoredefinition . EcucCoreDefinition</p>
<p>scriptTask (&quot; TaskName &quot;){</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>//</p>
<p>Gets</p>
<p>the</p>
<p>first</p>
<p>found</p>
<p>ecuc</p>
<p>module</p>
<p>instance</p>
<p>EcuC</p>
<p>ecuc</p>
<p>=</p>
<p>bswmdModel ( EcuC ). single</p>
<p>// Gets</p>
<p>the</p>
<p>EcucCoreDefinition</p>
<p>list</p>
<p>( creates</p>
<p>ecucHardware</p>
<p>if</p>
<p>it</p>
<p>is</p>
<p>missing )</p>
<p><b>def</b></p>
<p>ecucCoreDefinitions</p>
<p>=</p>
<p>ecuc . ecucHardwareOrCreate .</p>
<p>ecucCoreDefinition</p>
<p>// Adds</p>
<p>two</p>
<p>EcucCores</p>
<p>EcucCoreDefinition</p>
<p>core0</p>
<p>=</p>
<p>ecucCoreDefinitions . createAndAdd (&quot;</p>
<p>EcucCore0 &quot; )</p>
<p>EcucCoreDefinition</p>
<p>core1</p>
<p>=</p>
<p>ecucCoreDefinitions . createAndAdd (&quot;</p>
<p>EcucCore1 &quot; )</p>
<p><b>if</b> ( ecucCoreDefinitions . exists (&quot; EcucCore0 &quot; ) )</p>
<p>{</p>
<p>// Sets</p>
<p>EcucCoreId</p>
<p>to</p>
<p>0</p>
<p>ecucCoreDefinitions . byName (&quot; EcucCore0 &quot;). ecucCoreId . setValue (0) ;</p>
<p>}</p>
<p>// Creates</p>
<p>a</p>
<p>new</p>
<p>EcucCore</p>
<p>by</p>
<p>method</p>
<p>' byNameOrCreate '</p>
<p>EcucCoreDefinition</p>
<p>core2</p>
<p>=</p>
<p>ecucCoreDefinitions . byNameOrCreate (&quot;</p>
<p>EcucCore2 &quot; );</p>
<p>}}}</p>
<p>Listing 4.66: Write with BswmdModel multiple objects</p>
<p>//</p>
<p>Required</p>
<p>imports</p>
<p><b>import</b></p>
<p>com . vector . cfg . automation . model . ecuc . microsar . ecuc . EcuC</p>
<p><b>import</b></p>
<p>com . vector . cfg . automation . model . ecuc . microsar . ecuc . ecucgeneral .</p>
<p>EcucGeneral</p>
<p>scriptTask (&quot; TaskName &quot;){</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>//</p>
<p>Gets</p>
<p>the</p>
<p>first</p>
<p>found</p>
<p>ecuc</p>
<p>module</p>
<p>instance</p>
<p>EcuC</p>
<p>ecuc</p>
<p>=</p>
<p>bswmdModel ( EcuC ). single</p>
<p>// Duplicates</p>
<p>container</p>
<p>' EcucGeneral '</p>
<p>and</p>
<p>all</p>
<p>its</p>
<p>children</p>
<p>EcucGeneral</p>
<p>ecucGeneral_Dup</p>
<p>=</p>
<p>ecuc . ecucGeneral . duplicate ()</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.67: Write with BswmdModel - Duplicate a container</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>76 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>//</p>
<p>Required</p>
<p>imports</p>
<p><b>import</b></p>
<p>com . vector . cfg . automation . model . ecuc . microsar . ecuc . ecucgeneral .</p>
<p>EcucGeneral</p>
<p>scriptTask (&quot; TaskName &quot;){</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>//</p>
<p>Gets</p>
<p>the</p>
<p>first</p>
<p>found</p>
<p>ecuc</p>
<p>module</p>
<p>instance</p>
<p>EcucGeneral</p>
<p>ecucGeneral</p>
<p>=</p>
<p>bswmdModel ( EcucGeneral ). single</p>
<p>// Deletes</p>
<p>' ecucGeneral '</p>
<p>from</p>
<p>model</p>
<p>ecucGeneral . moRemove ()</p>
<p>// Checks</p>
<p>if</p>
<p>the</p>
<p>container</p>
<p>' ecucGeneral '</p>
<p>was</p>
<p>removed</p>
<p>from</p>
<p>repository</p>
<p><b>if</b> ( ecucGeneral . moIsRemoved () )</p>
<p>{</p>
<p>&quot; Do</p>
<p>something</p>
<p>... &quot;</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.68: Write with BswmdModel - Delete elements</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>77 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>4.6.2.3 Read the SystemDescription</b></p>
<p>This section contains only one example for reading the SystemDescription by means of the MDF</p>
<p>model.</p>
<p>See chapter 4.6.4.1 on page 86 for more details.</p>
<p>//</p>
<p>Required</p>
<p>imports</p>
<p><b>import</b></p>
<p>com . vector . cfg . model . mdf . ar4x . swcomponenttemplate . datatype .</p>
<p>dataprototypes .*</p>
<p><b>import</b></p>
<p>com . vector . cfg . model . mdf . ar4x . commonstructure . datadefproperties .*</p>
<p>scriptTask (&quot; mdfModel &quot; ,</p>
<p>DV_PROJECT ){</p>
<p>code</p>
<p>{</p>
<p>//</p>
<p>Create</p>
<p>a</p>
<p>type - safe</p>
<p>AUTOSAR</p>
<p>path</p>
<p><b>def</b></p>
<p>asrPath</p>
<p>=</p>
<p>AsrPath . create ( &quot; / PortInterfaces / PiSignal_Dummy / DeSignal_Dummy &quot; ,</p>
<p>MIVariableDataPrototype )</p>
<p>//</p>
<p>Enter</p>
<p>the</p>
<p>MDF</p>
<p>model</p>
<p>tree</p>
<p>starting</p>
<p>at</p>
<p>the</p>
<p>object</p>
<p>with</p>
<p>this</p>
<p>path</p>
<p>mdfModel ( asrPath )</p>
<p>{</p>
<p>MIVariableDataPrototype</p>
<p>prototype</p>
<p>-&gt;</p>
<p>//</p>
<p>Traverse</p>
<p>down</p>
<p>to</p>
<p>the</p>
<p>swDataDefProps</p>
<p>prototype . swDataDefProps</p>
<p>{</p>
<p>MISwDataDefProps</p>
<p>swDataDefPropsParam</p>
<p>-&gt;</p>
<p>//</p>
<p>swDataDefPropsVariant</p>
<p>is</p>
<p>a</p>
<p>List &lt; MISwDataDefPropsConditional &gt;</p>
<p>//</p>
<p>Execute</p>
<p>the</p>
<p>following</p>
<p>for</p>
<p>ALL</p>
<p>elements</p>
<p>of</p>
<p>this</p>
<p>List</p>
<p>swDataDefPropsParam . swDataDefPropsVariant</p>
<p>{</p>
<p>MISwDataDefPropsConditional</p>
<p>swDataDefPropsCondParam</p>
<p>-&gt;</p>
<p>//</p>
<p>Resolve</p>
<p>the</p>
<p>dataConstr</p>
<p>reference</p>
<p>( type</p>
<p>MIDataConstr )</p>
<p><b>def</b></p>
<p>target</p>
<p>=</p>
<p>swDataDefPropsCondParam . dataConstr . refTarget</p>
<p>//</p>
<p>Get</p>
<p>the</p>
<p>swCalibrationAccess</p>
<p>enum</p>
<p>value</p>
<p><b>def</b></p>
<p>access</p>
<p>=</p>
<p>swDataDefPropsCondParam . swCalibrationAccess</p>
<p><b>assert</b></p>
<p>access</p>
<p>==</p>
<p>MISwCalibrationAccessEnum . NOT_ACCESSIBLE</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.69: Read system description starting with an AUTOSAR path in closure</p>
<p>The same sample as above, but in property access style instead of closures:</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>78 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>//</p>
<p>Create</p>
<p>a</p>
<p>type - safe</p>
<p>AUTOSAR</p>
<p>path</p>
<p><b>def</b></p>
<p>asrPath</p>
<p>=</p>
<p>AsrPath . create ( &quot; / PortInterfaces / PiSignal_Dummy / DeSignal_Dummy &quot; ,</p>
<p>MIVariableDataPrototype )</p>
<p><b>def</b></p>
<p>prototype</p>
<p>=</p>
<p>mdfModel ( asrPath )</p>
<p><b>def</b></p>
<p>swDataDefPropsParam</p>
<p>=</p>
<p>prototype . swDataDefProps</p>
<p>//</p>
<p>Execute</p>
<p>the</p>
<p>following</p>
<p>for</p>
<p>ALL</p>
<p>swDataDefPropsVariant</p>
<p>swDataDefPropsParam . swDataDefPropsVariant . each {</p>
<p>swDataDefPropsCondParam</p>
<p>-&gt;</p>
<p>//</p>
<p>Resolve</p>
<p>the</p>
<p>dataConstr</p>
<p>reference</p>
<p>( type</p>
<p>MIDataConstr )</p>
<p><b>def</b></p>
<p>target</p>
<p>=</p>
<p>swDataDefPropsCondParam . dataConstr . refTarget</p>
<p>//</p>
<p>Get</p>
<p>the</p>
<p>swCalibrationAccess</p>
<p>enum</p>
<p>value</p>
<p><b>def</b></p>
<p>access</p>
<p>=</p>
<p>swDataDefPropsCondParam . swCalibrationAccess</p>
<p><b>assert</b></p>
<p>access</p>
<p>==</p>
<p>MISwCalibrationAccessEnum . NOT_ACCESSIBLE</p>
<p>}</p>
<p>Listing 4.70: Read system description starting with an AUTOSAR path in property style</p>
<p><b>4.6.2.4 Write the SystemDescription</b></p>
<p>Writing the system description looks quite similar to the reading, but you have to use methods</p>
<p>like (see chapter 4.6.4.3 on page 90 for more details):</p>
<p>• get&lt;Element&gt;OrCreate() or &lt;element&gt;OrCreate</p>
<p>• createAndAdd()</p>
<p>• byNameOrCreate()</p>
<p>You have to open a transaction before you can modify the MDF model,</p>
<p>see chapter 4.6.6 on</p>
<p>page 104 for details.</p>
<p>The following samples show the different types of write API:</p>
<p>transaction {</p>
<p>//</p>
<p>The</p>
<p>asrPath</p>
<p>points</p>
<p>to</p>
<p>an</p>
<p>MIVariableDataPrototype</p>
<p>mdfModel ( asrPath )</p>
<p>{</p>
<p>dataPrototype</p>
<p>-&gt;</p>
<p>dataPrototype . category</p>
<p>=</p>
<p>&quot; NewCategory &quot;</p>
<p>}</p>
<p>}</p>
<p>Listing 4.71: Changing a simple property of an MIVariableDataPrototype</p>
<p>transaction {</p>
<p>//</p>
<p>The</p>
<p>asrPath</p>
<p>points</p>
<p>to</p>
<p>an</p>
<p>MIVariableDataPrototype</p>
<p>mdfModel ( asrPath )</p>
<p>{</p>
<p><b>int</b></p>
<p>count</p>
<p>=</p>
<p>0</p>
<p><b>assert</b></p>
<p>adminData</p>
<p>==</p>
<p><b>null</b></p>
<p>adminDataOrCreate</p>
<p>{</p>
<p>count ++</p>
<p>}</p>
<p><b>assert</b></p>
<p>count</p>
<p>==</p>
<p>1</p>
<p><b>assert</b></p>
<p>adminData</p>
<p>!=</p>
<p><b>null</b></p>
<p>}</p>
<p>}</p>
<p>Listing 4.72: Creating non-existing member by navigating into its content with OrCreate()</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>79 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>transaction {</p>
<p>//</p>
<p>The</p>
<p>asrPath</p>
<p>points</p>
<p>to</p>
<p>an</p>
<p>MIVariableDataPrototype</p>
<p>mdfModel ( asrPath )</p>
<p>{</p>
<p><b>assert</b></p>
<p>adminData . sdg . empty</p>
<p>adminData</p>
<p>{</p>
<p>sdg . createAndAdd ( MISdg )</p>
<p>{</p>
<p>gid</p>
<p>=</p>
<p>&quot; NewGidValue &quot;</p>
<p>}</p>
<p>}</p>
<p><b>assert</b></p>
<p>adminData . sdg . first . gid</p>
<p>==</p>
<p>&quot; NewGidValue &quot;</p>
<p>}</p>
<p>}</p>
<p>Listing 4.73: Creating new members of child lists with createAndAdd() by type</p>
<p>transaction {</p>
<p>//</p>
<p>The</p>
<p>path</p>
<p>points</p>
<p>to</p>
<p>an</p>
<p>MISenderReceiverInterface</p>
<p>mdfModel ( asrPath )</p>
<p>{</p>
<p>sendRecIf</p>
<p>-&gt;</p>
<p><b>def</b></p>
<p>dataList</p>
<p>=</p>
<p>sendRecIf . dataElement</p>
<p><b>def</b></p>
<p>dataElement</p>
<p>=</p>
<p>dataList . byNameOrCreate (&quot; MyDataElement &quot; )</p>
<p>dataElement . name</p>
<p>=</p>
<p>&quot; NewName &quot;</p>
<p><b>def</b></p>
<p>dataElement2</p>
<p>=</p>
<p>dataList . byNameOrCreate ( &quot; NewName &quot; )</p>
<p><b>assert</b></p>
<p>dataElement</p>
<p>==</p>
<p>dataElement2</p>
<p>}</p>
<p>}</p>
<p>Listing 4.74: Updating existing members of child lists with byNameOrCreate() by type</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>80 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>4.6.3 BswmdModel</b></p>
<p><b>in AutomationInterface</b></p>
<p>The AutomationInterface contains a generated BswmdModel.</p>
<p>The BswmdModel provides clas-</p>
<p>ses for all</p>
<p>Ecuc elements of the AUTOSAR model</p>
<p>(ModuleConfigurations,</p>
<p>Containers,</p>
<p>Para-</p>
<p>meter, References).</p>
<p>The BswmdModel is automatically generated from the SIP of the DaVinci</p>
<p>Configurator.</p>
<p><b>You should</b> use the BswmdModel whenever possible to access Ecuc elements of the AUTOSAR</p>
<p>model.</p>
<p>For accessing the Ecuc elements with the BswmdModel, see chapter 4.6.3.2.</p>
<p>For a detailed description of the BswmdModel, see chapter 5.3.1 on page 244.</p>
<p><b>4.6.3.1 BswmdModel</b></p>
<p><b>Package and Class Names</b></p>
<p>The generated model is contained in the Java package com.vector.cfg.automation.model.ecuc.</p>
<p>Every Module has its own sub packages with the name:</p>
<p>• com.vector.cfg.automation.model.ecuc.&lt;AUTOSAR-PKG&gt;.&lt;SHORTNAME&gt;</p>
<p><b>–</b> e.g.</p>
<p>com.vector.cfg.automation.model.ecuc.microsar.dio</p>
<p><b>–</b> e.g.</p>
<p>com.vector.cfg.automation.model.ecuc.autosar.ecucdefs.can</p>
<p>The packages then contain the class of the element like Dio for the module.</p>
<p>The full path would</p>
<p>be com.vector.cfg.automation.model.ecuc.microsar.dio.Dio.</p>
<p>For the container DioGeneral it would be:</p>
<p>• com.vector.cfg.automation.model.ecuc.microsar.dio.diogeneral.DioGeneral</p>
<p>To use the BswmdModel</p>
<p>in script files,</p>
<p>you have to write an import,</p>
<p>when accessing the</p>
<p>class:</p>
<p>// The</p>
<p>required</p>
<p>BswmdModel</p>
<p>import</p>
<p>of</p>
<p>the</p>
<p>class</p>
<p>Dio</p>
<p><b>import</b></p>
<p>com . vector . cfg . automation . model . ecuc . microsar . dio . Dio</p>
<p>scriptTask (&quot; TaskName &quot;){</p>
<p>code {</p>
<p>Dio . DefRef</p>
<p>// Usage</p>
<p>of</p>
<p>the</p>
<p>class</p>
<p>Dio</p>
<p>}</p>
<p>}</p>
<p>Listing 4.75: BswmdModel usage with import</p>
<p><b>4.6.3.2 Reading with BswmdModel</b></p>
<p>The bswmdModel() methods provide entry points to start navigation through the ActiveEcuc.</p>
<p>Client code can use the Closure overloads to navigate into the content of the found bswmd ob-</p>
<p>jects.</p>
<p>Inside the called closure the related bswmd object is available as closure parameter.</p>
<p>The following types of entry points are provided here:</p>
<p>• bswmdModel(WrappedTypedDefRef) searches all objects with the specified definition and</p>
<p>returns the BswmdModel instances.</p>
<p>• bswmdModel(Class) searches all objects with the specified class and returns the Bswmd-</p>
<p>Model instances.</p>
<p>Finds the same elements as above.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>81 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>• bswmdModel(MIHasDefinition, WrappedTypedDefRef) returns the BswmdModel instance</p>
<p>for the provided MDF model instance.</p>
<p>• bswmdModel(Class, String) searches all</p>
<p>objects with the specified class and the mat-</p>
<p>ching path,</p>
<p>see IMdfModelApi.mdfModel(String) or chapter 4.6.4.2 on page 88 for de-</p>
<p>tails.</p>
<p>When a closure is being used, the object found by bswmdModel() is provided as parameter when</p>
<p>the closure is called.</p>
<p>The bswmdModel() method itself returns the found objects too.</p>
<p>Retrieving the objects member</p>
<p>and children (Container, Parameter) as properties or methods are then possible directly using</p>
<p>the returned object.</p>
<p>Examples:</p>
<p>code</p>
<p>{</p>
<p>//</p>
<p>Gets</p>
<p>the</p>
<p>ecuc</p>
<p>module</p>
<p>configuration</p>
<p>EcuC</p>
<p>ecuc</p>
<p>=</p>
<p>bswmdModel ( EcuC ) . single</p>
<p>}</p>
<p>Listing 4.76: Read with BswmdModel the EcuC module configuration</p>
<p>Or the same with a DefRef instead of a Class:</p>
<p>code</p>
<p>{</p>
<p>//</p>
<p>Gets</p>
<p>the</p>
<p>ecuc</p>
<p>module</p>
<p>configuration</p>
<p>EcuC</p>
<p>ecuc</p>
<p>=</p>
<p>bswmdModel ( EcuC . DefRef ) . single</p>
<p>}</p>
<p>Listing 4.77: Read with BswmdModel the EcuC module configuration with DefRef</p>
<p>For more usage samples please see chapter 4.6.2.1 on page 71.</p>
<p><b>4.6.3.3 Writing with BswmdModel</b></p>
<p>As well as for reading with BswmdModel the entry points for writing with BswmdModel are also</p>
<p>the bswmdModel() methods.</p>
<p>There has to be at least one existing element in the ActiveEcuc</p>
<p>from which the navigation can be started.</p>
<p>For the most cases the entry point for writing the</p>
<p>ActiveEcuc is the module configuration.</p>
<p>Example:</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>//</p>
<p>Gets</p>
<p>the</p>
<p>ecuc</p>
<p>module</p>
<p>configuration</p>
<p>EcuC</p>
<p>ecuc</p>
<p>=</p>
<p>bswmdModel ( EcuC ) . single</p>
<p>// Gets</p>
<p>the</p>
<p>EcucGeneral</p>
<p>container</p>
<p>or</p>
<p>create</p>
<p>one</p>
<p>if</p>
<p>it</p>
<p>is</p>
<p>missing</p>
<p>EcucGeneral</p>
<p>ecucGeneral</p>
<p>=</p>
<p>ecuc . ecucGeneralOrCreate</p>
<p>}</p>
<p>}</p>
<p>Listing 4.78: Write with BswmdModel the EcucGeneral container</p>
<p>For more usage samples please see chapter 4.6.2.2 on page 75.</p>
<p>The model is in read-only state by default, so no objects could be created.</p>
<p>For this reason all</p>
<p>calls which creates or deletes elements has to be executed within a transaction() block.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>82 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>See 5.3.1.9 on page 252 for more details to the BswmdModel write API.</p>
<p><b>4.6.3.4 Sip DefRefs</b></p>
<p>The sipDefRef API provides access to retrieve generated DefRef instances from the SIP without</p>
<p>knowing the correct Java/Groovy imports.</p>
<p>This is mainly useful in script files,</p>
<p>where no IDE</p>
<p>helps with the imports.</p>
<p><b>If you are using an Automation Script Project you can ignore this API</b> and use the</p>
<p>DefRefs provided by the generated classes,</p>
<p>which is superior to this API,</p>
<p>because they are</p>
<p>typesafe and compile time checked.</p>
<p>See 4.6.3.5 for details.</p>
<p>The listing show the usage of the sipDefRef API with short names and definition paths.</p>
<p>code {</p>
<p><b>def</b></p>
<p>theDefRef</p>
<p>//</p>
<p>You</p>
<p>can</p>
<p>call</p>
<p>sipDefRef . &lt; ShortName &gt;</p>
<p>theDefRef</p>
<p>=</p>
<p>sipDefRef . EcucGeneral</p>
<p>theDefRef</p>
<p>=</p>
<p>sipDefRef . Dio</p>
<p>theDefRef</p>
<p>=</p>
<p>sipDefRef . DioPort</p>
<p>//</p>
<p>Or</p>
<p>you</p>
<p>can</p>
<p>use</p>
<p>the</p>
<p>[]</p>
<p>notation</p>
<p>theDefRef</p>
<p>=</p>
<p>sipDefRef [&quot; Dio &quot; ]</p>
<p>theDefRef</p>
<p>=</p>
<p>sipDefRef [&quot; DioChannelGroup &quot;]</p>
<p>//</p>
<p>If</p>
<p>the</p>
<p>DefRef</p>
<p>is</p>
<p>not</p>
<p>unique</p>
<p>you</p>
<p>have</p>
<p>to</p>
<p>specify</p>
<p>the</p>
<p>full</p>
<p>definition</p>
<p>theDefRef</p>
<p>=</p>
<p>sipDefRef [&quot; / MICROSAR / EcuC / EcucGeneral &quot;]</p>
<p>theDefRef</p>
<p>=</p>
<p>sipDefRef [&quot; / MICROSAR / Dio &quot;]</p>
<p>theDefRef</p>
<p>=</p>
<p>sipDefRef [&quot; / MICROSAR / Dio / DioConfig / DioPort &quot;]</p>
<p>// Wildcards</p>
<p>are</p>
<p>also</p>
<p>allowed</p>
<p>theDefRef</p>
<p>=</p>
<p>sipDefRef [&quot; /[ ANY ]/ Adc &quot; ]</p>
<p>}</p>
<p>Listing 4.79: Usage of the sipDefRef API to retrieve DefRefs in script files</p>
<p>You can also check if a certain DefRef exists in the currently loaded SIP. The method hasDe-</p>
<p>fRef(String) returns true, if the definition exists.</p>
<p>This is helpful to check for existence of the</p>
<p>definition before using it to prevent e.g.</p>
<p>LinkageErrors.</p>
<p><b>if</b> ( sipDefRef . hasDefRef ( &quot; Dio &quot; ) ){</p>
<p>//</p>
<p>Now</p>
<p>we</p>
<p>know</p>
<p>the</p>
<p>Dio</p>
<p>module</p>
<p>exists</p>
<p>in</p>
<p>the</p>
<p>SIP</p>
<p><b>def</b></p>
<p>theDefRef</p>
<p>=</p>
<p>sipDefRef . Dio</p>
<p>}</p>
<p>Listing 4.80: Check if a definition exists in the SIP</p>
<p><b>4.6.3.5 BswmdModel</b></p>
<p><b>DefRefs</b></p>
<p>The generated BswmdModel classes contain DefRef instances for each definition element (Mo-</p>
<p>dules, Containers, Parameters).</p>
<p>You should always prefer this API over the Sip DefRefs, because</p>
<p>this is type safe and checked during compile time.</p>
<p>You can use the DefRefs by calling &lt;ModelClassName&gt;.DefRef.</p>
<p>The literal DefRef is a static</p>
<p>constant in the generated classes.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>83 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>For simple parameters like Strings, Integer there is no generated class, so you have to call the</p>
<p>method on its parent container like &lt;ParentContainerClass&gt;.&lt;ParameterShortName&gt;DefRef.</p>
<p>There exist generated classes for Parameters of type Enumeration and References to Container</p>
<p>and therefore you have both ways to access the DefRef:</p>
<p>• &lt;ModelClassName&gt;.DefRef or</p>
<p>• &lt;ParentContainerClass&gt;.&lt;ParameterShortName&gt;DefRef</p>
<p>To use the DefRefs of the classes you have to add imports in script files, see chapter 4.6.3.1 on</p>
<p>page 81 for required import names.</p>
<p>//</p>
<p>Required</p>
<p>imports</p>
<p><b>import</b></p>
<p>com . vector . cfg . automation . model . ecuc . microsar . ecuc . ecucgeneral .</p>
<p>EcucGeneral</p>
<p><b>import</b></p>
<p>com . vector . cfg . automation . model . ecuc . microsar . ecuc . ecucgeneral . cputype .</p>
<p>CPUType</p>
<p>scriptTask (&quot; TaskName &quot;){</p>
<p>code</p>
<p>{</p>
<p><b>def</b></p>
<p>theDefRef</p>
<p>// DefRef</p>
<p>from</p>
<p>EcucGeneral</p>
<p>container</p>
<p>theDefRef</p>
<p>=</p>
<p>EcucGeneral . DefRef</p>
<p>// DefRef</p>
<p>from</p>
<p>generated</p>
<p>parameter</p>
<p>theDefRef</p>
<p>=</p>
<p>CPUType . DefRef</p>
<p>// Or</p>
<p>the</p>
<p>same</p>
<p>theDefRef</p>
<p>=</p>
<p>EcucGeneral . CPUTypeDefRef</p>
<p>// DefRef</p>
<p>from</p>
<p>simple</p>
<p>parameter</p>
<p>theDefRef</p>
<p>=</p>
<p>EcucGeneral . AtomicBitAccessInBitfieldDefRef</p>
<p>theDefRef</p>
<p>=</p>
<p>EcucGeneral . DummyFunctionDefRef</p>
<p>}</p>
<p>}</p>
<p>Listing 4.81: Usage of generated DefRefs form the bswmd model</p>
<p><b>4.6.3.6 Untyped Model</b></p>
<p><b>with the DefRef API</b></p>
<p>The untyped Model provides an generic access to the Ecu configuration structure via DefRefs.</p>
<p>There are NO generated classes for the Definition structure.</p>
<p>To use the untyped Model, the SipDefRefs can be used:</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>84 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>//</p>
<p>Required</p>
<p>imports</p>
<p><b>import</b></p>
<p>com . vector . cfg . gen . core . bswmdmodel . GIModuleConfiguration</p>
<p><b>import</b></p>
<p>com . vector . cfg . gen . core . bswmdmodel . GIContainer</p>
<p><b>import</b></p>
<p>com . vector . cfg . gen . core . bswmdmodel . GIParameter</p>
<p>scriptTask (&quot; TaskName &quot;){</p>
<p>code</p>
<p>{</p>
<p>GIModuleConfiguration</p>
<p>ecuc</p>
<p>=</p>
<p>bswmdModel ( sipDefRef . EcuC ). single</p>
<p>//</p>
<p>If</p>
<p>the</p>
<p>short</p>
<p>name</p>
<p>is</p>
<p>not</p>
<p>unique ,</p>
<p>you</p>
<p>can</p>
<p>use</p>
<p>the</p>
<p>full</p>
<p>definition</p>
<p>as</p>
<p>string</p>
<p>( DefRef</p>
<p>wildcards</p>
<p>are</p>
<p>allowed ,</p>
<p>e.g.</p>
<p>[/ ANY ])</p>
<p>GIContainer</p>
<p>ecucPduCollection</p>
<p>=</p>
<p>ecuc . getSubContainer ( sipDefRef [ &quot;/</p>
<p>MICROSAR / EcuC / EcucPduCollection &quot; ])</p>
<p>List &lt; GIContainer &gt;</p>
<p>pdus</p>
<p>=</p>
<p>ecucPduCollection . getSubContainers ( sipDefRef [ &quot;</p>
<p>/ MICROSAR / EcuC / EcucPduCollection / Pdu &quot; ])</p>
<p>GIContainer</p>
<p>pdu</p>
<p>=</p>
<p>pdus . get (0)</p>
<p>GIParameter &lt; Integer &gt;</p>
<p>pduLength</p>
<p>=</p>
<p>pdu . getParameter ( sipDefRef [ &quot; / MICROSAR /</p>
<p>EcuC / EcucPduCollection / Pdu / PduLength &quot; ])</p>
<p>&quot; PduLength :</p>
<p>&quot;</p>
<p>+</p>
<p>pduLength . getValueMdf () . intValue ()</p>
<p>}</p>
<p>}</p>
<p>Listing 4.82: Usage of the untyped BswmdModel with SipDefRefs</p>
<p>See chapter 5.3.1.2 on page 246 for more details.</p>
<p><b>4.6.3.7 Switching from Domain Models to BswmdModel</b></p>
<p>You can switch from domain models to the BswmdModel, if the domain model is backed by Acti-</p>
<p>veEcuC elements.</p>
<p>Please read the documentation of the different domain models, for whether</p>
<p>this is possible for a certain domain model.</p>
<p>To switch from a domain model to the BswmdModel, you can call one of the methods for IHas-</p>
<p>ModelObjects like,</p>
<p>bswmdModel(IHasModelObject, WrappedTypedDefRef).</p>
<p>But you need a</p>
<p>DefRef to get the type safe BswmdModel object.</p>
<p>The domain model documents, which DefRef</p>
<p>must be used for the certain domain model object.</p>
<p>//</p>
<p>Domain</p>
<p>model</p>
<p>object</p>
<p>of</p>
<p>the</p>
<p>communication</p>
<p>domain</p>
<p>ICanController</p>
<p>canDomainModel</p>
<p>=</p>
<p>...</p>
<p><b>def</b></p>
<p>canControllerBswmd</p>
<p>=</p>
<p>canDomainModel . bswmdModel ( CanController . DefRef )</p>
<p>//</p>
<p>Or</p>
<p>use</p>
<p>a</p>
<p>closure</p>
<p>canDomainModel . bswmdModel ( CanController . DefRef ) {</p>
<p>canControllerBswmd</p>
<p>-&gt;</p>
<p>// Use</p>
<p>the</p>
<p>bswmd</p>
<p>object</p>
<p>}</p>
<p>Listing 4.83: Switch from a domain model object to the corresponding BswmdModel object</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>85 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>4.6.4 MDF Model</b></p>
<p><b>in AutomationInterface</b></p>
<p>Access to the MDF model is required in all areas which are not covered by the BswmdModel.</p>
<p>This is the SystemDescription (non-Ecuc data) and details of</p>
<p>the Ecuc model</p>
<p>which are not</p>
<p>covered by the BswmdModel.</p>
<p>The MDF model implements the raw AUTOSAR data model and is based on the AUTOSAR</p>
<p>meta-model.</p>
<p>For details about the MDF model, see chapter 5.1 on page 230.</p>
<p>For more details concerning the methods mentioned in this chapter,</p>
<p>you should also read the</p>
<p>JavaDoc sections in the described interfaces and classes.</p>
<p><b>4.6.4.1 Reading the MDF Model</b></p>
<p>The mdfModel() methods provide entry points to start navigation through the MDF model.</p>
<p>Client code can use the Closure overloads to navigate into the content of</p>
<p>the found MDF</p>
<p>objects.</p>
<p>Inside the called closure the related MDF object is available as closure parameter.</p>
<p>The following types of entry points are provided here:</p>
<p>• mdfModel(TypedAsrPath) searches an object with the specified AUTOSAR path</p>
<p>• mdfModel(TypedDefRef) searches all objects with the specified definition</p>
<p>• mdfModel(Class) searches all objects with the specified model type (meta class)</p>
<p>• mdfModel(String) searches for model</p>
<p>elements with by different properties,</p>
<p>see 4.6.4.2</p>
<p>on page 88 for details.</p>
<p>When a closure is being used, the object found by mdfModel() is provided as parameter when</p>
<p>this closure is called:</p>
<p>code</p>
<p>{</p>
<p>//</p>
<p>Create</p>
<p>a</p>
<p>type - safe</p>
<p>AUTOSAR</p>
<p>path</p>
<p>for</p>
<p>a</p>
<p>MIVariableDataPrototype</p>
<p><b>def</b></p>
<p>asrPath</p>
<p>=</p>
<p>AsrPath . create ( &quot;/ PortInterfaces / PiSignal_Dummy / DeSignal_Dummy &quot; ,</p>
<p>MIVariableDataPrototype )</p>
<p>//</p>
<p>Use</p>
<p>the</p>
<p>Java - Style</p>
<p>syntax</p>
<p><b>def</b></p>
<p>dataDefPropsMdf</p>
<p>=</p>
<p>mdfModel ( asrPath ) . swDataDefProps</p>
<p>//</p>
<p>Or</p>
<p>use</p>
<p>the</p>
<p>Closure</p>
<p>syntax</p>
<p>to</p>
<p>navigate</p>
<p>//</p>
<p>Enter</p>
<p>the</p>
<p>MDF</p>
<p>model</p>
<p>tree</p>
<p>starting</p>
<p>at</p>
<p>the</p>
<p>object</p>
<p>with</p>
<p>this</p>
<p>path</p>
<p>mdfModel ( asrPath )</p>
<p>{</p>
<p>//</p>
<p>Parameter</p>
<p>type</p>
<p>is</p>
<p>MIVariableDataPrototype :</p>
<p>dataPrototype</p>
<p>-&gt;</p>
<p>//</p>
<p>Traverse</p>
<p>down</p>
<p>to</p>
<p>the</p>
<p>swDataDefProps</p>
<p>dataPrototype . swDataDefProps</p>
<p>{ MISwDataDefProps</p>
<p>props</p>
<p>println</p>
<p>&quot; Do</p>
<p>something</p>
<p>... &quot;</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.84: Navigate into an MDF object starting with an AUTOSAR path</p>
<p>The mdfModel() method itself</p>
<p>returns the found object too.</p>
<p>Retrieving the objects member</p>
<p>(as property) is then possible directly using the returned object.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>86 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>An alternative is using a closure to navigate into the MDF object and access its member</p>
<p>there:</p>
<p>//</p>
<p>Get</p>
<p>an</p>
<p>MDF</p>
<p>object</p>
<p>and</p>
<p>get</p>
<p>its</p>
<p>members</p>
<p>directly</p>
<p><b>def</b></p>
<p>obj</p>
<p>=</p>
<p>mdfModel ( asrPath )</p>
<p>//</p>
<p>Type</p>
<p>MIVariableDataPrototype</p>
<p><b>def</b></p>
<p>props</p>
<p>=</p>
<p>obj . swDataDefProps</p>
<p>//</p>
<p>Type</p>
<p>MISwDataDefProps</p>
<p>//</p>
<p>Get</p>
<p>an</p>
<p>MDF</p>
<p>object</p>
<p>and</p>
<p>get</p>
<p>its</p>
<p>members</p>
<p>using</p>
<p>a</p>
<p>closure</p>
<p><b>def</b></p>
<p>props2</p>
<p><b>def</b></p>
<p>obj2</p>
<p>=</p>
<p>mdfModel ( asrPath )</p>
<p>{</p>
<p>props2</p>
<p>=</p>
<p>swDataDefProps</p>
<p>}</p>
<p>//</p>
<p>The</p>
<p>results</p>
<p>are</p>
<p>the</p>
<p>same</p>
<p><b>assert</b></p>
<p>obj</p>
<p>==</p>
<p>obj2</p>
<p><b>assert</b></p>
<p>props</p>
<p>==</p>
<p>props2</p>
<p>Listing 4.85: Find an MDF object and retrieve some content data</p>
<p>Closures can be nested to navigate deeply into the MDF model tree:</p>
<p>mdfModel ( asrPath )</p>
<p>{</p>
<p><b>int</b></p>
<p>count</p>
<p>=</p>
<p>0</p>
<p>swDataDefProps</p>
<p>{</p>
<p>//</p>
<p>swDataDefPropsVariant</p>
<p>is</p>
<p>a</p>
<p>List &lt; MISwDataDefPropsConditional &gt;</p>
<p>//</p>
<p>Execute</p>
<p>the</p>
<p>following</p>
<p>for</p>
<p>ALL</p>
<p>elements</p>
<p>of</p>
<p>this</p>
<p>List</p>
<p>List</p>
<p>v</p>
<p>=</p>
<p>swDataDefPropsVariant</p>
<p>{</p>
<p>println</p>
<p>&quot; Do</p>
<p>something</p>
<p>... &quot;</p>
<p>count ++</p>
<p>}</p>
<p>}</p>
<p><b>assert</b></p>
<p>count</p>
<p>&gt;=</p>
<p>1</p>
<p>}</p>
<p>Listing 4.86: Navigating deeply into an MDF object with nested closures</p>
<p>When a member doesn’t exist during navigation into a deep MDF model</p>
<p>tree,</p>
<p>the specified</p>
<p>closure is not called:</p>
<p>mdfModel ( asrPath )</p>
<p>{</p>
<p><b>int</b></p>
<p>count</p>
<p>=</p>
<p>0</p>
<p><b>assert</b></p>
<p>adminData</p>
<p>==</p>
<p><b>null</b></p>
<p>adminData</p>
<p>{</p>
<p>count ++</p>
<p>}</p>
<p><b>assert</b></p>
<p>count</p>
<p>==</p>
<p>0</p>
<p>}</p>
<p>Listing 4.87: Ignoring non-existing member closures</p>
<p><b>Retrieving a Child by Shortname or Definition</b></p>
<p>There are multiple ways to retrieve children</p>
<p>from an MDF model object, by the shortname or by its definition.</p>
<p>The shortname can be used</p>
<p>at the object with childByName() or at the child list with byName().</p>
<p><b>childByName</b></p>
<p>The childByName(MIARObject, String, Closure) method calls the passed</p>
<p>Closure,</p>
<p>if</p>
<p>the request child exists.</p>
<p>And returns the child MIReferrable below the specified</p>
<p>object which has this relative AUTOSAR path (not starting with ’/’).</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>87 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>MIContainer</p>
<p>canGeneral</p>
<p>=</p>
<p>...</p>
<p>canGeneral . childByName (&quot; CanMainFunctionRWPeriods &quot; ) {</p>
<p>child - &gt;</p>
<p>// Do</p>
<p>something</p>
<p>}</p>
<p>Listing 4.88: Get a MIReferrable child object by name</p>
<p><b>Lists containing Referrables</b></p>
<p>• The method byName(String) retrieves the child with the shortname, or null, if no child</p>
<p>exists with this shortname.</p>
<p>• The method byName(String, Closure) retrieves the child with the shortname, or null,</p>
<p>if</p>
<p>no child exists with this shortname.</p>
<p>Then the closure is executed with the child as</p>
<p>closure parameter, if the child is not null.</p>
<p>The child is finally returned.</p>
<p>• The method byName(Class, String) retrieves the child with the shortname and type,</p>
<p>or null, if no child exists with this shortname.</p>
<p>• The method byName(Class, String, Closure) retrieves the child with the shortname</p>
<p>and type,</p>
<p>or null,</p>
<p>if no child exists with this shortname.</p>
<p>Then the closure is executed</p>
<p>with the child as closure parameter, if the child is not null.</p>
<p>The child is finally returned.</p>
<p>• The method getAt(String) all</p>
<p>members with this relative AUTOSAR path.</p>
<p>Groovy</p>
<p>also allows to write list[&quot;ShortnameToSearchFor&quot;].</p>
<p>//</p>
<p>The</p>
<p>asrPath</p>
<p>points</p>
<p>to</p>
<p>an</p>
<p>MISenderReceiverInterface</p>
<p><b>def</b></p>
<p>prototype</p>
<p>=</p>
<p>mdfModel ( asrPath )</p>
<p>//</p>
<p>byName ()</p>
<p>with</p>
<p>shortname</p>
<p><b>def</b></p>
<p>data1</p>
<p>=</p>
<p>prototype . dataElement . byName ( &quot; DeSignal_Dummy &quot; )</p>
<p><b>assert</b></p>
<p>data1 . name</p>
<p>==</p>
<p>&quot; DeSignal_Dummy &quot;</p>
<p>//</p>
<p>byName ()</p>
<p>with</p>
<p>type</p>
<p>and</p>
<p>shortname</p>
<p><b>def</b></p>
<p>data2</p>
<p>=</p>
<p>prototype . dataElement . byName ( MIVariableDataPrototype ,</p>
<p>&quot; DeSignal2 &quot; )</p>
<p>//</p>
<p>getAt ()</p>
<p>with</p>
<p>shortname</p>
<p><b>def</b></p>
<p>data3</p>
<p>=</p>
<p>prototype . dataElement [ &quot; DeSignal3 &quot; ]</p>
<p>Listing 4.89: Retrieve child from list with byName()</p>
<p><b>Lists containing Parameters and Containers</b></p>
<p>• The method getAt(TypedDefRef) returns all children with the passed definition.</p>
<p>Groovy</p>
<p>also allows to write list[DefRef].</p>
<p><b>4.6.4.2 Reading the MDF Model</b></p>
<p><b>by String</b></p>
<p>The method mdfModel(String) searches for model</p>
<p>elements by multiple ways at once.</p>
<p>The</p>
<p>method evaluates the specified property in the following order, it will continue, if nothing was</p>
<p>found:</p>
<p>• AUTOSAR path, see mdfModel(AsrPath), if the path begins with an ’/’ and the model</p>
<p>element is no definition object (MIParamConfMultiplicity)</p>
<p><b>–</b> Example:</p>
<p>/ActiveEcuc/MyCan/MyContainer</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>88 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>• ObjectLink, see AsrObjectLink, if the path begins with an ’/’ and the model element is</p>
<p>no definition object (type MIParamConfMultiplicity)</p>
<p><b>–</b> Example:</p>
<p>/ActiveEcuc/MyCan/MyContainer[0:ParameterDef]</p>
<p>• Definition path, see mdfModel(DefRef), if the path begins with an ’/’</p>
<p><b>–</b> Example:</p>
<p>/MICROSAR/Can2</p>
<p>• MICROSAR QUERY, if the path begins with<b> &quot;msrq:&quot;</b>.</p>
<p>The defined MICROSAR QUERY</p>
<p>filters the configuration elements</p>
<p>by the given arbitrary filter code.</p>
<p>The filter code must be evaluable to a String, Boolean</p>
<p>or Pattern.</p>
<p><b>Examples:</b></p>
<p><b>–</b> msrq:/MICROSAR/Crc/CrcGeneral{ true }</p>
<p><b>–</b> msrq:/MICROSAR/Crc/CrcGeneral{ ~&quot;[\\w]*[123l]\$&quot; }</p>
<p><b>–</b> msrq:/MICROSAR/Crc/CrcGeneral{ &quot;CrcGeneral&quot; }</p>
<p><b>–</b> msrq:/MICROSAR/Crc/CrcGeneral{ it.getName() == &quot;CrcGeneral&quot; }</p>
<p><b>–</b> msrq:/MICROSAR/Crc/CrcGeneral{ elem -&gt; elem.getName() == &quot;CrcGeneral&quot; }</p>
<p><b>–</b> msrq:/MICROSAR/Crc/CrcGeneral{ getName() == &quot;CrcGeneral&quot; }</p>
<p><b>–</b> msrq:/MICROSAR/Crc/CrcGeneral{ it.getName().contains(&quot;CrcGeneral&quot;) }</p>
<p><b>–</b> msrq:/[ANY]/Crc/CrcGeneral/{ true }</p>
<p>• AUTOSAR path relative to the ActiveEcuc package, if it does not begin with an ’/’</p>
<p><b>–</b> Example:</p>
<p>MyCan/MyContainer</p>
<p>• Definition path as DefRef with wildcard ANY starting at the moduleConfiguration,</p>
<p>if</p>
<p>it</p>
<p>does not begin with an ’/’</p>
<p><b>–</b> Example:</p>
<p>Can/CanGeneral</p>
<p>• Definition path as DefRef with wildcards,</p>
<p>if</p>
<p>it does begin with a valid wildcard like</p>
<p>/[ANY], see EDefRefWildcard.</p>
<p><b>–</b> Example:</p>
<p>/[ANY]/Can/CanGeneral</p>
<p>• Shortname of an MIARElement if the path does not contain any ’/’.</p>
<p><b>–</b> Example:</p>
<p>MyContainer</p>
<p>This method does<b> not</b> limit the search to the ActiveEcuC,</p>
<p>so it can be used to retrieve any</p>
<p>object with the path String.</p>
<p><b>Remark:</b></p>
<p>Even in post-build selectable variant models this method expects to find at most one</p>
<p>object because script code will never run in an unfiltered context.</p>
<p><b>Caution:</b></p>
<p>This is a potential</p>
<p>slow operation,</p>
<p>you should use other mdfModel() methods,</p>
<p>if</p>
<p>possible.</p>
<p>Because this method must traverse the whole model in some cases.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>89 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>def</b></p>
<p>moduleCfg1</p>
<p>=</p>
<p>mdfModel (&quot; / ActiveEcuC / Can &quot;) . single</p>
<p><b>def</b></p>
<p>moduleCfg2</p>
<p>=</p>
<p>mdfModel (&quot; Can &quot; ) . single</p>
<p><b>def</b></p>
<p>moduleCfg3</p>
<p>=</p>
<p>mdfModel (&quot; /[ ANY ]/ Can &quot; ). single</p>
<p><b>def</b></p>
<p>parameter</p>
<p>=</p>
<p>mdfModel ( &quot; / ActiveEcuc / MyCan / MyContainer [0: ParameterDef ] &quot; ).</p>
<p>singleOrNull</p>
<p>Listing 4.90: Get elements with mdfModel(String)</p>
<p>The method msrQuery(String) searches for model elements by using an arbitrary filter code as</p>
<p>closure.</p>
<p>The method evaluates the specified pattern and returns the matching model elements.</p>
<p>If nothing was found, it returns an empty list.</p>
<p>The input string defined as an MICROSAR QUERY, filters the configuration elements by the</p>
<p>given arbitrary filter code.</p>
<p>The arbitrary filter code must be defined inside of the</p>
<p><b>{ }</b> .</p>
<p>The</p>
<p>filter code must be evaluable to a String, Boolean or Pattern.</p>
<p><b>Examples:</b></p>
<p>• /MICROSAR/Crc/CrcGeneral{ true }</p>
<p>• /MICROSAR/Crc/CrcGeneral{ ~&quot;[\\w]*[123l]\$&quot; }</p>
<p>• /MICROSAR/Crc/CrcGeneral{ &quot;CrcGeneral&quot; }</p>
<p>• /MICROSAR/Crc/CrcGeneral{ it.getName() == &quot;CrcGeneral&quot; }</p>
<p>• /MICROSAR/Crc/CrcGeneral{ elem -&gt; elem.getName() == &quot;CrcGeneral&quot; }</p>
<p>• /MICROSAR/Crc/CrcGeneral{ getName() == &quot;CrcGeneral&quot; }</p>
<p>• /MICROSAR/Crc/CrcGeneral{ it.getName().contains(&quot;CrcGeneral&quot;) }</p>
<p>• /[ANY]/Crc/CrcGeneral/{ true }</p>
<p><b>4.6.4.3 Writing the MDF Model</b></p>
<p>Writing to the MDF model can be done with the same mdfModel(AsrPath) API, but you have</p>
<p>to call specific methods to modify the model objects.</p>
<p>The methods are devided in the following</p>
<p>use cases:</p>
<p>• Change a simple property like Strings</p>
<p>• Change or create a single child relateion (0:1)</p>
<p>• Create a new child for a child list (0:*)</p>
<p>• Update an existing child from a child list (0:*)</p>
<p>You have to open a transaction before you can modify the MDF model,</p>
<p>see chapter 4.6.6 on</p>
<p>page 104 for details about transactions.</p>
<p><b>4.6.4.4 Simple Property Changes</b></p>
<p>The properties of MDF model object simply be changed by with the setter method of the model</p>
<p>object.</p>
<p>Simple setter exist for example for the types:</p>
<p>• String</p>
<p>• Enums</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>90 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>• Integer</p>
<p>• Double</p>
<p>transaction {</p>
<p>//</p>
<p>The</p>
<p>asrPath</p>
<p>points</p>
<p>to</p>
<p>an</p>
<p>MIVariableDataPrototype</p>
<p>mdfModel ( asrPath )</p>
<p>{</p>
<p>dataPrototype</p>
<p>-&gt;</p>
<p>dataPrototype . category</p>
<p>=</p>
<p>&quot; NewCategory &quot;</p>
<p>}</p>
<p>}</p>
<p>Listing 4.91: Changing a simple property of an MIVariableDataPrototype</p>
<p><b>4.6.4.5 Creating single Child Members (0:1)</b></p>
<p>For single child members (0:1),</p>
<p>the automation API provides and additional</p>
<p>method for the</p>
<p>getter get&lt;Element&gt;OrCreate() for convenient child object creation.</p>
<p>The methods will create</p>
<p>the element, instead of returning null.</p>
<p>transaction {</p>
<p>//</p>
<p>The</p>
<p>asrPath</p>
<p>points</p>
<p>to</p>
<p>an</p>
<p>MIVariableDataPrototype</p>
<p>mdfModel ( asrPath )</p>
<p>{</p>
<p><b>int</b></p>
<p>count</p>
<p>=</p>
<p>0</p>
<p><b>assert</b></p>
<p>adminData</p>
<p>==</p>
<p><b>null</b></p>
<p>adminDataOrCreate</p>
<p>{</p>
<p>count ++</p>
<p>}</p>
<p><b>assert</b></p>
<p>count</p>
<p>==</p>
<p>1</p>
<p><b>assert</b></p>
<p>adminData</p>
<p>!=</p>
<p><b>null</b></p>
<p>}</p>
<p>}</p>
<p>Listing 4.92: Creating non-existing member by navigating into its content with OrCreate()</p>
<p>If</p>
<p>the compile time child type is not instatiatable,</p>
<p>you have to provide the concrete type by</p>
<p>get&lt;Element&gt;OrCreate(Class childType).</p>
<p>transaction {</p>
<p>//</p>
<p>The</p>
<p>asrPath</p>
<p>points</p>
<p>to</p>
<p>an</p>
<p>MIVariableDataPrototype</p>
<p>mdfModel ( asrPath )</p>
<p>{</p>
<p>introductionOrCreate ( MIBlockLevelContent )</p>
<p>{</p>
<p>docuBlock</p>
<p>-&gt;</p>
<p><b>assert</b></p>
<p>docuBlock</p>
<p><b>instanceof</b></p>
<p>MIBlockLevelContent</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.93: Creating child member by navigating into its content with OrCreate() with type</p>
<p><b>4.6.4.6 Creating and adding Child List Members (0:*)</b></p>
<p>For child list members, the automation API provides many createAndAdd() methods for con-</p>
<p>venient child object creation.</p>
<p>These method will</p>
<p>always create the element,</p>
<p>regardless if</p>
<p>the</p>
<p>same element (e.g.</p>
<p>same ShortName) already exists.</p>
<p>If you want to update element see the chapter 4.6.4.7 on page 94.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>91 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>transaction {</p>
<p>//</p>
<p>The</p>
<p>asrPath</p>
<p>points</p>
<p>to</p>
<p>an</p>
<p>MIVariableDataPrototype</p>
<p>mdfModel ( asrPath )</p>
<p>{</p>
<p><b>assert</b></p>
<p>adminData . sdg . empty</p>
<p>adminData</p>
<p>{</p>
<p>sdg . createAndAdd ( MISdg )</p>
<p>{</p>
<p>gid</p>
<p>=</p>
<p>&quot; NewGidValue &quot;</p>
<p>}</p>
<p>}</p>
<p><b>assert</b></p>
<p>adminData . sdg . first . gid</p>
<p>==</p>
<p>&quot; NewGidValue &quot;</p>
<p>}</p>
<p>}</p>
<p>Listing 4.94: Creating new members of child lists with createAndAdd() by type</p>
<p>These methods are available — but be aware that not all of these methods are available for all</p>
<p>child lists.</p>
<p>Adding parameters, for example, is only permitted in the parameter child list of an</p>
<p>MIContainer instance.</p>
<p><b>All</b></p>
<p><b>Lists:</b></p>
<p>• The method createAndAdd() creates a new MDF object of</p>
<p>the lists content type and</p>
<p>appends it to this list.</p>
<p>If</p>
<p>the type is not instantiatable the method will</p>
<p>thrown a Mo-</p>
<p>delException.</p>
<p>The new object is finally returned.</p>
<p>• The method createAndAdd(Closure) creates a new MDF object of the lists content type</p>
<p>and appends it to this list.</p>
<p>If</p>
<p>the type is not instantiatable the method will</p>
<p>thrown a</p>
<p>ModelException.</p>
<p>Then the closure is executed with the new object as closure parameter.</p>
<p>The new object is finally returned.</p>
<p>• The method createAndAdd(Class) creates a new MDF object of the specified type and</p>
<p>appends it to this list.</p>
<p>The new object is finally returned.</p>
<p>• The method createAndAdd(Class, Closure) creates a new MDF object of the specified</p>
<p>type and appends it to this list.</p>
<p>Then the closure is executed with the new object as</p>
<p>closure parameter.</p>
<p>The new object is finally returned.</p>
<p>• The method createAndAdd(Class, Integer) creates a new MDF object of the specified</p>
<p>type and inserts it to this list at the specified index position.</p>
<p>The new object is finally</p>
<p>returned.</p>
<p>• The method createAndAdd(Class, Integer, Closure) creates a new MDF object of</p>
<p>the specified type and inserts it to this list at the specified index position.</p>
<p>Then the</p>
<p>closure is executed with the new object as closure parameter.</p>
<p>The new object is finally</p>
<p>returned.</p>
<p><b>Lists containing Referrables</b></p>
<p>• The method createAndAdd(String) creates a new child with the specified shortname</p>
<p>and appends it to this list.</p>
<p>The new object is finally returned.</p>
<p>The used type is the lists</p>
<p>content type.</p>
<p>If the type is not instantiatable the method will thrown a ModelException.</p>
<p>• The method createAndAdd(String, Closure) creates a new MIReferrable with the</p>
<p>specified shortname and appends it to this list.</p>
<p>Then the closure is executed with the new</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>92 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>object as closure parameter.</p>
<p>The new object is finally returned.</p>
<p>The used type is the lists</p>
<p>content type.</p>
<p>If the type is not instantiatable the method will thrown a ModelException.</p>
<p>• The method createAndAdd(Class, String) creates a new MIReferrable with the spe-</p>
<p>cified type and shortname and appends it to this list.</p>
<p>The new object is finally returned.</p>
<p>• The method createAndAdd(Class, String, Closure) creates a new MIReferrable with</p>
<p>the specified type and shortname and appends it to this list.</p>
<p>Then the closure is executed</p>
<p>with the new object as closure parameter.</p>
<p>The new object is finally returned.</p>
<p>• The method createAndAdd(Class, String, Integer) creates a new MIReferrable with</p>
<p>the specified type and shortname and inserts it to this list at the specified index position.</p>
<p>The new object is finally returned.</p>
<p>• The method createAndAdd(Class, String, Integer, Closure) creates a new MIRe-</p>
<p>ferrable with the specified type and shortname and inserts it to this list at the specified</p>
<p>index position.</p>
<p>Then the closure is executed with the new object as closure parameter.</p>
<p>The new object is finally returned.</p>
<p><b>Lists containing Parameters and Containers</b></p>
<p>• The method createAndAdd(TypedDefRef) creates a new Ecuc object (container or para-</p>
<p>meter) with the specified definition and appends it to this list.</p>
<p>The new object is finally</p>
<p>returned.</p>
<p>• The method createAndAdd(TypedDefRef, Closure) creates a new Ecuc object (contai-</p>
<p>ner or parameter) with the specified definition and appends it to this list.</p>
<p>Then the closure</p>
<p>is executed with the new object as closure parameter.</p>
<p>The new object is finally returned.</p>
<p>• The method createAndAdd(TypedDefRef, Integer) creates a new Ecuc object (contai-</p>
<p>ner or parameter) with the specified definition and inserts it to this list at the specified</p>
<p>index position.</p>
<p>The new object is finally returned.</p>
<p>• The method createAndAdd(TypedDefRef, Integer, Closure) creates a new Ecuc ob-</p>
<p>ject (container or parameter) with the specified definition and inserts it to this list at</p>
<p>the specified index position.</p>
<p>Then the closure is executed with the new object as closure</p>
<p>parameter.</p>
<p>The new object is finally returned.</p>
<p>• The method byDefOrCreate(TypedDefRef) retrieves the child with the passed definition,</p>
<p>if the child exists and has a definition multiplicity of 0:1 or 1:1.</p>
<p>Otherwise a new child is</p>
<p>created.</p>
<p>The definition and shortname (using the definition name) are automatically set</p>
<p>before returning the new child.</p>
<p>So this method will always create a new child if the upper</p>
<p>multiplicity is greater than 1.</p>
<p><b>Lists containing Containers</b></p>
<p>• The method createAndAdd(TypedDefRef, String) creates a new container with the</p>
<p>specified definition and shortname and appends it to this list.</p>
<p>The new container is</p>
<p>finally returned.</p>
<p>• The method createAndAdd(TypedDefRef, String, Closure) creates a new container</p>
<p>with the specified definition and shortname and appends it to this list.</p>
<p>Then the closure</p>
<p>is executed with the new container as closure parameter.</p>
<p>The new container is finally</p>
<p>returned.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>93 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>• The method createAndAdd(TypedDefRef, String, Integer) creates a new container</p>
<p>with the specified definition and shortname and inserts it to this list at the specified index</p>
<p>position.</p>
<p>The new container is finally returned.</p>
<p>• The method createAndAdd(TypedDefRef, String, Integer, Closure) creates a new</p>
<p>container with the specified definition and shortname and inserts it to this list at the</p>
<p>specified index position.</p>
<p>Then the closure is executed with the new container as closure</p>
<p>parameter.</p>
<p>The new container is finally returned.</p>
<p><b>4.6.4.7 Updating existing Elements</b></p>
<p>For child list members,</p>
<p>the automation API provides many byNameOrCreate() methods for</p>
<p>convenient child object update and creation on demand.</p>
<p>These method will create the element</p>
<p>if id does not exists, or return the existing element.</p>
<p>transaction {</p>
<p>//</p>
<p>The</p>
<p>path</p>
<p>points</p>
<p>to</p>
<p>an</p>
<p>MISenderReceiverInterface</p>
<p>mdfModel ( asrPath )</p>
<p>{</p>
<p>sendRecIf</p>
<p>-&gt;</p>
<p><b>def</b></p>
<p>dataList</p>
<p>=</p>
<p>sendRecIf . dataElement</p>
<p><b>def</b></p>
<p>dataElement</p>
<p>=</p>
<p>dataList . byNameOrCreate (&quot; MyDataElement &quot; )</p>
<p>dataElement . name</p>
<p>=</p>
<p>&quot; NewName &quot;</p>
<p><b>def</b></p>
<p>dataElement2</p>
<p>=</p>
<p>dataList . byNameOrCreate ( &quot; NewName &quot; )</p>
<p><b>assert</b></p>
<p>dataElement</p>
<p>==</p>
<p>dataElement2</p>
<p>}</p>
<p>}</p>
<p>Listing 4.95: Updating existing members of child lists with byNameOrCreate() by type</p>
<p>These methods are available — but be aware that not all of these methods are available for all</p>
<p>child lists.</p>
<p>Updating container, for example, is only permitted in the parameter child list of an</p>
<p>MIContainer instance.</p>
<p><b>Lists containing Referrables</b></p>
<p>• The method byNameOrCreate(String) retrieves the child with the passed shortname, or</p>
<p>creates the child, if it does not exist.</p>
<p>The shortname is automatically set before returning</p>
<p>the new child.</p>
<p>• The method byNameOrCreate(TypedDefRef, String,Closure) retrieves the child with</p>
<p>the passed shortname,</p>
<p>or creates the child,</p>
<p>if it does not exist.</p>
<p>The shortname is auto-</p>
<p>matically set before returning the new child.</p>
<p>Then the closure is executed with the child</p>
<p>as closure parameter.</p>
<p>The child is finally returned.</p>
<p>• The method byNameOrCreate(Class, String) retrieves the child with the passed type</p>
<p>and shortname, or creates the child, if it does not exist.</p>
<p>The shortname is automatically</p>
<p>set before returning the new child.</p>
<p>• The method byNameOrCreate(Class, String,Closure) retrieves the child with the pas-</p>
<p>sed type and shortname, or creates the child, if it does not exist.</p>
<p>The shortname is auto-</p>
<p>matically set before returning the new child.</p>
<p>Then the closure is executed with the child</p>
<p>as closure parameter.</p>
<p>The child is finally returned.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>94 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>Lists containing Containers</b></p>
<p>• The method byNameOrCreate(TypedDefRef, String) retrieves the child with the passed</p>
<p>definition and shortname,</p>
<p>or creates the child,</p>
<p>if</p>
<p>it does not exist.</p>
<p>The definition and</p>
<p>shortname are automatically set before returning the new child.</p>
<p>• The method byNameOrCreate(TypedDefRef, String, Closure) retrieves the child with</p>
<p>the passed definition and shortname, or creates the child, if it does not exist.</p>
<p>The definition</p>
<p>and shortname are automatically set before returning the new child.</p>
<p>Then the closure is</p>
<p>executed with the child as closure parameter.</p>
<p>The child is finally returned.</p>
<p><b>4.6.4.8 Deleting Model</b></p>
<p><b>Objects</b></p>
<p>The method delete(MIObject) deletes the specified object from the model.</p>
<p>This method must</p>
<p>be called inside a transaction because it changes the model content.</p>
<p>Special case:</p>
<p>If this method is being called on an active module configuration, it actually calls</p>
<p>IOperations.deactivateModuleConfiguration(MIModuleConfiguration) to deactivate the</p>
<p>module correctly.</p>
<p>//</p>
<p>MIParameterValue</p>
<p>param</p>
<p>=</p>
<p>...</p>
<p>transaction</p>
<p>{</p>
<p><b>assert</b></p>
<p>! param . isDeleted ()</p>
<p>param . delete ()</p>
<p><b>assert</b></p>
<p>param . isDeleted ()</p>
<p>}</p>
<p>Listing 4.96: Delete a parameter instance</p>
<p>The method moRemove() does the same as delete().</p>
<p>For details about model object deletion</p>
<p>and access to deleted objects, read section 5.1.7.4 on page 234 ff.</p>
<p><b>IsDeleted</b></p>
<p>The isDeleted(MIObject) method returns true if the specified object has been</p>
<p>deleted (removed) from the MDF model, or is invisible in the current active IModelView.</p>
<p>MIObject</p>
<p>obj</p>
<p>=</p>
<p>...</p>
<p><b>if</b></p>
<p>(! obj . isDeleted () )</p>
<p>{</p>
<p>work</p>
<p>with</p>
<p>obj</p>
<p>...</p>
<p>}</p>
<p>Listing 4.97: Check is a model instance is deleted</p>
<p>Note:</p>
<p>The return value is dependent on the current active thread and the current active IMo-</p>
<p>delView in this thread!</p>
<p>The method moIsRemoved() does the same as isDeleted().</p>
<p><b>4.6.4.9 Duplicating Model</b></p>
<p><b>Objects</b></p>
<p>The duplicate(MIObject) method copies (clones) a complete MDF model sub-tree and adds</p>
<p>it as child below the same parent.</p>
<p>• The source object must have a parent.</p>
<p>The clone will be added to the same MDF feature</p>
<p>below the same parent then</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>95 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>• AUTOSAR UUIDs will</p>
<p>not be cloned.</p>
<p>The clone will</p>
<p>contain new UUIDs to guarantee</p>
<p>unambiguousness</p>
<p>This method can clone any model sub-tree, also see IOperations.deepClone(MIObject, MI-</p>
<p>Object) for details.</p>
<p>Note:</p>
<p>This operation must be executed inside of a transaction.</p>
<p>//</p>
<p>MIContainer</p>
<p>container</p>
<p>=</p>
<p>...</p>
<p>transaction</p>
<p>{</p>
<p><b>def</b></p>
<p>newCont</p>
<p>=</p>
<p>container . duplicate ()</p>
<p>//</p>
<p>The</p>
<p>duplicated</p>
<p>container</p>
<p>newCont</p>
<p>}</p>
<p>Listing 4.98: Duplicates a container under the same parent</p>
<p><b>4.6.4.10 Special</b></p>
<p><b>properties and extensions</b></p>
<p><b>asrPath</b></p>
<p>The getAsrPath(MIReferrable) method returns the AUTOSAR path of the speci-</p>
<p>fied object.</p>
<p>MIContainer</p>
<p>canGeneral</p>
<p>=</p>
<p>...</p>
<p>AsrPath</p>
<p>path</p>
<p>=</p>
<p>canGeneral . asrPath</p>
<p>Listing 4.99: Get the AsrPath of an MIReferrable instance</p>
<p>See chapter 5.4.2 on page 256 for more details about AsrPaths.</p>
<p><b>asrObjectLink</b></p>
<p>The getAsrObjectLink(MIARObject) method returns the AsrObjectLink of</p>
<p>the specified object.</p>
<p>MIParameterValue</p>
<p>param</p>
<p>=</p>
<p>...</p>
<p>AsrObjectLink</p>
<p>link</p>
<p>=</p>
<p>param . asrObjectLink</p>
<p>Listing 4.100: Get the AsrObjectLink of an AUTOSAR model instance</p>
<p>See chapter 5.4.3 on page 257 for more details about AsrObjectLinks.</p>
<p><b>defRef</b></p>
<p>The getDefRef() method returns the DefRef of the model object.</p>
<p>MIParameterValue</p>
<p>param</p>
<p>=</p>
<p>...</p>
<p>DefRef</p>
<p>defRef</p>
<p>=</p>
<p>param . defRef</p>
<p>Listing 4.101: Get the DefRef of an Ecuc model instance</p>
<p>The MIParameterValue.setDefRef(DefRef) method sets the definition of this parameter to</p>
<p>the defRef.</p>
<p>MIParameterValue</p>
<p>param</p>
<p>=</p>
<p>...</p>
<p>DefRef</p>
<p>newDefinition</p>
<p>=</p>
<p>...</p>
<p>param . defRef</p>
<p>=</p>
<p>newDefinition</p>
<p>Listing 4.102: Set the DefRef of an Ecuc model instance</p>
<p>If</p>
<p>the specified DefRef has a wildcard,</p>
<p>the parameter must have a parent to calculate the</p>
<p>absolute definition path - otherwise a ModelCeHasNoParentException will be thrown.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>96 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>If is has no wildcard and no parent, the absolute definition path of the defRef will be used.</p>
<p>If</p>
<p>the parameter has a parent or and parents definition does not match the defRefs parent</p>
<p>definition, this method fails with InconsistentParentDefinitionException.</p>
<p>The MIContainer.setDefRef(DefRef) method sets the definition of this container to the de-</p>
<p>fRef.</p>
<p>See chapter 5.4.4 on page 257 for more details about DefRefs.</p>
<p><b>ceState</b></p>
<p>The CeState is an object which aggregates states of</p>
<p>a related MDF object.</p>
<p>Client</p>
<p>code can e.g.</p>
<p>check with the CeState if an Ecuc object has a related pre-configuration value.</p>
<p>The getCeState(MIObject) method returns the CeState of the specified model object.</p>
<p>MIParameterValue</p>
<p>param</p>
<p>=</p>
<p>...</p>
<p>IParameterStatePublished</p>
<p>state</p>
<p>=</p>
<p>param . ceState</p>
<p>Listing 4.103: Get the CeState of an Ecuc parameter instance</p>
<p>See chapter 5.4.5 on page 260 for more details about the CeState.</p>
<p><b>ceState - User-defined Flag</b></p>
<p>The method isUserDefined() returns true,</p>
<p>if the ecuc confi-</p>
<p>guration element like parameters is flagged as user-defined.</p>
<p>MIParameterValue</p>
<p>param</p>
<p>=</p>
<p>...</p>
<p><b>def</b></p>
<p>flag</p>
<p>=</p>
<p>param . ceState . userDefined</p>
<p>Listing 4.104: Retrieve the user-defined flag of an Ecuc parameter in Groovy</p>
<p>The method setUserDefined(boolean) sets or removes the user-defined flag of a ecuc confi-</p>
<p>guration element like parameters.</p>
<p>Note:</p>
<p>This method must executed inside a transaction because it modifies the model state.</p>
<p>MIParameterValue</p>
<p>param</p>
<p>=</p>
<p>...</p>
<p>transaction</p>
<p>{</p>
<p>param . ceState . userDefined</p>
<p>=</p>
<p><b>true</b></p>
<p>}</p>
<p>Listing 4.105: Set an Ecuc parameter instance to user defined</p>
<p><b>EcuConfigurationAccess and EcucDefinitionAccess</b></p>
<p>The Groovy automation interface also</p>
<p>provides special access methods for Ecuc elements (module configurations, container and para-</p>
<p>meter) to the</p>
<p>• EcuConfigurationAccess (see 5.5.1 on page 262)</p>
<p>• EcucDefinitionAccess (see 5.5.2 on page 266)</p>
<p>The getEcucDefinition() method returns the IEcucDefinition of the model object.</p>
<p>MIParameterValue</p>
<p>param</p>
<p>=</p>
<p>...</p>
<p>IEcucDefinition</p>
<p>definition</p>
<p>=</p>
<p>param . ecucDefinition</p>
<p>Listing 4.106: Get the IEcucDefinition of an Ecuc model instance</p>
<p>The getEcuConfiguration() method returns the IEcucHasDefinition of the model object.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>97 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>MIParameterValue</p>
<p>param</p>
<p>=</p>
<p>...</p>
<p>IEcucHasDefinition</p>
<p>cfg</p>
<p>=</p>
<p>param . ecuConfiguration</p>
<p>Listing 4.107: Get the IEcucHasDefinition of an Ecuc model instance</p>
<p>These methods are the same as for bswmd model objects.</p>
<p><b>4.6.4.11 Reverse Reference Resolution - ReferencesPointingToMe</b></p>
<p>You can resolve all references in the MDF model in the reverse direction, so you can start at a</p>
<p>reference target and navigate to all references which point to the reference target.</p>
<p><b>referencesPointingToMe</b></p>
<p>The getReferencesPointingToMe() method returns all</p>
<p>reference</p>
<p>parameters in the active ecuc pointing to specified target (MIReferrable) object.</p>
<p>It returns an</p>
<p>empty collection if the target object is invisible or removed.</p>
<p>The getReferencesPointingToMe(DefRef) method returns all</p>
<p>reference parameters in the</p>
<p>active ecuc with the specified definition (DefRef) pointing to the specified target (MIReferrable)</p>
<p>object.</p>
<p>It returns an empty collection if the target object is invisible, removed or the specified</p>
<p>definition is null.</p>
<p>List &lt; MIReferenceValue &gt;</p>
<p>refs</p>
<p>=</p>
<p>container . referencesPointingToMe</p>
<p>// Or</p>
<p>DefRef</p>
<p>refDefRef</p>
<p>=</p>
<p>//</p>
<p>DefRef</p>
<p>to</p>
<p>reference</p>
<p>parameter</p>
<p><b>def</b></p>
<p>refByDef</p>
<p>=</p>
<p>container . getReferencesPointingToMe ( refDefRef )</p>
<p>Listing 4.108: referencesPointingToMe sample</p>
<p><b>systemDescriptionObjectsPointingToMe</b></p>
<p>The method getSystemDescriptionObjectsPoin-</p>
<p>tingToMe() returns all</p>
<p>objects located in the system description which are parent objects of</p>
<p>references pointing to the specified target.</p>
<p>It returns an empty collection if the object is invisible</p>
<p>or removed.</p>
<p>List &lt; MIObject &gt;</p>
<p>references</p>
<p>=</p>
<p>systemDescElement . systemDescriptionObjectsPointingToMe</p>
<p>Listing 4.109: systemDescriptionObjectsPointingToMe sample</p>
<p><b>4.6.4.12 Derived Containers</b></p>
<p>The MIHasContainer.getDerived() method provides access to derived container information.</p>
<p>The method returns a IDerivedElementInfo object corresponding to the model element.</p>
<p>The IDerivedElementInfo can be used to retrieve information about element or delete it:</p>
<p>• getRemovedDerivedSubContainers():</p>
<p>Retrieves the removed children,</p>
<p>which could be</p>
<p>used to restore them the children</p>
<p>• isDerived():</p>
<p>returns true if the element is derived</p>
<p>• delete():</p>
<p>deletes the element regardless if it is derived or not</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>98 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>container . derived . isDerived ()</p>
<p>//</p>
<p>Or</p>
<p>container . derived {</p>
<p><b>boolean</b></p>
<p>isDerivedFlag</p>
<p>=</p>
<p>isDerived ()</p>
<p><b>def</b></p>
<p>removedList</p>
<p>=</p>
<p>getRemovedDerivedSubContainers ()</p>
<p>}</p>
<p>Listing 4.110: Derived Container API access</p>
<p><b>Deletion of Derived Containers</b></p>
<p>The method delete() deletes the MIContainer regardless,</p>
<p>if it is derived or not.</p>
<p>This method behaves as follows:</p>
<p>• If the container is a derived container it calls the derived container deletion operation to</p>
<p>delete it.</p>
<p>• All other containers with be deleted by means of</p>
<p>moRemove()</p>
<p>transaction {</p>
<p>container . derived . delete ()</p>
<p>}</p>
<p>Listing 4.111: Delete a derived container unconditionally</p>
<p><b>4.6.4.13 AUTOSAR Root Object</b></p>
<p>The getAUTOSAR() method returns the AUTOSAR root object (the root object of</p>
<p>the MDF</p>
<p>model tree of AUTOSAR data).</p>
<p>MIAUTOSAR</p>
<p>root</p>
<p>=</p>
<p>AUTOSAR</p>
<p>Listing 4.112: Get the AUTOSAR root object</p>
<p><b>4.6.4.14 ActiveEcuC</b></p>
<p>The activeEcuc access methods provide access to the module configurations of the Ecuc mo-</p>
<p>del.</p>
<p>//</p>
<p>Get</p>
<p>the</p>
<p>modules</p>
<p>as</p>
<p>Collection &lt; MIModuleConfiguration &gt;</p>
<p>Collection</p>
<p>modules</p>
<p>=</p>
<p>activeEcuc . allModules</p>
<p>Listing 4.113: Get the active Ecuc and all module configurations</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>99 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>//</p>
<p>Iterate</p>
<p>over</p>
<p>all</p>
<p>module</p>
<p>configurations</p>
<p>activeEcuc</p>
<p>{</p>
<p><b>int</b></p>
<p>count</p>
<p>=</p>
<p>0</p>
<p>allModules . each</p>
<p>{</p>
<p>moduleCfg</p>
<p>-&gt;</p>
<p>count ++</p>
<p>}</p>
<p><b>assert</b></p>
<p>count</p>
<p>&gt;</p>
<p>1</p>
<p>}</p>
<p>Listing 4.114: Iterate over all module configurations</p>
<p>activeEcuc</p>
<p>{</p>
<p>//</p>
<p>Parameter</p>
<p>type</p>
<p>is</p>
<p>IActiveEcuc</p>
<p>ecuc</p>
<p>-&gt;</p>
<p><b>def</b></p>
<p>defRef</p>
<p>=</p>
<p>DefRef . create ( EDefRefWildcard . AUTOSAR ,</p>
<p>&quot; EcuC &quot;)</p>
<p>//</p>
<p>Get</p>
<p>the</p>
<p>modules</p>
<p>as</p>
<p>Collection &lt; MIModuleConfiguration &gt;</p>
<p>Collection</p>
<p>foundModules</p>
<p>=</p>
<p>ecuc . modules ( defRef )</p>
<p><b>assert</b></p>
<p>! foundModules . empty</p>
<p>}</p>
<p>Listing 4.115: Get module configurations by definition</p>
<p><b>4.6.4.15 DefRef based Access to Containers and Parameters</b></p>
<p>The Groovy automation interface for the MDF model provides some overloaded access methods</p>
<p>for</p>
<p>• MIModuleConfiguration.getSubContainer()</p>
<p>• MIContainer.getSubContainer()</p>
<p>• MIContainer.getParameter()</p>
<p>to offer convenient filtering access to the subContainer and parameter child lists.</p>
<p>activeEcuc</p>
<p>{</p>
<p>//</p>
<p>Parameter</p>
<p>type</p>
<p>is</p>
<p>IActiveEcuc</p>
<p>ecuc</p>
<p>-&gt;</p>
<p><b>def</b></p>
<p>module</p>
<p>=</p>
<p>ecuc . modules ( EcuC . DefRef ) . first</p>
<p>//</p>
<p>Get</p>
<p>containers</p>
<p>as</p>
<p>List &lt; MIContainer &gt;</p>
<p><b>def</b></p>
<p>containers</p>
<p>=</p>
<p>module . subContainer ( EcucGeneral . DefRef )</p>
<p>//</p>
<p>Get</p>
<p>parameters</p>
<p>as</p>
<p>List &lt; MIParameterValue &gt;</p>
<p><b>def</b></p>
<p>cpuType</p>
<p>=</p>
<p>containers . first . parameter ( CPUType . DefRef )</p>
<p><b>assert</b></p>
<p>cpuType . size ()</p>
<p>==</p>
<p>1</p>
<p>}</p>
<p>Listing 4.116: Get subContainers and parameters by definition</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>100 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>4.6.4.16 Ecuc Parameter and Reference Value Access</b></p>
<p>The Groovy automation interface also provides special</p>
<p>access methods for Ecuc parameter</p>
<p>values.</p>
<p>These methods are implemented as extensions of the Ecuc parameter and value types</p>
<p>and can therefore be called directly at the parameter or reference instance.</p>
<p><b>Value Checks</b></p>
<p>• hasValue(MIParameterValue)</p>
<p>returns true if the parameter (or reference) has a value.</p>
<p>• containsBoolean(MINumericalValue)</p>
<p>returns true if the parameter value contains a valid boolean with the same semantic as</p>
<p>IModelAccess.containsBoolean(MINumericalValue).</p>
<p>Call this method in advance</p>
<p>to guarantee that getAsBoolean(MINumericalValueVariationPoint) doesn’t lead to</p>
<p>errors.</p>
<p>• containsInteger(MINumericalValue)</p>
<p>returns true if the parameter value contains a valid integer with the same semantic as</p>
<p>IModelAccess.containsInteger(MINumericalValue).</p>
<p>Call this method in advance</p>
<p>to guarantee that getAsInteger(MINumericalValueVariationPoint) doesn’t lead to</p>
<p>errors.</p>
<p>• containsDouble(MINumericalValue)</p>
<p>returns true if the parameter value contains a valid double (AUTOSAR float) with the</p>
<p>same semantic as</p>
<p>IModelAccess.containsFloat(MINumericalValue).</p>
<p>Call this method in advance</p>
<p>to guarantee that getAsDouble(MINumericalValueVariationPoint) doesn’t lead to er-</p>
<p>rors.</p>
<p>//</p>
<p>MINumericalValue</p>
<p>param</p>
<p>=</p>
<p>...</p>
<p><b>if</b></p>
<p>(! param . hasValue () )</p>
<p>{</p>
<p>scriptLogger . warn</p>
<p>&quot; The</p>
<p>parameter</p>
<p>has</p>
<p>no</p>
<p>value ! &quot;</p>
<p>}</p>
<p><b>if</b></p>
<p>( param . containsInteger () )</p>
<p>{</p>
<p><b>int</b></p>
<p>value</p>
<p>=</p>
<p>param . value . asInteger</p>
<p>}</p>
<p>Listing 4.117: Check parameter values</p>
<p><b>Parameters</b></p>
<p>• getAsLong(MINumericalValueVariationPoint) returns the value as native long.</p>
<p>Throws NumberFormatException if the value string doesn’t represent an integer value.</p>
<p>Throws ArithmeticException if the value will not exactly fit in a long.</p>
<p>• getAsInteger(MINumericalValueVariationPoint) returns the value as native int.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>101 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>Throws NumberFormatException if the value string doesn’t represent an integer value.</p>
<p>Throws ArithmeticException if the value will not exactly fit in an int.</p>
<p>• getAsBigInteger(MINumericalValueVariationPoint) returns the value as BigInte-</p>
<p>ger.</p>
<p>Throws NumberFormatException if the value string doesn’t represent an integer value.</p>
<p>• getAsDouble(MINumericalValueVariationPoint) returns the value as Double.</p>
<p>Throws NumberFormatException if the value string doesn’t represent a float value.</p>
<p>• getAsBigDecimal(MINumericalValueVariationPoint) returns the value as BigDeci-</p>
<p>mal.</p>
<p>Note:</p>
<p>This method will</p>
<p>possibly return MBigDecimal.POSITIVE_INFINITY,</p>
<p>MBigDeci-</p>
<p>mal.NEGATIVE_INFINITY or MBigDecimal.NaN.</p>
<p>If it is necessary to do computations with these special numbers,</p>
<p>use getAsDouble(MINumericalValueVariationPoint) instead.</p>
<p>Throws NumberFormatException if the value string doesn’t represent a float value.</p>
<p>• getAsBoolean(MINumericalValueVariationPoint) returns the value as Boolean.</p>
<p>Throws NumberFormatException if the value string doesn’t represent a boolean value.</p>
<p>• asCustomEnum(MITextualValue, Class) returns the value of the enum parameter as a</p>
<p>custom enum literal.</p>
<p>If the Class destClass implements the IModelEnum interface, the lite-</p>
<p>rals are mapped via these information form the IModelEnum interface.</p>
<p>Read the JavaDoc</p>
<p>of</p>
<p>IModelEnum for more details.</p>
<p>//</p>
<p>MINumericalValue</p>
<p>param</p>
<p>=</p>
<p>...</p>
<p>//</p>
<p>MINumericalValueVariationPoint</p>
<p>is</p>
<p>the</p>
<p>type</p>
<p>of</p>
<p>param . value</p>
<p><b>long</b></p>
<p>longValue</p>
<p>=</p>
<p>param . value . asLong</p>
<p><b>assert</b></p>
<p>longValue</p>
<p>==</p>
<p>10</p>
<p><b>int</b></p>
<p>intValue</p>
<p>=</p>
<p>param . value . asInteger</p>
<p><b>assert</b></p>
<p>intValue</p>
<p>==</p>
<p>10</p>
<p>BigInteger</p>
<p>bigIntValue</p>
<p>=</p>
<p>param . value . asBigInteger</p>
<p><b>assert</b></p>
<p>bigIntValue</p>
<p>==</p>
<p>BigInteger . valueOf (10)</p>
<p>Double</p>
<p>doubleValue</p>
<p>=</p>
<p>param . value . asDouble</p>
<p><b>assert</b></p>
<p>Math . abs ( doubleValue -10.0)</p>
<p>&lt;=</p>
<p>0.0001</p>
<p>Listing 4.118: Get integer parameter value</p>
<p><b>References</b></p>
<p>• getAsAsrPath(MIARRef) returns the reference value as AUTOSAR path.</p>
<p>• getAsAsrPath(MIReferenceValue) returns the reference parameters value as AUTOSAR</p>
<p>path.</p>
<p>• getRefTarget(MIReferenceValue) returns the reference parameters target object (the</p>
<p>object referenced by this parameter).</p>
<p>It returns null if the target cannot be resolved or</p>
<p>the reference parameter doesn’t contain a value reference.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>102 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>//</p>
<p>MIReferenceValue</p>
<p>refParam</p>
<p>=</p>
<p>...</p>
<p><b>def</b></p>
<p>asrPath1</p>
<p>=</p>
<p>refParam . asAsrPath</p>
<p><b>def</b></p>
<p>asrPath2</p>
<p>=</p>
<p>refParam . value . asAsrPath</p>
<p><b>assert</b></p>
<p>asrPath1</p>
<p>==</p>
<p>asrPath2</p>
<p>String</p>
<p>pathString</p>
<p>=</p>
<p>refParam . value . value</p>
<p><b>assert</b></p>
<p>asrPath1 . autosarPathString</p>
<p>==</p>
<p>pathString</p>
<p><b>def</b></p>
<p>target1</p>
<p>=</p>
<p>refParam . refTarget</p>
<p><b>def</b></p>
<p>target2</p>
<p>=</p>
<p>refParam . value . refTarget</p>
<p><b>assert</b></p>
<p>target1</p>
<p>==</p>
<p>target2</p>
<p>Listing 4.119: Get reference parameter value</p>
<p><b>4.6.5 SystemDescription Access</b></p>
<p>The systemDescription API provides methods to retrieve system description data like the path</p>
<p>to the flat extract or the flat map instance.</p>
<p>It is grouped by the AUTOSAR version.</p>
<p>So the getAutosar4() methods provides access to</p>
<p>AUTOSAR 4 model elements.</p>
<p>The getPaths() provides common paths to elements like:</p>
<p>• FlatMap path</p>
<p>• FlatExtract path</p>
<p>• FlatCompositionType path</p>
<p>AsrPath</p>
<p>flatExtractPath</p>
<p>=</p>
<p>systemDescription . paths . flatExtractPath</p>
<p>AsrPath</p>
<p>flatMapPath</p>
<p>=</p>
<p>systemDescription . paths . flatMapPath</p>
<p>Listing 4.120: Get the FlatExtract and FlatMap paths by the SystemDescription API</p>
<p>systemDescription {</p>
<p>autosar4 {</p>
<p>flatExtract . ifPresent {</p>
<p>theFlatExtract</p>
<p>-&gt;</p>
<p>//</p>
<p>do</p>
<p>something</p>
<p>with</p>
<p>the</p>
<p>flatMap</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>//</p>
<p>Or</p>
<p>in</p>
<p>property</p>
<p>style</p>
<p><b>def</b></p>
<p>theFlatExtractOpt</p>
<p>=</p>
<p>systemDescription . autosar4 . flatExtract</p>
<p><b>if</b> ( theFlatExtractOpt ){</p>
<p><b>def</b></p>
<p>theFlatExtract</p>
<p>=</p>
<p>theFlatExtractOpt . get ()</p>
<p>}</p>
<p>Listing 4.121: Get FlatExtract instance by the SystemDescription API</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>103 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>4.6.6 Transactions</b></p>
<p>Model</p>
<p>changes must always be executed within a transaction.</p>
<p>The automation API provides</p>
<p>some simple means to execute transactions.</p>
<p>For details about transactions read 5.1.7 on page 234.</p>
<p>scriptTask (&quot; TaskName &quot; ,</p>
<p>DV_PROJECT ){</p>
<p>code</p>
<p>{</p>
<p>transaction {</p>
<p>//</p>
<p>Your</p>
<p>transaction</p>
<p>code</p>
<p>here</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.122: Execute a transaction</p>
<p>scriptTask (&quot; TaskName &quot; ,</p>
<p>DV_PROJECT ){</p>
<p>code</p>
<p>{</p>
<p>transaction ( &quot; Transaction</p>
<p>name &quot; )</p>
<p>{</p>
<p>//</p>
<p>The</p>
<p>transactionName</p>
<p>property</p>
<p>is</p>
<p>available</p>
<p>inside</p>
<p>a</p>
<p>transaction</p>
<p>String</p>
<p>name</p>
<p>=</p>
<p>transactionName</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.123: Execute a transaction with a name</p>
<p>The transaction name has no additional semantic.</p>
<p>It is only be used for logging and to improve</p>
<p>error messages.</p>
<p><b>Nested Transactions</b></p>
<p>If you open a transaction inside of a transaction the inner transaction is</p>
<p>ignored and it is as no transaction call was done.</p>
<p>So be aware that nested transactions are no</p>
<p>real transaction, which leads to the fact the these nested transactions can not be undone.</p>
<p>If</p>
<p>you want to know whether a transaction is already running,</p>
<p>see the transactions API be-</p>
<p>low.</p>
<p><b>4.6.6.1 Transactions API</b></p>
<p>The Transactions API with the keyword transactions provides access to running transactions</p>
<p>or the transaction history.</p>
<p>You can use method isTransactionRunning() to check if a transaction is currently running.</p>
<p>The method returns true, if a transaction is running in the current Thread.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>104 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>scriptTask (&quot; TaskName &quot; ,</p>
<p>DV_PROJECT ){</p>
<p>code</p>
<p>{</p>
<p>//</p>
<p>Switch</p>
<p>to</p>
<p>the</p>
<p>transactions</p>
<p>API</p>
<p>transactions {</p>
<p>// Check</p>
<p>if</p>
<p>a</p>
<p>transaction</p>
<p>is</p>
<p>running</p>
<p><b>assert</b></p>
<p>isTransactionRunning ()</p>
<p>==</p>
<p><b>false</b></p>
<p>//</p>
<p>Open</p>
<p>a</p>
<p>transaction</p>
<p>transaction {</p>
<p>//</p>
<p>Now</p>
<p>a</p>
<p>transaction</p>
<p>is</p>
<p>running</p>
<p><b>assert</b></p>
<p>isTransactionRunning ()</p>
<p>==</p>
<p><b>true</b></p>
<p>}</p>
<p>}</p>
<p>//</p>
<p>Or</p>
<p>the</p>
<p>short</p>
<p>form</p>
<p>transactions . isTransactionRunning ()</p>
<p>}</p>
<p>}</p>
<p>Listing 4.124: Check if a transaction is running</p>
<p><b>TransactionHistory</b></p>
<p>The transaction history API provides some methods to handle transaction</p>
<p>undo and redo.</p>
<p>This way, complex model changes can be reverted quite easily.</p>
<p>• The undo() method executes an undo of the last transaction.</p>
<p>If the last transaction frame</p>
<p>cannot be undone or if the undo stack is empty this method returns without any changes.</p>
<p>• The undoAll() method executes undo until the transaction stack is empty or an undoable</p>
<p>transaction frame appears on the stack.</p>
<p>• The redo() method executes an redo of the last undone transaction.</p>
<p>If the last undone</p>
<p>transaction frame cannot be redone or if</p>
<p>the redo stack is empty this method returns</p>
<p>without any changes.</p>
<p>• The canUndo() method returns true if the undo stack is not empty and the next undo</p>
<p>frame can be undone.</p>
<p>This method changes nothing but you can call it to find out if the</p>
<p>next undo() call would actually undo something.</p>
<p>• The canRedo() method returns true if</p>
<p>the redo stack is not empty and the next redo</p>
<p>frame can be redone.</p>
<p>This method changes nothing but you can call it to find out if the</p>
<p>next redo() call would actually redo something.</p>
<p>scriptTask (&quot; TaskName &quot; ,</p>
<p>DV_PROJECT ){</p>
<p>code</p>
<p>{</p>
<p>transaction ( &quot; TransactionName &quot; )</p>
<p>{</p>
<p>//</p>
<p>Your</p>
<p>transaction</p>
<p>code</p>
<p>here</p>
<p>}</p>
<p>transactions {</p>
<p><b>assert</b></p>
<p>transactionHistory . canUndo ()</p>
<p>transactionHistory . undo ()</p>
<p><b>assert</b></p>
<p>! transactionHistory . canUndo ()</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.125: Undo a transaction with the transactionHistory</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>105 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>scriptTask (&quot; TaskName &quot; ,</p>
<p>DV_PROJECT ){</p>
<p>code</p>
<p>{</p>
<p>transaction ( &quot; TransactionName &quot; )</p>
<p>{</p>
<p>//</p>
<p>Your</p>
<p>transaction</p>
<p>code</p>
<p>here</p>
<p>}</p>
<p>transactions {</p>
<p>transactionHistory . undo ()</p>
<p><b>assert</b></p>
<p>transactionHistory . canRedo ()</p>
<p>transactionHistory . redo ()</p>
<p><b>assert</b></p>
<p>! transactionHistory . canRedo ()</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.126: Redo a transaction with the transactionHistory</p>
<p><b>4.6.6.2 Operations</b></p>
<p>The model</p>
<p>operations implement convenient means to execute complex model</p>
<p>changes like</p>
<p>AUTOSAR module activation or cloning complete model</p>
<p>sub-trees.</p>
<p>The operations API is</p>
<p>available inside of a transaction with the keyword operation.</p>
<p>The class IOperations defines</p>
<p>the available methods.</p>
<p>• The method activateModuleConfiguration(DefRef) activates the specified module con-</p>
<p>figuration.</p>
<p>This covers:</p>
<p><b>–</b> Creation of the module including the reference in the ActiveEcuC (the ECUC-VALUE-</p>
<p>COLLECTION)</p>
<p><b>–</b> Creation of mandatory containers and parameters (lower multiplicity &gt; 0)</p>
<p><b>–</b> Applying the recommended configuration</p>
<p><b>–</b> Applying the pre-configuration values</p>
<p>Note:</p>
<p>If</p>
<p>the DefRef has a wildcard,</p>
<p>activateModuleConfiguration(DefRef) tries to</p>
<p>activate the most specific module definition matching the wildcard, if unique.</p>
<p>If it is not</p>
<p>unique the method will</p>
<p>throw an exception.</p>
<p>For example the DefRef /[ANY]/Dio will</p>
<p>activate the /MICROSAR/Dio instead of</p>
<p>/AUTOSAR/EcucDefs/Dio.</p>
<p>transaction {</p>
<p>//</p>
<p>Activates</p>
<p>the</p>
<p>Dio</p>
<p>module</p>
<p>operations . activateModuleConfiguration ( sipDefRef . Dio )</p>
<p>}</p>
<p>Listing 4.127: Activation of the ModuleConfiguration Dio</p>
<p>• The method deactivateModuleConfiguration(MIModuleConfiguration) deletes</p>
<p>the</p>
<p>specified module configuration from the model.</p>
<p>In case of a split configuration,</p>
<p>the re-</p>
<p>lated persistency location is being removed from the project settings.</p>
<p>In XML file base</p>
<p>configurations,</p>
<p>the related file is being deleted during the next project save if it doesn’t</p>
<p>contain configuration objects anymore.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>106 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>If the module configuration is referenced from the active-ECUC this link is being removed</p>
<p>too.</p>
<p>• The method changeBswImplementation(MIModuleConfiguration, MIBswImplementa-</p>
<p>tion) changes the BSW-implementation of a module configuration including the definition</p>
<p>of all contained containers and parameters.</p>
<p>• setConfigurationVariantOfAllModuleConfigurations(EEcucConfigurationVariant)</p>
<p>sets the implementation configuration variant of all active MIModuleConfiguration.</p>
<p>If a</p>
<p>module configuration does not support the requested variant it is ignored.</p>
<p>Supported enum values are:</p>
<p><b>–</b> com.vector.cfg.model.access.ecuconfiguration.EEcucConfigurationVariant</p>
<p>∗ VARIANT_PRE_COMPILE</p>
<p>∗ VARIANT_LINK_TIME</p>
<p>∗ VARIANT_POST_BUILD_LOADABLE</p>
<p>This is for<i> post-build loadable</i> only!</p>
<p>See the method setConfigurationVariant() in class</p>
<p>IEcucModuleConfiguration for details.</p>
<p>• The deepClone(MIObject, MIObject) operation copies (clones) a complete MDF model</p>
<p>sub-tree and adds it as child below the specified parent.</p>
<p><b>–</b> The source object must have a parent.</p>
<p>The clone will</p>
<p>be added to the same MDF</p>
<p>feature below the destination parent then</p>
<p><b>–</b> AUTOSAR UUIDs will</p>
<p>not be cloned.</p>
<p>The clone will</p>
<p>contain new UUIDs to gua-</p>
<p>rantee unambiguousness</p>
<p>• The method createModelObject(Class) creates a new element of the passed modelClass</p>
<p>(meta class).</p>
<p>The modelObject must be added to the whole AUTOSAR model,</p>
<p>before</p>
<p>finishing the transaction.</p>
<p>• The method createUniqueMappedAutosarPackage() can be used to create new MIAR-</p>
<p>Packages in new arxml</p>
<p>files.</p>
<p>It creates an new instance of</p>
<p>the specified AUTOSAR</p>
<p>package and adds it to the model tree.</p>
<p>All non-existing parent packages will be created</p>
<p>too.</p>
<p>The new package (including new created parent packages) will</p>
<p>be mapped uniquely to</p>
<p>the specified location (Path and AUTOSAR version).</p>
<p><b>4.6.7 Model</b></p>
<p><b>Synchronization</b></p>
<p>The Model</p>
<p>synchronization provides operation to solve and synchronize common model</p>
<p>rela-</p>
<p>ted items.</p>
<p>The model</p>
<p>synchronization API is available inside of</p>
<p>an active project with the</p>
<p>keyword modelSynchronization.</p>
<p>The class IModelSynchronizationApi defines the available</p>
<p>methods.</p>
<p>The method synchronize() synchronizes the model</p>
<p>for all</p>
<p>registered model</p>
<p>synchronization</p>
<p>elements like validations and other operations.</p>
<p>The method will open a transaction, if</p>
<p>isSyn-</p>
<p>chronizationRequired() returns true, otherwise this method does nothing.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>107 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>//</p>
<p>Execute</p>
<p>the</p>
<p>model</p>
<p>synchronization</p>
<p>modelSynchronization . synchronize ()</p>
<p>// Or</p>
<p>more</p>
<p>elaborated ,</p>
<p>but</p>
<p>means</p>
<p>the</p>
<p>same</p>
<p>modelSynchronization {</p>
<p><b>if</b> ( synchronizationRequired ) {</p>
<p>synchronize ()</p>
<p>}</p>
<p>}</p>
<p>Listing 4.128: Model synchronization inside an open project</p>
<p><b>4.6.8 PreBuild and PostBuild Variance (Post-build selectable)</b></p>
<p>The variance access API is the entry point for convenient access to variant AUTOSAR mo-</p>
<p>del</p>
<p>content.</p>
<p>It</p>
<p>provides</p>
<p>means</p>
<p>to filter</p>
<p>variant</p>
<p>model</p>
<p>content</p>
<p>and access</p>
<p>variant</p>
<p>specific</p>
<p>data.</p>
<p>The DaVinci Configurator supports two types of variance:</p>
<p>• PostBuild variance (Post-build selectable)</p>
<p>• PreBuild variance</p>
<p>For details about PostBuild variance variance and model views read 5.2 on page 236.</p>
<p><b>4.6.8.1 Investigate Project Variance</b></p>
<p>The projects variance can be analyzed using the variance keyword.</p>
<p>These methods can be</p>
<p>called then:</p>
<p>• The method getCurrentlyActiveView() returns the currently active model view.</p>
<p>• The method variantView(String) returns the IPredefinedVariantView with the given</p>
<p>name.</p>
<p>This may be a PreBuild of PostBuild view.</p>
<p>scriptTask (&quot; TaskName &quot; ,</p>
<p>DV_PROJECT ){</p>
<p>code {</p>
<p>//</p>
<p>Activates</p>
<p>the</p>
<p>DoorLeftFront</p>
<p>variant</p>
<p>variance . variantView ( &quot; DoorLeftFront &quot;) . activeWith {</p>
<p>//</p>
<p>Now</p>
<p>all</p>
<p>MDF</p>
<p>model</p>
<p>accesses</p>
<p>are</p>
<p>executed</p>
<p>in</p>
<p>the</p>
<p>variant</p>
<p>&quot;</p>
<p>DoorLeftFront &quot;</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.129: Retrieve and use a variant view by name</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>108 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>scriptTask (&quot; TaskName &quot; ,</p>
<p>DV_PROJECT ){</p>
<p>code {</p>
<p><b>def</b></p>
<p>activeView1</p>
<p>=</p>
<p>variance . currentlyActiveView</p>
<p><b>assert</b></p>
<p>activeView1</p>
<p><b>instanceof</b></p>
<p>IPostBuildInvariantValuesView</p>
<p>//</p>
<p>...</p>
<p>or</p>
<p>with</p>
<p>a</p>
<p>closure</p>
<p>variance</p>
<p>{</p>
<p><b>def</b></p>
<p>activeView2</p>
<p>=</p>
<p>currentlyActiveView</p>
<p><b>assert</b></p>
<p>activeView1</p>
<p>==</p>
<p>activeView2</p>
<p><b>assert</b></p>
<p>activeView1</p>
<p>==</p>
<p>invariantValuesView</p>
<p>//</p>
<p>Get</p>
<p>number</p>
<p>of</p>
<p>variants</p>
<p><b>int</b></p>
<p>num</p>
<p>=</p>
<p>allVariantViews . size ()</p>
<p><b>assert</b></p>
<p>num</p>
<p>==</p>
<p>4</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.130: The default view is the IPostBuildInvariantValuesView</p>
<p><b>Investigate Project Variance - PostBuild</b></p>
<p>• The method hasPostBuildVariance() returns true if the active project contains post-</p>
<p>build variants.</p>
<p>• The method getPostBuildInvariantValuesView() returns the PostBuild invariant va-</p>
<p>lues view.</p>
<p>• The method getPostBuildInvariantEcucDefView() returns</p>
<p>the PostBuild invariant</p>
<p>Ecuc definition view.</p>
<p>• The method getAllPostBuildVariantViews() returns the model views of all PostBuild</p>
<p>predefined variants defined in the evaluated variant set.</p>
<p>It never returns null.</p>
<p>If</p>
<p>the</p>
<p>project contains no PostBuild variants, the result will be an empty list.</p>
<p>The order of variant views returned is deterministic.</p>
<p>It is the natural order of the names</p>
<p>of the variants defined in the evaluated variant set.</p>
<p>• The method getAllPostBuildVariantViewsOrInvariant() returns the same as the met-</p>
<p>hod getAllPostBuildVariantViews() if the project contains PostBuild variants.</p>
<p>If the</p>
<p>project contains no PostBuld variants (see hasPostBuildVariance()) the method returns</p>
<p>a list containing only the IPostBuildInvariantValuesView.</p>
<p>This helps to create code working with both variant and non-variant projects.</p>
<p><b>4.6.8.2 Variant Model</b></p>
<p><b>Objects</b></p>
<p>The following model</p>
<p>object extensions provide convenient means to investigate model</p>
<p>object</p>
<p>variance in detail.</p>
<p>• The method activeWith(IModelView, Closure) executes code under visibility of</p>
<p>the</p>
<p>specified model view.</p>
<p>• The method isModelInvariant(MIObject) returns true if the object and all its parents</p>
<p>has no variation point conditions.</p>
<p>If this is true, this model object instance is visible in</p>
<p>all variant views.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>109 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>• The method isVisible(MIObject) returns true if</p>
<p>the object is visible in the current</p>
<p>model view.</p>
<p>• The method isVisibleInModelView(MIObject, IModelView) returns true if the object</p>
<p>is visible in the specified model view.</p>
<p>• The method asViewedModelObject(MIObject) returns a new IViewedModelObject in-</p>
<p>stance using the currently active view.</p>
<p>• The method getVariantSiblings(MIObject) returns MDF object instances representing</p>
<p>the same object but in all variants.</p>
<p>For details about the sibling semantic see 5.2.1.3 on page 238.</p>
<p>• The method getVariantSiblingsWithoutMyself(MIObject) returns the same collection</p>
<p>as getVariantSiblings(MIObject) but without the specified object.</p>
<p>//</p>
<p>IPostBuildPredefinedVariantView</p>
<p>viewDoorLeftFront</p>
<p>=</p>
<p>...</p>
<p>//</p>
<p>MIParameterValue</p>
<p>variantParameter</p>
<p>=</p>
<p>...</p>
<p>viewDoorLeftFront . activeWith</p>
<p>{</p>
<p><b>assert</b></p>
<p>variance . currentlyActiveView</p>
<p>==</p>
<p>viewDoorLeftFront</p>
<p>//</p>
<p>The</p>
<p>parameter</p>
<p>instance</p>
<p>is</p>
<p>not</p>
<p>visible</p>
<p>in</p>
<p>all</p>
<p>variants</p>
<p>...</p>
<p><b>assert</b></p>
<p>! variantParameter . isModelInvariant ()</p>
<p>//</p>
<p>...</p>
<p>but</p>
<p>all</p>
<p>variants</p>
<p>have</p>
<p>a</p>
<p>sibling</p>
<p>with</p>
<p>the</p>
<p>same</p>
<p>value</p>
<p><b>assert</b></p>
<p>variantParameter . isPostBuildValueInvariant ()</p>
<p>}</p>
<p>Listing 4.131: Execute code in a model view</p>
<p><b>Variant Model</b></p>
<p><b>Objects - PostBuild</b></p>
<p>• The method isPostBuildValueInvariant(MIObject) returns true if the object has the</p>
<p>same value in all</p>
<p>PostBuild variants.</p>
<p>For details about invariant views see 5.2.1.4 on</p>
<p>page 239.</p>
<p>• The method isPostBuildEcucDefInvariant(MIObject) returns true if</p>
<p>the object is</p>
<p>invariant according to its EcuC definition.</p>
<p>• The method isNeverPostBuildVisible(MIObject) returns true if the object is<i> invisible</i></p>
<p>in all variant views.</p>
<p>• The method getVisiblePostBuildVariantViews(MIObject) returns all</p>
<p>variant views</p>
<p>the specified object is visible in.</p>
<p>• The method getVisiblePostBuildVariantViewsOrInvariant(MIObject) For semantic</p>
<p>details see IModelViewManager.getVisiblePostBuildVariantViewsOrInvariant(MIObject).</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>110 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>4.6.9 Additional</b></p>
<p><b>Model</b></p>
<p><b>API</b></p>
<p><b>4.6.9.1 User Annotations</b></p>
<p>In DaVinci</p>
<p>Configurator the user can add AUTOSAR annotations to configuration elements.</p>
<p>You can create, modify, read and delete these annotations like in the UI editors.</p>
<p>All sub types of</p>
<p>MIHasAnnotation elements support annotations like:</p>
<p>• MIModuleConfigurations</p>
<p>• MIContainers</p>
<p>• MIParameterValues</p>
<p>• MIIdentifiables</p>
<p>Although annotations are stored in the data model,</p>
<p>their changeable state is independent of</p>
<p>the configuration element changeable state.</p>
<p>Annotations can be added/changed/deleted on</p>
<p>every existing configuration element with valid definition,</p>
<p>except the project was opened in</p>
<p>read-only mode.</p>
<p>The IUserAnnotation interface provide methods like:</p>
<p>• getLabel() - Returns the label of the annotation, like getName() of a container</p>
<p>• setLabel() - Changes the label</p>
<p>• getText() - Returns the text of the annotation.</p>
<p>• setText() - Changes the text</p>
<p>• isChangeable() - Returns true, if the annotation is changeable</p>
<p>• moRemove() - Deletes the annotation</p>
<p><b>Access User Annotations</b></p>
<p>The getUserAnnotations(MIARObject) method returns the IU-</p>
<p>serAnnotations for the model element.</p>
<p>The returned list provides additional methods defined</p>
<p>in IUserAnnotationList.</p>
<p>//</p>
<p>We</p>
<p>already</p>
<p>have</p>
<p>the</p>
<p>container</p>
<p>&quot; cont &quot;</p>
<p>or</p>
<p>any</p>
<p>other</p>
<p>model</p>
<p>element</p>
<p><b>def</b></p>
<p>myContainer</p>
<p>=</p>
<p>cont</p>
<p><b>def</b></p>
<p>annos</p>
<p>=</p>
<p>myContainer . userAnnotations</p>
<p>//</p>
<p>Retrieve</p>
<p>the</p>
<p>list</p>
<p>of</p>
<p>annotations</p>
<p><b>def</b></p>
<p>anno</p>
<p>=</p>
<p>annos . byLabel ( &quot; MyLabel &quot; )</p>
<p>//</p>
<p>Select</p>
<p>the</p>
<p>annotation</p>
<p>with</p>
<p>&quot; MyLabel &quot;</p>
<p><b>def</b></p>
<p>text</p>
<p>=</p>
<p>anno . text</p>
<p>//</p>
<p>Get</p>
<p>the</p>
<p>Text</p>
<p>//</p>
<p>Or</p>
<p>short</p>
<p>text</p>
<p>=</p>
<p>myContainer . userAnnotations [ &quot; MyLabel &quot; ]. text</p>
<p>Listing 4.132: Get a UserAnnotation of a container</p>
<p><b>Creation and Modification of User Annotations</b></p>
<p>You can create new User Annotations with</p>
<p>the methods:</p>
<p>• createAndAdd(label)</p>
<p>• byLabelOrCreate(label)</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>111 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>transaction {</p>
<p>//</p>
<p>We</p>
<p>already</p>
<p>have</p>
<p>the</p>
<p>container</p>
<p>&quot; cont &quot;</p>
<p><b>def</b></p>
<p>anno</p>
<p>=</p>
<p>cont . userAnnotations . createAndAdd (&quot; MyAnno &quot; )</p>
<p>anno . text</p>
<p>=</p>
<p>&quot; My</p>
<p>Text &quot;</p>
<p>}</p>
<p>Listing 4.133: Create a new UserAnnotation</p>
<p>transaction {</p>
<p>//</p>
<p>We</p>
<p>already</p>
<p>have</p>
<p>the</p>
<p>container</p>
<p>&quot; cont &quot;</p>
<p><b>def</b></p>
<p>anno</p>
<p>=</p>
<p>cont . userAnnotations . byLabelOrCreate ( &quot; MyAnno &quot;)</p>
<p>anno . text</p>
<p>=</p>
<p>&quot; My</p>
<p>Text &quot;</p>
<p>}</p>
<p>Listing 4.134: Create or get the existing UserAnnotation by label name</p>
<p><b>Notes</b></p>
<p>The IUserAnnotationList is not updated, when the underlying model changes.</p>
<p>You</p>
<p>have to retrieve a new instance of</p>
<p>IUserAnnotationList to reflect changes.</p>
<p>The IUserAnnotationList is read only list and does not permit any modify operations defi-</p>
<p>ned in java.util.List, but certain operations like createAndAdd(String) will affect the list</p>
<p>content.</p>
<p>If you delete a contained IUserAnnotation the list will not be updated.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>112 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>4.7 Generation</b></p>
<p>The Automation Interface provides generation API for different generation use cases:</p>
<p>• Normal code generation, see 4.7.1</p>
<p><b>–</b> Including external generation steps</p>
<p>• SWC Templates and Contract Phase Headers generation, see 4.7.3 on page 120</p>
<p><b>4.7.1 Code Generation</b></p>
<p>The block<b> generation</b> encapsulates all</p>
<p>settings and commands which are related to code ge-</p>
<p>neration of BSW modules:</p>
<p>The basic structure is the following:</p>
<p>generation {</p>
<p>settings {</p>
<p>//</p>
<p>Settings</p>
<p>like</p>
<p>the</p>
<p>selection</p>
<p>of</p>
<p>generators</p>
<p>for</p>
<p>execution</p>
<p>are</p>
<p>done</p>
<p>here</p>
<p>externalGenerationSteps {</p>
<p>//</p>
<p>Settings</p>
<p>related</p>
<p>to</p>
<p>externalGenerationSteps</p>
<p>can</p>
<p>be</p>
<p>done</p>
<p>here</p>
<p>}</p>
<p>}</p>
<p>//</p>
<p>The</p>
<p>execution</p>
<p>of</p>
<p>the</p>
<p>generation</p>
<p>or</p>
<p>validation</p>
<p>can</p>
<p>be</p>
<p>started</p>
<p>here</p>
<p>}</p>
<p>Listing 4.135: Basic structure</p>
<p><b>4.7.1.1 Generation Settings</b></p>
<p>The class IGenerationSettingsApi encapsulates all</p>
<p>settings which belong to a generation</p>
<p>process.</p>
<p>E.g.</p>
<p>• Select the generators to execute</p>
<p>• Select the target type (Real, VTT)</p>
<p>• Select the external generation steps</p>
<p>• If</p>
<p>the module supports multiple module configurations,</p>
<p>select the configurations which</p>
<p>shall be generated</p>
<p>The following chapters show samples for the standard use cases.</p>
<p><b>Generation with default Project Settings</b></p>
<p>The following snippet executes a validation with</p>
<p>the default project settings.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>113 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>scriptTask (&quot; validate_with_default_settings &quot; ){</p>
<p>code {</p>
<p>generation {</p>
<p>validate ()</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.136: Validate with default project settings</p>
<p>To execute a generation with the standard project settings the following snippet can be used.</p>
<p>The validation is executed implicitly before the generation because of</p>
<p>AUTOSAR require-</p>
<p>ments.</p>
<p>scriptTask (&quot; generate_with_default_settings &quot; ){</p>
<p>code {</p>
<p>generation {</p>
<p>generate ()</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.137: Generate with standard project settings</p>
<p><b>Generation of one Module</b></p>
<p>This sample selects one specific module and starts the generation.</p>
<p>There are two ways to open an settings block:</p>
<p>•<b> settings</b></p>
<p><b>–</b> This keyword creates empty settings.</p>
<p>E.g.</p>
<p>no module is selected for execution.</p>
<p>•<b> settingsFromProject</b></p>
<p><b>–</b> This keyword takes the project settings as template.</p>
<p>E.g.</p>
<p>modules from the project</p>
<p>settings are initially activated and can optionally be refined by explicit selections.</p>
<p>scriptTask (&quot; generate_one_module &quot; ) {</p>
<p>code {</p>
<p>generation {</p>
<p>settings {</p>
<p>//</p>
<p>To</p>
<p>take</p>
<p>the</p>
<p>project</p>
<p>settings</p>
<p>as</p>
<p>template</p>
<p>use</p>
<p>//</p>
<p>settingsFromProject {</p>
<p>selectGeneratorsByDefRef ( &quot;/ MICROSAR / Aaa &quot;)</p>
<p>}</p>
<p>generate ()</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.138: Generate one module</p>
<p>Instead of selecting the generator directly by its DefRef,</p>
<p>there is also the possibility to fetch</p>
<p>the generator object and select this object for execution.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>114 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>scriptTask (&quot; generate_one_module &quot; ) {</p>
<p>code {</p>
<p>generation {</p>
<p>settings {</p>
<p>//</p>
<p>To</p>
<p>take</p>
<p>the</p>
<p>project</p>
<p>settings</p>
<p>as</p>
<p>template</p>
<p>use</p>
<p>//</p>
<p>settingsFromProject {</p>
<p><b>def</b></p>
<p>gens</p>
<p>=</p>
<p>generatorByDefRef</p>
<p>( &quot;/ MICROSAR / Aaa &quot;)</p>
<p>selectGenerators ( gens )</p>
<p>}</p>
<p>generate ()</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.139: Generate one module</p>
<p><b>Generation of multiple Modules</b></p>
<p>To select more than one generator the following snippet can</p>
<p>be used.</p>
<p>scriptTask (&quot; generate_two_modules &quot; ){</p>
<p>code {</p>
<p>generation {</p>
<p>settings {</p>
<p>selectGeneratorsByDefRef</p>
<p>(&quot;/ MICROSAR / Aaa &quot; ,</p>
<p>&quot;/ MICROSAR / Bbb &quot;)</p>
<p>}</p>
<p>generate ()</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.140: Generate two modules</p>
<p><b>Generation of</b></p>
<p><b>Multi</b></p>
<p><b>Instance Modules</b></p>
<p>Some module definitions have a upper multiplicity</p>
<p>greater than one.</p>
<p>(E.g.</p>
<p>[0:5] or [0:*]) This means it is allowed to create more than one module</p>
<p>configuration from this module definition.</p>
<p>If the related generator is started with the default</p>
<p>API, all available module configurations are selected for generation.</p>
<p>The following API can be</p>
<p>used to generate only a subset of all related module configurations.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>115 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>scriptTask (&quot; generate_one_module_with_two_configs &quot; ) {</p>
<p>code {</p>
<p>generation {</p>
<p>settings {</p>
<p><b>def</b></p>
<p>gen</p>
<p>=</p>
<p>generatorByDefRef</p>
<p>( &quot; / MICROSAR / MultiInstModule &quot;)</p>
<p>//</p>
<p>clear</p>
<p>default</p>
<p>selection</p>
<p>gen . deselectAllModuleInstances ()</p>
<p>//</p>
<p>Select</p>
<p>the</p>
<p>module</p>
<p>configurations</p>
<p>to</p>
<p>generate</p>
<p>gen . selectModuleInstance ( AsrPath . create ( &quot; / ActiveEcuC /</p>
<p>MultiInstModule1 &quot; ))</p>
<p>//</p>
<p>Instead</p>
<p>of</p>
<p>the</p>
<p>full</p>
<p>qualified</p>
<p>path ,</p>
<p>the</p>
<p>module</p>
<p>configuration</p>
<p>short</p>
<p>name</p>
<p>can</p>
<p>also</p>
<p>be</p>
<p>used</p>
<p>gen . selectModuleInstance ( &quot; MultiInstModule2 &quot;)</p>
<p>}</p>
<p>generate ()</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.141: Generate one module with two configurations</p>
<p><b>4.7.1.2 Generation of Generation Steps</b></p>
<p>Besides the internal generators, which are covered by the topics above, there are also generation</p>
<p>steps which can be executed with the following API. A new block externalGenerationSteps</p>
<p>within the settings block encapsulates all settings related to external generation scripts.</p>
<p>scriptTask (&quot; generate_ext_gen_step &quot;) {</p>
<p>code {</p>
<p>generation {</p>
<p>settings {</p>
<p>externalGenerationSteps {</p>
<p>//</p>
<p>To</p>
<p>take</p>
<p>the</p>
<p>project</p>
<p>settings</p>
<p>as</p>
<p>template</p>
<p>use</p>
<p>//</p>
<p>externalGenerationStepsFromProject {}</p>
<p>selectStep ( &quot; ExtGen1 &quot;)</p>
<p>selectStep ( &quot; ExtGen2 &quot;)</p>
<p>}</p>
<p>}</p>
<p>generate ()</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.142: Execute an external generation step</p>
<p><b>Retrieval</b></p>
<p><b>of TargetType (REAL, VTT) of Generation Steps</b></p>
<p>You can query the EEnviron-</p>
<p>mentTargetType of the generation step.</p>
<p>This will</p>
<p>give you the information if the step can be</p>
<p>executed in REAL, VTT or both modes.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>116 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>generation . settings . externalGenerationSteps {</p>
<p><b>def</b></p>
<p>step</p>
<p>=</p>
<p>stepByName ( &quot; ExtGen1 &quot; )</p>
<p><b>def</b></p>
<p>targetType</p>
<p>=</p>
<p>step . generationStep . targetType</p>
<p><b>if</b> ( targetType . isRealAvailable () ){</p>
<p>//</p>
<p>Real</p>
<p>use</p>
<p>case</p>
<p>}<b> else</b></p>
<p><b>if</b> ( targetType . isVttAvailable () ){</p>
<p>//</p>
<p>VTT</p>
<p>use</p>
<p>case</p>
<p>}<b> else</b> {</p>
<p>//</p>
<p>None</p>
<p>selected</p>
<p>}</p>
<p>}</p>
<p>Listing 4.143: Retrieval of the TargetType of a Generation Step</p>
<p><b>4.7.1.3 Evaluate generation or validation results</b></p>
<p>Each validation and generation process has an overall</p>
<p>result which states if the execution has</p>
<p>been successfully or not.</p>
<p>Additionally to the overall state, the state of one specific generator can</p>
<p>also be of interest.</p>
<p>To provide a possibility to access this information all methods for validate</p>
<p>and generate return an IGenerationResultModel.</p>
<p>scriptTask (&quot; generate_with_default_settings &quot; ){</p>
<p>code {</p>
<p>generation {</p>
<p><b>def</b></p>
<p>result</p>
<p>=</p>
<p>generate ()</p>
<p>println</p>
<p>&quot; Overall</p>
<p>result</p>
<p>:</p>
<p>&quot;</p>
<p>+</p>
<p>result . result</p>
<p>println</p>
<p>&quot; Duration</p>
<p>:</p>
<p>&quot;</p>
<p>+</p>
<p>result . formattedDuration</p>
<p>//</p>
<p>Access</p>
<p>results</p>
<p>of</p>
<p>each</p>
<p>generator</p>
<p>or</p>
<p>generation</p>
<p>step</p>
<p>result . generationResultRoot . allGeneratorAndStepElements . each</p>
<p>{</p>
<p>println</p>
<p>&quot; Generator</p>
<p>name</p>
<p>:</p>
<p>&quot;</p>
<p>+</p>
<p>it . name</p>
<p>println</p>
<p>&quot; Result</p>
<p>:</p>
<p>&quot;</p>
<p>+</p>
<p>it . currentState</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.144: Evaluate the generation result</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>117 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>4.7.2 Generation Task Types</b></p>
<p>There are three types of</p>
<p>IScriptTaskType for the generation process:</p>
<p>• Generation Step:</p>
<p>DV_GENERATION_STEP</p>
<p>• Custom Workflow Step:</p>
<p>DV_CUSTOM_WORKFLOW_STEP</p>
<p>• Generation Process Start:</p>
<p>DV_ON_GENERATION_START</p>
<p>• Generation Process End:</p>
<p>DV_ON_GENERATION_END</p>
<p>The general description of the type is in chapter 4.3.1.4 on page 33.</p>
<p>The following code samples</p>
<p>show the usage of these task types:</p>
<p><b>Generation Step</b></p>
<p>A sample for the DV_GENERATION_STEP type:</p>
<p>scriptTask (&quot; GenStepTask &quot; ,</p>
<p>DV_GENERATION_STEP ) {</p>
<p>taskDescription</p>
<p>&quot; Task</p>
<p>is</p>
<p>executed</p>
<p>as</p>
<p>Generation</p>
<p>Step &quot;</p>
<p><b>def</b></p>
<p>myArg</p>
<p>=</p>
<p>newUserDefinedArgument (</p>
<p>&quot; myArgument &quot; ,</p>
<p>String ,</p>
<p>&quot; Defines</p>
<p>a</p>
<p>user</p>
<p>argument</p>
<p>for</p>
<p>the</p>
<p>GenerationStep &quot;)</p>
<p>code {</p>
<p>phase ,</p>
<p>generationType ,</p>
<p>resultSink</p>
<p>-&gt;</p>
<p><b>def</b></p>
<p>myArgVal</p>
<p>=</p>
<p>myArg . value</p>
<p>//</p>
<p>The</p>
<p>value</p>
<p>myArgVal</p>
<p>was</p>
<p>passed</p>
<p>from</p>
<p>the</p>
<p>generation</p>
<p>step</p>
<p>in</p>
<p>the</p>
<p>project</p>
<p>settings</p>
<p>editor</p>
<p>scriptLogger . info</p>
<p>&quot; MyArg</p>
<p>is :</p>
<p>$myArgVal &quot;</p>
<p>scriptLogger . info</p>
<p>&quot; GenerationType</p>
<p>is :</p>
<p>$generationType &quot;</p>
<p><b>if</b> ( phase . calculation ) {</p>
<p>//</p>
<p>Execute</p>
<p>code</p>
<p>before</p>
<p>/</p>
<p>after</p>
<p>calculation</p>
<p>transaction</p>
<p>{</p>
<p>//</p>
<p>Modify</p>
<p>the</p>
<p>Model</p>
<p>in</p>
<p>the</p>
<p>calculation</p>
<p>phase</p>
<p>}</p>
<p>}</p>
<p><b>if</b> ( phase . validation ) {</p>
<p>//</p>
<p>Execute</p>
<p>code</p>
<p>before</p>
<p>/</p>
<p>after</p>
<p>validation</p>
<p>}</p>
<p><b>if</b> ( phase . generation ) {</p>
<p>//</p>
<p>Execute</p>
<p>code</p>
<p>before</p>
<p>/</p>
<p>after</p>
<p>generation</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.145: Use a script task as generation step during generation</p>
<p>The<i> Generation Step</i> can also report validation results into the passed resultSink.</p>
<p>See chap-</p>
<p>ter 4.8.5.10 on page 133 for a sample how to create an validation-result and report it.</p>
<p>The generationType defines if the current generation is for the REAL or VTT platform.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>118 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>Custom Workflow Step</b></p>
<p>A sample for the DV_CUSTOM_WORKFLOW_STEP type:</p>
<p>scriptTask (&quot; GenStepTask &quot; ,</p>
<p>DV_CUSTOM_WORKFLOW_STEP ) {</p>
<p>taskDescription</p>
<p>&quot; Task</p>
<p>is</p>
<p>executed</p>
<p>as</p>
<p>custom</p>
<p>workflow</p>
<p>step &quot;</p>
<p><b>def</b></p>
<p>myArg</p>
<p>=</p>
<p>newUserDefinedArgument (</p>
<p>&quot; myArgument &quot; ,</p>
<p>String ,</p>
<p>&quot; User</p>
<p>argument</p>
<p>for</p>
<p>the</p>
<p>step &quot; )</p>
<p>code {</p>
<p><b>def</b></p>
<p>myArgVal</p>
<p>=</p>
<p>myArg . value</p>
<p>//</p>
<p>The</p>
<p>value</p>
<p>myArgVal</p>
<p>was</p>
<p>passed</p>
<p>from</p>
<p>the</p>
<p>custom</p>
<p>workflow</p>
<p>step</p>
<p>in</p>
<p>the</p>
<p>project</p>
<p>settings</p>
<p>editor</p>
<p>scriptLogger . info</p>
<p>&quot; MyArg</p>
<p>is :</p>
<p>$myArgVal &quot;</p>
<p>}</p>
<p>}</p>
<p>Listing 4.146: Use a script task as custom workflow step</p>
<p><b>Generation Process Start</b></p>
<p>A sample for the DV_ON_GENERATION_START type:</p>
<p>scriptTask (&quot; GenStartTask &quot; ,</p>
<p>DV_ON_GENERATION_START ) {</p>
<p>taskDescription</p>
<p>&quot; The</p>
<p>task</p>
<p>is</p>
<p>automatically</p>
<p>executed</p>
<p>at</p>
<p>generation</p>
<p>start &quot;</p>
<p>code {</p>
<p>phasesToExecute ,</p>
<p>generators</p>
<p>-&gt;</p>
<p>scriptLogger . info</p>
<p>&quot; Phases</p>
<p>are :</p>
<p>$phasesToExecute &quot;</p>
<p>scriptLogger . info</p>
<p>&quot; Generators</p>
<p>to</p>
<p>execute</p>
<p>are :</p>
<p>$generators &quot;</p>
<p>//</p>
<p>Execute</p>
<p>code</p>
<p>before</p>
<p>the</p>
<p>generation</p>
<p>will</p>
<p>start</p>
<p>}</p>
<p>}</p>
<p>Listing 4.147: Hook into the GenerationProcess at the start with script task</p>
<p><b>Generation Process End</b></p>
<p>A sample for the DV_ON_GENERATION_END type:</p>
<p>scriptTask (&quot; GenEndTask &quot; ,</p>
<p>DV_ON_GENERATION_END ) {</p>
<p>taskDescription</p>
<p>&quot; The</p>
<p>task</p>
<p>is</p>
<p>automatically</p>
<p>executed</p>
<p>at</p>
<p>generation</p>
<p>end &quot;</p>
<p>code {</p>
<p>generationResult ,</p>
<p>generators</p>
<p>-&gt;</p>
<p>scriptLogger . info</p>
<p>&quot; Process</p>
<p>result</p>
<p>was :</p>
<p>$generationResult &quot;</p>
<p>scriptLogger . info</p>
<p>&quot; Executed</p>
<p>Generators :</p>
<p>$generators &quot;</p>
<p>//</p>
<p>Execute</p>
<p>code</p>
<p>after</p>
<p>the</p>
<p>generation</p>
<p>process</p>
<p>was</p>
<p>finished</p>
<p>}</p>
<p>}</p>
<p>Listing 4.148: Hook into the GenerationProcess at the end with script task</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>119 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>4.7.3 Software Component Templates and Contract Phase Headers Generation</b></p>
<p>The Software Component Templates and Contract Phase Headers (Swct) generation automation</p>
<p>API provides access to configure and start the Swct generation.</p>
<p>The block<b> generation.swct</b> encapsulates all settings and commands which are related to this</p>
<p>use case.</p>
<p>The basic structure is the following:</p>
<p>generation . swct {</p>
<p>settings {</p>
<p>//</p>
<p>Settings</p>
<p>like</p>
<p>the</p>
<p>selection</p>
<p>of</p>
<p>components</p>
<p>to</p>
<p>generate</p>
<p>}</p>
<p>//</p>
<p>The</p>
<p>execution</p>
<p>of</p>
<p>the</p>
<p>generation</p>
<p>can</p>
<p>be</p>
<p>started</p>
<p>here</p>
<p>generate ()</p>
<p>}</p>
<p>Listing 4.149: Basic Swct structure</p>
<p><b>4.7.3.1 Swct Generation Settings</b></p>
<p>The class IGenerationSwctSettingsApi encapsulates all settings which belong to a Swct ge-</p>
<p>neration process.</p>
<p>Examples:</p>
<p>• Select the software components to execute</p>
<p>• Retrieve the available software components</p>
<p>The following chapters show samples for the standard use cases.</p>
<p><b>4.7.3.2 Generation with default Project Settings</b></p>
<p>To execute the Swct generation with the standard project settings the following snippet can be</p>
<p>used:</p>
<p>scriptTask (&quot; generate_with_default_settings &quot; ){</p>
<p>code {</p>
<p>generation . swct {</p>
<p>generate ()</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.150: SWC Templates and Contract Headers generation with standard project settings</p>
<p><b>4.7.3.3 Generation of all</b></p>
<p><b>Software Components</b></p>
<p>To execute the Swct generation for all available software components the following snippet can</p>
<p>be used:</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>120 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>scriptTask (&quot; generate_with_default_settings &quot; ){</p>
<p>code {</p>
<p>generation . swct {</p>
<p>settings . selectAll ()</p>
<p>generate ()</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.151: SWC Templates and Contract Headers generation of all components</p>
<p><b>4.7.3.4 Generation of one Software Component</b></p>
<p>This sample selects one specific software component and starts the generation.</p>
<p>There are two</p>
<p>ways to open an settings block:</p>
<p>•<b> settings</b></p>
<p><b>–</b> This keyword creates empty settings.</p>
<p>E.g.</p>
<p>no component is selected for execution.</p>
<p>•<b> settingsFromProject</b></p>
<p><b>–</b> This keyword takes the project settings as template.</p>
<p>E.g.</p>
<p>component from the pro-</p>
<p>ject settings are initially activated and can optionally be refined by explicit selections.</p>
<p>scriptTask (&quot; generate_one_component &quot; ) {</p>
<p>code {</p>
<p>generation . swct {</p>
<p>settings {</p>
<p>selectSoftwareComponent ( &quot; MyApplType &quot; )</p>
<p>}</p>
<p>generate ()</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.152: SWC Templates and Contract Headers generation of one selected component</p>
<p>Instead of selecting the software component directly by its Name, there is also the possibility to</p>
<p>fetch the software component object and select() this object for execution.</p>
<p>scriptTask (&quot; generate_one_component &quot; ) {</p>
<p>code {</p>
<p>generation . swct {</p>
<p>settings {</p>
<p><b>def</b></p>
<p>sw</p>
<p>=</p>
<p>softwareComponentByName ( &quot; MyApplType &quot;)</p>
<p>//</p>
<p>Select</p>
<p>the</p>
<p>software</p>
<p>component</p>
<p>sw . select ()</p>
<p>//</p>
<p>You</p>
<p>could</p>
<p>also</p>
<p>retrieve</p>
<p>information</p>
<p>about</p>
<p>the</p>
<p>component</p>
<p><b>def</b></p>
<p>asrPath</p>
<p>=</p>
<p>sw . asrPath</p>
<p><b>if</b> ( sw . selected ) {</p>
<p>/*</p>
<p>Do</p>
<p>something</p>
<p>*/</p>
<p>}</p>
<p>}</p>
<p>generate ()</p>
<p>}</p>
<p>}}</p>
<p>Listing 4.153: Swct generation get component and select component</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>121 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>4.7.3.5 Generation of multiple Software Components</b></p>
<p>To select more than one Software Component the following snippet can be used.</p>
<p>scriptTask (&quot; generate_one_component &quot; ) {</p>
<p>code {</p>
<p>generation . swct {</p>
<p>settings {</p>
<p>//</p>
<p>Select</p>
<p>the</p>
<p>tow</p>
<p>software</p>
<p>components</p>
<p>selectSoftwareComponent ( &quot; MyApplType &quot; ,&quot; MySecondApplType &quot; )</p>
<p>}</p>
<p>generate ()</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.154: Swct generation of multiple components</p>
<p><b>4.7.3.6 Evaluate generation results</b></p>
<p>The same API is used as for the normal</p>
<p>generation,</p>
<p>see chapter 4.7.1.3 on page 117 for de-</p>
<p>tails.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>122 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>4.8 Validation</b></p>
<p><b>4.8.1 Introduction</b></p>
<p>All examples in this chapter are based on the situation of the figure 4.6.</p>
<p>The module and the</p>
<p>validators are not from the real MICROSAR stack, but just for the examples.</p>
<p>There is a module</p>
<p>Tp that has 3 Buffer containers and each Buffer has a Size parameter with value=3.</p>
<p>There is also a validator that requires the Size parameter to be a multiple of 4.</p>
<p>For each Size</p>
<p>parameter that violates this constraint, a validation-result with ID Tp00012 is created.</p>
<p>Such a validation-result has 2 solving-actions.</p>
<p>One that sets the Size to the next smaller valid</p>
<p>value,</p>
<p>and one that sets the Size to the next bigger valid value.</p>
<p>The letter solving-action is</p>
<p>marked as preferred-solving-action.</p>
<p>There is also a Tp00011 result that stands for any other result.</p>
<p>The examples will</p>
<p>not touch</p>
<p>it.</p>
<p>Figure 4.6: example situation with the GUI</p>
<p><b>4.8.2 Access Validation-Results</b></p>
<p>A validation{} block gives access to the validation API of the consistency component.</p>
<p>That</p>
<p>means accessing the validation-results which are shown in the GUI</p>
<p>in the validation view,</p>
<p>and solving them by executing solving-actions which are also shown in the GUI beneath each</p>
<p>validation-result (with a bulb icon).</p>
<p>getValidationResults() waits for background-validation-idle and returns all validation-results</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>123 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>of any kind.</p>
<p>The returned collection has no deterministic order,</p>
<p>especially it is not the same</p>
<p>order as in the GUI.</p>
<p>scriptTask (&quot; CheckValidationResults_filterByOriginId &quot; ,</p>
<p>DV_PROJECT ){</p>
<p>code {</p>
<p>validation {</p>
<p>//</p>
<p>access</p>
<p>all</p>
<p>validation - results</p>
<p><b>def</b></p>
<p>allResults</p>
<p>=</p>
<p>validationResults</p>
<p><b>assert</b></p>
<p>allResults . size ()</p>
<p>&gt;</p>
<p>3</p>
<p>//</p>
<p>filter</p>
<p>based</p>
<p>on</p>
<p>methods</p>
<p>of</p>
<p>IValidationResultUI</p>
<p>e .g .</p>
<p>isId ()</p>
<p><b>def</b></p>
<p>tp12Results</p>
<p>=</p>
<p>validationResults . filter { it . isId ( &quot; Tp &quot; ,</p>
<p>12) }</p>
<p><b>assert</b></p>
<p>tp12Results . size ()</p>
<p>==</p>
<p>3</p>
<p>}</p>
<p>//</p>
<p>alternative</p>
<p>access</p>
<p>to</p>
<p>validation - results</p>
<p>without</p>
<p>a</p>
<p>validation</p>
<p>block</p>
<p><b>assert</b></p>
<p>validation . validationResults . size ()</p>
<p>&gt;</p>
<p>3</p>
<p>}</p>
<p>}</p>
<p>Listing 4.155: Access all validation-results and filter them by ID</p>
<p><b>4.8.3 Model</b></p>
<p><b>Transaction and Validation-Result Invalidation</b></p>
<p>Before we continue in this chapter with solving validation-results, the following information is</p>
<p>import to know:</p>
<p><b>Relation to model transactions:</b></p>
<p>Solving validation-results</p>
<p>with solving-actions</p>
<p>always</p>
<p>creates</p>
<p>a transaction implicitly.</p>
<p>An</p>
<p>IllegalStateException will</p>
<p>be thrown if</p>
<p>this</p>
<p>is</p>
<p>done within an explicitly opened tran-</p>
<p>saction.</p>
<p><b>Invalidation of validation-results:</b></p>
<p>Any model</p>
<p>modification may invalidate any validation-result.</p>
<p>In that case,</p>
<p>the responsible</p>
<p>validator creates a new validation-result if the inconsistency still exists.</p>
<p>Whether this happens</p>
<p>for a particular modification/validation-result depends on the validator implementation and is</p>
<p>not visible to the user/client.</p>
<p>Trying to solve an invalidated validation-result will</p>
<p>throw an IllegalStateException.</p>
<p>The-</p>
<p>refore it is not safe to solve a particular ISolvingActionUI that was fetched before the last</p>
<p>transaction.</p>
<p>Instead, please fetch a solving-action after the last transaction, or use the method</p>
<p>ISolver.solve(Closure) which is the most preferred way of</p>
<p>solving validation-results with</p>
<p>solving-actions.</p>
<p>See chapter 4.8.4.1 on the following page for details.</p>
<p><b>4.8.4 Solve Validation-Results with Solving-Actions</b></p>
<p>A single validation-result can be solved by calling solve() on one of its solving-actions.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>124 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>scriptTask (&quot; SolveSingleResultWithSolvingAction &quot; ,</p>
<p>DV_PROJECT ){</p>
<p>code {</p>
<p>validation {</p>
<p><b>def</b></p>
<p>tp12Results</p>
<p>=</p>
<p>validationResults . filter { it . isId ( &quot; Tp &quot; ,</p>
<p>12) }</p>
<p><b>assert</b></p>
<p>tp12Results . size ()</p>
<p>==</p>
<p>3</p>
<p>//</p>
<p>Take</p>
<p>first</p>
<p>( any )</p>
<p>validation - result</p>
<p>and</p>
<p>filter</p>
<p>its</p>
<p>solving -</p>
<p>actions</p>
<p>based</p>
<p>on</p>
<p>methods</p>
<p>of</p>
<p>ISolvingActionUI</p>
<p>tp12Results . first . solvingActions . filter {</p>
<p>it . description . contains (&quot; next</p>
<p>bigger</p>
<p>valid</p>
<p>value &quot; )</p>
<p>}. single . solve ()</p>
<p>//</p>
<p>reduce</p>
<p>the</p>
<p>collection</p>
<p>to</p>
<p>a</p>
<p>single</p>
<p>ISolvingActionUI</p>
<p>and</p>
<p>call</p>
<p>solve ()</p>
<p><b>assert</b></p>
<p>validationResults . filter { it . isId (&quot; Tp &quot; ,</p>
<p>12) }. size ()</p>
<p>==</p>
<p>2</p>
<p>//</p>
<p>One</p>
<p>Tp12</p>
<p>validation - result</p>
<p>solved</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.156: Solve a single validation-result with a particular solving-action</p>
<p><b>4.8.4.1 Solver API</b></p>
<p>getSolver() gives access to the ISolver API,</p>
<p>which has advanced methods for bulk soluti-</p>
<p>ons.</p>
<p>ISolver.solve(Closure) allows to solve multiple validation-results within one transaction.</p>
<p>You should always use this method to solve multiple validation-results at once instead of calling</p>
<p>ISolvingActionUI.solve() in a loop.</p>
<p>This is very important, because solving one validation-</p>
<p>result,</p>
<p>may cause invalidation of another one.</p>
<p>And calling ISolvingActionUI.solve() of an</p>
<p>invalidated validation-result throws an IllegalStateException.</p>
<p>Also, invalidated validation-</p>
<p>results may get recalculated and you would miss the recalculated validation-results with the</p>
<p>loop approach.</p>
<p>But with ISolver.solve(Closure) you can solve invalidated-&gt;recalculated</p>
<p>results as well</p>
<p>as results which didn’t exist at the time of</p>
<p>the call</p>
<p>(but have been caused by</p>
<p>solving some other validation-result).</p>
<p>ISolver.solve(Closure) first waits for background-validation-idle in order to have reprodu-</p>
<p>cible results.</p>
<p>The closure may contain multiple statements like:</p>
<p>result { specify</p>
<p>result</p>
<p>predicate }. withAction { select</p>
<p>solving</p>
<p>action }</p>
<p>All</p>
<p>statements together will</p>
<p>be used as a mapper from any solvable validation-result to a</p>
<p>particular solving-action.</p>
<p>The order of</p>
<p>these statements does not affect the solving action</p>
<p>execution order.</p>
<p>The statement order might only be relevant if multiple statements match on</p>
<p>a particular result, but would select a different solving-action.</p>
<p>In that case, the first statement</p>
<p>that successfully selects a solving-action wins.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>125 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>scriptTask (&quot; SolveMultipleResults &quot; ,</p>
<p>DV_PROJECT ) {</p>
<p>code {</p>
<p>validation {</p>
<p><b>assert</b></p>
<p>validationResults . size ()</p>
<p>==</p>
<p>4</p>
<p>solver . solve {</p>
<p>//</p>
<p>Call</p>
<p>result ()</p>
<p>and</p>
<p>pass</p>
<p>a</p>
<p>closure</p>
<p>that</p>
<p>works</p>
<p>as</p>
<p>filter</p>
<p>//</p>
<p>based</p>
<p>on</p>
<p>methods</p>
<p>of</p>
<p>IValidationResultUI .</p>
<p>result {</p>
<p>isId (&quot; Tp &quot; ,</p>
<p>12)</p>
<p>}. withAction {</p>
<p>containsString ( &quot; next</p>
<p>bigger</p>
<p>valid</p>
<p>value &quot;)</p>
<p>}</p>
<p>//</p>
<p>On</p>
<p>the</p>
<p>return</p>
<p>value ,</p>
<p>call</p>
<p>withAction ()</p>
<p>and</p>
<p>pass</p>
<p>a</p>
<p>closure</p>
<p>that</p>
<p>//</p>
<p>selects</p>
<p>a</p>
<p>solving - action</p>
<p>based</p>
<p>on</p>
<p>methods</p>
<p>//</p>
<p>of</p>
<p>IValidationResultForSolvingActionSelect</p>
<p>//</p>
<p>multiple</p>
<p>result ()</p>
<p>calls</p>
<p>can</p>
<p>be</p>
<p>placed</p>
<p>in</p>
<p>one</p>
<p>solve ()</p>
<p>call .</p>
<p>result { isId ( &quot; Com &quot; ,</p>
<p>34) }. withAction { containsString ( &quot; recalculate &quot; )}</p>
<p>}</p>
<p><b>assert</b></p>
<p>validationResults . size ()</p>
<p>==</p>
<p>1</p>
<p>//</p>
<p>Three</p>
<p>Tp12</p>
<p>and</p>
<p>zero</p>
<p>Com34</p>
<p>( didn 't</p>
<p>exist )</p>
<p>results</p>
<p>solved .</p>
<p>One</p>
<p>other</p>
<p>left</p>
<p>}}}</p>
<p>Listing 4.157: Fast solve multiple results within one transaction</p>
<p><b>Solve all</b></p>
<p><b>PreferredSolvingActions</b></p>
<p>ISolver.solveAllWithPreferredSolvingAction() sol-</p>
<p>ves all</p>
<p>validation-results with its preferred solving-</p>
<p>action of</p>
<p>each validation-result (solving-</p>
<p>action return by IValidationResultUI.getPreferredSolvingAction()).</p>
<p>Validation-results</p>
<p>without a preferred solving-action are skipped.</p>
<p>This method first waits for background-validation-idle in order to have reproducible results.</p>
<p>scriptTask (&quot; SolveAllWithPreferred &quot; ,</p>
<p>DV_PROJECT ){</p>
<p>code {</p>
<p>validation {</p>
<p><b>assert</b></p>
<p>validationResults . size ()</p>
<p>==</p>
<p>4</p>
<p>solver . solveAllWithPreferredSolvingAction ()</p>
<p><b>assert</b></p>
<p>validationResults . size ()</p>
<p>==</p>
<p>1</p>
<p>//</p>
<p>this</p>
<p>would</p>
<p>do</p>
<p>the</p>
<p>same</p>
<p>transactions . transactionHistory . undo ()</p>
<p><b>assert</b></p>
<p>validationResults . size ()</p>
<p>==</p>
<p>4</p>
<p>solver . solve {</p>
<p>result {<b> true</b> }. withAction { preferred }</p>
<p>}</p>
<p><b>assert</b></p>
<p>validationResults . size ()</p>
<p>==</p>
<p>1</p>
<p>}}}</p>
<p>Listing 4.158: Solve all validation-results with its preferred solving-action (if available)</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>126 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>4.8.5 Advanced Topics</b></p>
<p><b>4.8.5.1 Access Validation-Results of a Model</b></p>
<p><b>Object</b></p>
<p>You can retrieve validation-results also from any model</p>
<p>object (MDF,</p>
<p>Domain or BswmdMo-</p>
<p>del).</p>
<p>MIObject.getValidationResults() returns the validation-results of an MIObject.</p>
<p>These are</p>
<p>those results</p>
<p>for</p>
<p>which IValidationResultUI.matchErroneousCE(MIObject) returns</p>
<p>true.</p>
<p>scriptTask (&quot; CheckValidationResultsOfObject &quot; ,</p>
<p>DV_PROJECT ) {</p>
<p>code {</p>
<p>//</p>
<p>sampleDefRefs</p>
<p>contains</p>
<p>DefRef</p>
<p>constants</p>
<p>just</p>
<p>for</p>
<p>this</p>
<p>example .</p>
<p>Please</p>
<p>use</p>
<p>the</p>
<p>real</p>
<p>DefRefs</p>
<p>from</p>
<p>your</p>
<p>SIP</p>
<p>//</p>
<p>a</p>
<p>Buffer</p>
<p>container</p>
<p><b>def</b></p>
<p>buffer002</p>
<p>=</p>
<p>mdfModel ( AsrPath . create ( &quot;/ ActiveEcuC / Tp / Buffer_002 &quot;) )</p>
<p>//</p>
<p>the</p>
<p>Size</p>
<p>parameter</p>
<p><b>def</b></p>
<p>sizeParam</p>
<p>=</p>
<p>buffer002 . parameter ( sampleDefRefs . tpBufferSizeDefRef ) .</p>
<p>single</p>
<p>//</p>
<p>the</p>
<p>result</p>
<p>exists</p>
<p>for</p>
<p>the</p>
<p>Size</p>
<p>parameter ,</p>
<p>not</p>
<p>for</p>
<p>the</p>
<p>Buffer</p>
<p>container</p>
<p><b>assert</b></p>
<p>sizeParam . validationResults . size ()</p>
<p>==</p>
<p>1</p>
<p><b>assert</b></p>
<p>buffer002 . validationResults . size ()</p>
<p>==</p>
<p>0</p>
<p>}</p>
<p>}</p>
<p>Listing 4.159: Access all validation-results of a particular object</p>
<p>MIObject.getValidationResultsRecursive() returns the validation-results of an MIObject</p>
<p>and all its children.</p>
<p>So this will return all results of the whole subtree,</p>
<p>like an editor displays</p>
<p>results at parent objects.</p>
<p>IViewedModelObject.getValidationResults() returns the validation-results for the element</p>
<p>matching the model object and the model view, like BswmdModel objects.</p>
<p>IViewedModelObject.getValidationResultsRecursive() returns the validation-results of an</p>
<p>MIObject for the elements like BswmdModel objects all its children.</p>
<p>This will also filter for the</p>
<p>correct IModelView.</p>
<p>So this will return all results of the whole subtree, like an editor displays</p>
<p>results at parent objects.</p>
<p><b>4.8.5.2 Access Validation-Results of a DefRef</b></p>
<p>DefRef.getValidationResults() returns all</p>
<p>validation-results which match the passed defi-</p>
<p>nition.</p>
<p>So every configuration element which matches the validation-result and is an instance</p>
<p>of definition.</p>
<p>The used project for this call is the active project, see ScriptApi.getActiveProject().</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>127 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>scriptTask (&quot; CheckValidationResultsOfDefRef &quot; ,</p>
<p>DV_PROJECT ) {</p>
<p>code {</p>
<p>//</p>
<p>sampleDefRefs</p>
<p>contains</p>
<p>DefRef</p>
<p>constants</p>
<p>just</p>
<p>for</p>
<p>this</p>
<p>example .</p>
<p>Please</p>
<p>use</p>
<p>the</p>
<p>real</p>
<p>DefRefs</p>
<p>from</p>
<p>your</p>
<p>SIP</p>
<p><b>assert</b></p>
<p>sampleDefRefs . tpBufferSizeDefRef . validationResults . size ()</p>
<p>==</p>
<p>3</p>
<p>}</p>
<p>}</p>
<p>Listing 4.160: Access all validation-results of a particular DefRef</p>
<p><b>4.8.5.3 Filter Validation-Results using an ID Constant</b></p>
<p>Groovy allows you to spread list elements as method arguments using the spread operator.</p>
<p>This</p>
<p>allows you to define constants for the isId(String,int) method.</p>
<p>scriptTask (&quot; FilterResultsUsingAnIdConstant2 &quot; ,</p>
<p>DV_PROJECT ){</p>
<p>code {</p>
<p>validation {</p>
<p><b>def</b></p>
<p>tp12Const</p>
<p>=</p>
<p>[&quot; Tp &quot; ,12]</p>
<p><b>assert</b></p>
<p>validationResults . size ()</p>
<p>&gt;</p>
<p>3</p>
<p><b>assert</b></p>
<p>validationResults . filter { it . isId (* tp12Const ) }. size ()</p>
<p>==</p>
<p>3</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.161: Filter validation-results using an ID constant</p>
<p><b>4.8.5.4 Identification of a Particular Solving-Action</b></p>
<p>A so called solving-action-group-ID identifies a solving-action uniquely within one validation-</p>
<p>result.</p>
<p>In other words, two solving-actions, which do semantically the same, from two validation-</p>
<p>results of the same result-ID (origin + number), belong to the same solving-action-group.</p>
<p>This</p>
<p>semantical group may have an optional solving-action-group-ID, that can be used for solving-</p>
<p>action identification within one validation-result.</p>
<p>Keep in mind that the solving-action-group-ID is only unique within one validation-result-ID,</p>
<p>and that the group-ID assignment is optional for a validator implementation.</p>
<p>In order to find out the solving-action-group-IDs, press CTRL+SHIFT+F9 with a selected validation-</p>
<p>result to copy detailed information about that result including solving-action-group-IDs (if as-</p>
<p>signed) to the clipboard.</p>
<p>If</p>
<p>group-IDs are assigned,</p>
<p>it is much safer to use these for solving-action identification than</p>
<p>description-text matching, because a description-text may change.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>128 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>final</b></p>
<p><b>int</b></p>
<p>SA_GROUP_ID_TP12_NEXT_BIGGER_VALID_VALUE</p>
<p>=</p>
<p>2</p>
<p>scriptTask (&quot; SolveMultipleResultsByGroupId &quot; ,</p>
<p>DV_PROJECT ) {</p>
<p>code {</p>
<p>validation {</p>
<p><b>assert</b></p>
<p>validationResults . size ()</p>
<p>==</p>
<p>4</p>
<p>solver . solve {</p>
<p>result { isId ( &quot; Tp &quot; ,</p>
<p>12) }</p>
<p>. withAction {</p>
<p>byGroupId ( SA_GROUP_ID_TP12_NEXT_BIGGER_VALID_VALUE )</p>
<p>}</p>
<p>//</p>
<p>instead</p>
<p>of</p>
<p>. withAction { containsString (&quot; next</p>
<p>bigger</p>
<p>valid</p>
<p>value &quot;) }</p>
<p>}</p>
<p><b>assert</b></p>
<p>validationResults . size ()</p>
<p>==</p>
<p>1</p>
<p>//</p>
<p>Three</p>
<p>Tp12</p>
<p>validation - results</p>
<p>solved .</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.162: Fast</p>
<p>solve multiple validation-results</p>
<p>within one transaction using a solving-</p>
<p>action-group-ID</p>
<p><b>4.8.5.5 Validation-Result Description as MixedText</b></p>
<p>IValidationResultUI.getDescription() returns an IMixedText that describes the inconsis-</p>
<p>tency.</p>
<p>IMixedText is a construct that represents a text, whereby parts of that text can also hold the</p>
<p>object which they represent.</p>
<p>This allows a consumer e.g.</p>
<p>a GUI to make the object-parts of</p>
<p>the text clickable and to reformat these object-parts as wanted.</p>
<p>Consumers which don’t need these advanced features can just call</p>
<p>IMixedText.toString()</p>
<p>which returns a default format of the text.</p>
<p><b>4.8.5.6 Further IValidationResultUI Methods</b></p>
<p>The following listing gives an overview of other &quot;properties&quot; of an IValidatonResultUI.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>129 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>scriptTask (&quot; IValidationResultUIApiOverview &quot; ,</p>
<p>DV_PROJECT ) {</p>
<p>code {</p>
<p>validation {</p>
<p><b>def</b></p>
<p>r</p>
<p>=</p>
<p>validationResults . filter { it . isId (&quot; Tp &quot; ,</p>
<p>12) }. first</p>
<p><b>assert</b></p>
<p>r . id . origin</p>
<p>==</p>
<p>&quot; Tp &quot;</p>
<p><b>assert</b></p>
<p>r . id . id</p>
<p>==</p>
<p>12</p>
<p><b>assert</b></p>
<p>r . description . toString () . contains ( &quot; must</p>
<p>be</p>
<p>a</p>
<p>multiple</p>
<p>of &quot; )</p>
<p><b>assert</b></p>
<p>r . severity</p>
<p>==</p>
<p>EValidationSeverityType . ERROR</p>
<p><b>assert</b></p>
<p>r . solvingActions . size ()</p>
<p>==</p>
<p>2</p>
<p><b>assert</b></p>
<p>r . getSolvingActionByGroupId (2) . description . contains (&quot; next</p>
<p>bigger</p>
<p>valid</p>
<p>value &quot; )</p>
<p>//</p>
<p>this</p>
<p>result</p>
<p>has</p>
<p>a</p>
<p>preferred - solving - action</p>
<p><b>assert</b></p>
<p>r . preferredSolvingAction</p>
<p>==</p>
<p>r. getSolvingActionByGroupId (2)</p>
<p>//</p>
<p>results</p>
<p>with</p>
<p>lower</p>
<p>severity</p>
<p>than</p>
<p>ERROR</p>
<p>can</p>
<p>be</p>
<p>acknowledged</p>
<p>in</p>
<p>the</p>
<p>GUI</p>
<p><b>assert</b></p>
<p>r . acknowledgement . isPresent ()</p>
<p>==</p>
<p><b>false</b></p>
<p>//</p>
<p>if</p>
<p>the</p>
<p>cause</p>
<p>was</p>
<p>an</p>
<p>exception ,</p>
<p>r . cause . get ()</p>
<p>returns</p>
<p>it</p>
<p><b>assert</b></p>
<p>r . cause . isPresent ()</p>
<p>==</p>
<p><b>false</b></p>
<p>//</p>
<p>an</p>
<p>ERROR</p>
<p>result</p>
<p>gets</p>
<p>reduced</p>
<p>to</p>
<p>WARNING</p>
<p>if</p>
<p>one</p>
<p>of</p>
<p>its</p>
<p>erroneous</p>
<p>CEs</p>
<p>is</p>
<p>user - defined</p>
<p>( user - overridden )</p>
<p><b>assert</b></p>
<p>r . isReducedSeverity ()</p>
<p>==</p>
<p><b>false</b></p>
<p>//</p>
<p>on - demand</p>
<p>results</p>
<p>are</p>
<p>visualized</p>
<p>with</p>
<p>a</p>
<p>gear - wheel</p>
<p>icon</p>
<p><b>assert</b></p>
<p>r . isOnDemandResult ()</p>
<p>==</p>
<p><b>false</b></p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.163: IValidationResultUI overview</p>
<p><b>4.8.5.7 IValidationResultUI in a variant (Post-Build selectable) Project</b></p>
<p>scriptTask (&quot; IValidationResultUIInAVariantProject &quot; ,</p>
<p>DV_PROJECT ) {</p>
<p>code {</p>
<p>validation {</p>
<p><b>def</b></p>
<p>r</p>
<p>=</p>
<p>validationResults . filter { it . isId (&quot; Tp &quot; ,</p>
<p>12) }. first</p>
<p><b>assert</b></p>
<p>r . isGeneralVariantContext ()</p>
<p>//</p>
<p>either</p>
<p>it</p>
<p>is</p>
<p>a</p>
<p>general</p>
<p>result</p>
<p>...</p>
<p><b>assert</b></p>
<p>r . predefinedVariantContexts . size ()</p>
<p>==</p>
<p>0</p>
<p>//</p>
<p>or</p>
<p>it</p>
<p>is</p>
<p>assigned</p>
<p>to</p>
<p>one</p>
<p>or</p>
<p>more</p>
<p>( but</p>
<p>never</p>
<p>all )</p>
<p>variants</p>
<p>//</p>
<p>If</p>
<p>a</p>
<p>validator</p>
<p>assigns</p>
<p>a</p>
<p>result</p>
<p>to</p>
<p>all</p>
<p>variants ,</p>
<p>it</p>
<p>will</p>
<p>be</p>
<p>a</p>
<p>general</p>
<p>result</p>
<p>at</p>
<p>UI - side .</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.164: IValidationResultUI in a variant (post build selectable) project</p>
<p><b>4.8.5.8 Erroneous CEs of a Validation-Result</b></p>
<p>IValidationResultUI.getErroneousCEs() returns a collection of</p>
<p>IDescriptor, each descri-</p>
<p>bing a CE that gets an error annotation in the GUI.</p>
<p>To check for a certain model</p>
<p>element is affected by the result please use the methods,</p>
<p>which</p>
<p>return true, if a model is affected by the validation-result:</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>130 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>• IValidationResultUI.matchErroneousCE(MIObject)</p>
<p>• IValidationResultUI.matchErroneousCE(IHasModelObject)</p>
<p>• IValidationResultUI.matchErroneousCE(MIHasDefinition, DefRef)</p>
<p>scriptTask (&quot; IValidationResultUIErroneousCEs &quot; ,</p>
<p>DV_PROJECT ){</p>
<p>code {</p>
<p>validation {</p>
<p>//</p>
<p>sampleDefRefs</p>
<p>contains</p>
<p>DefRef</p>
<p>constants</p>
<p>just</p>
<p>for</p>
<p>this</p>
<p>example .</p>
<p>Please</p>
<p>use</p>
<p>the</p>
<p>real</p>
<p>DefRefs</p>
<p>from</p>
<p>your</p>
<p>SIP</p>
<p><b>def</b></p>
<p>result</p>
<p>=</p>
<p>validationResults . filter { it . isId (&quot; Tp &quot; ,</p>
<p>12) }. first</p>
<p>//</p>
<p>Retrieve</p>
<p>the</p>
<p>model</p>
<p>element</p>
<p>to</p>
<p>check</p>
<p><b>def</b></p>
<p>modelElement</p>
<p>//</p>
<p>=</p>
<p>retrieveElement</p>
<p>...</p>
<p>//</p>
<p>Check</p>
<p>if</p>
<p>the</p>
<p>model</p>
<p>object</p>
<p>is</p>
<p>affected</p>
<p>by</p>
<p>the</p>
<p>validation - result</p>
<p><b>assert</b></p>
<p>result . matchErroneousCE ( modelElement )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.165: CE is affected by (matches) an IValidationResultUI</p>
<p><b>Advanced Descriptor Details</b></p>
<p>An IDescriptor is a construct that can be used to &quot;point to&quot;</p>
<p>some location in the model.</p>
<p>A descriptor can have several kinds of aspects to describe where it</p>
<p>points to.</p>
<p>Aspect kinds are e.g.</p>
<p>IMdfObjectAspect,</p>
<p>IDefRefAspect,</p>
<p>IMdfMetaClassAspect,</p>
<p>IMdfFeatureAspect.</p>
<p>getAspect(Class) gets a particular aspect if available, otherwise null.</p>
<p>A descriptor has a parent descriptor.</p>
<p>This allows to describe a hierarchy.</p>
<p>E.g.</p>
<p>if you want to express that something with definition X is missing as a child of the existing</p>
<p>MDF object Y. In this example you have a descriptor with an IDefRefAspect containing the</p>
<p>definition X. This descriptor that has a parent descriptor with an IMdfObjectAspect containing</p>
<p>the object Y.</p>
<p>The term descriptor refers to a descriptor together with its parent-descriptor hierarchy.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>131 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>import</b></p>
<p>com . vector . cfg . model . cedescriptor . aspect .*</p>
<p>scriptTask (&quot; IValidationResultUIErroneousCEs &quot; ,</p>
<p>DV_PROJECT ){</p>
<p>code {</p>
<p>validation {</p>
<p>//</p>
<p>sampleDefRefs</p>
<p>contains</p>
<p>DefRef</p>
<p>constants</p>
<p>just</p>
<p>for</p>
<p>this</p>
<p>example .</p>
<p>Please</p>
<p>use</p>
<p>the</p>
<p>real</p>
<p>DefRefs</p>
<p>from</p>
<p>your</p>
<p>SIP</p>
<p><b>def</b></p>
<p>result</p>
<p>=</p>
<p>validationResults . filter { it . isId (&quot; Tp &quot; ,</p>
<p>12) }. first</p>
<p><b>def</b></p>
<p>descriptor</p>
<p>=</p>
<p>result . erroneousCEs . single</p>
<p>//</p>
<p>this</p>
<p>result</p>
<p>in</p>
<p>this</p>
<p>example</p>
<p>has</p>
<p>only</p>
<p>a</p>
<p>single</p>
<p>erroneous - CE</p>
<p>descriptor</p>
<p><b>def</b></p>
<p>defRefAspect</p>
<p>=</p>
<p>descriptor . getAspect ( IDefRefAspect .<b> class</b> )</p>
<p><b>assert</b></p>
<p>defRefAspect</p>
<p>!=</p>
<p><b>null</b> ;</p>
<p>//</p>
<p>this</p>
<p>descriptor</p>
<p>in</p>
<p>this</p>
<p>example</p>
<p>has</p>
<p>an</p>
<p>IDefRefAspect</p>
<p><b>assert</b></p>
<p>defRefAspect . defRef . equals ( sampleDefRefs . tpBufferSizeDefRef )</p>
<p><b>def</b></p>
<p>objectAspect</p>
<p>=</p>
<p>descriptor . getAspect ( IMdfObjectAspect .<b> class</b> )</p>
<p><b>assert</b></p>
<p>objectAspect</p>
<p>!=</p>
<p><b>null</b></p>
<p>//</p>
<p>//</p>
<p>this</p>
<p>descriptor</p>
<p>in</p>
<p>this</p>
<p>example</p>
<p>has</p>
<p>an</p>
<p>IMdfObjectAspect</p>
<p>//</p>
<p>An</p>
<p>IMdfObjectAspect</p>
<p>would</p>
<p>be</p>
<p>unavailable</p>
<p>for</p>
<p>a</p>
<p>descriptor</p>
<p>describing</p>
<p>that</p>
<p>something</p>
<p>is</p>
<p>missing</p>
<p><b>def</b></p>
<p>parentObjectAspect</p>
<p>=</p>
<p>descriptor . parent . getAspect (</p>
<p>IMdfObjectAspect .<b> class</b> )</p>
<p><b>assert</b></p>
<p>parentObjectAspect</p>
<p>!=</p>
<p><b>null</b></p>
<p>//</p>
<p>Dealing</p>
<p>with</p>
<p>descriptors</p>
<p>is</p>
<p>universal ,</p>
<p>but</p>
<p>needs</p>
<p>more</p>
<p>code .</p>
<p>Using</p>
<p>these</p>
<p>methods</p>
<p>might</p>
<p>fit</p>
<p>your</p>
<p>needs .</p>
<p><b>assert</b></p>
<p>result . matchErroneousCE ( objectAspect . getObject () )</p>
<p><b>assert</b></p>
<p>result . matchErroneousCE ( parentObjectAspect . getObject () ,</p>
<p>sampleDefRefs . tpBufferSizeDefRef )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.166: Advanced</p>
<p>use</p>
<p>case</p>
<p>-</p>
<p>Retrieve</p>
<p>Erroneous</p>
<p>CEs</p>
<p>with</p>
<p>descriptors</p>
<p>of</p>
<p>an</p>
<p>IValidationResultUI</p>
<p><b>4.8.5.9 Examine Solving-Action Execution</b></p>
<p>The easiest and most reliable option for verifying solving-action execution is to check the pre-</p>
<p>sence of validation-results afterwards.</p>
<p>This is also the feedback strategy of the GUI. After multiple solving-actions have been solved,</p>
<p>the GUI does not show the execution result of</p>
<p>each individual</p>
<p>solving-action,</p>
<p>but just the</p>
<p>remaining validation-results after the operation.</p>
<p>Only if a single solving-action is to be solved,</p>
<p>and that fails, the GUI shows the message of that failure including the reason.</p>
<p>The following describes further options of examination:</p>
<p>ISolvingActionUI.solve() returns an ISolvingActionExecutionResult.</p>
<p>An ISolvin-</p>
<p>gActionExecutionResult represents the result of one solving action execution.</p>
<p>Use isOk() to</p>
<p>find out if it was successful.</p>
<p>Call getUserMessage() to get the failure reason.</p>
<p>ISolver.solve(Closure) returns an ISolvingActionSummaryResult.</p>
<p>An ISolvingActi-</p>
<p>onSummaryResult represents the execution of</p>
<p>multiple results.</p>
<p>ISolvingActionSummary-</p>
<p>Result.isOk() returns true if</p>
<p>getExecutionResult() is EExecutionResult.SUCCESSFUL or</p>
<p>EExecutionResult.WARNING, this is if at least one sub-result was ok.</p>
<p>Call getSubResults() to get a list of</p>
<p>ISolvingActionExecutionResults.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>132 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>import</b></p>
<p>com . vector . cfg . util . activity . execresult . EExecutionResult</p>
<p>scriptTask (&quot; SolvingReturnValue &quot; ,</p>
<p>DV_PROJECT ){</p>
<p>code {</p>
<p>validation {</p>
<p><b>assert</b></p>
<p>validationResults . size ()</p>
<p>==</p>
<p>4</p>
<p>//</p>
<p>In</p>
<p>this</p>
<p>example ,</p>
<p>three</p>
<p>validation - results</p>
<p>have</p>
<p>a</p>
<p>preferred</p>
<p>solving</p>
<p>action .</p>
<p>//</p>
<p>One</p>
<p>of</p>
<p>the</p>
<p>three</p>
<p>cannot</p>
<p>be</p>
<p>solved</p>
<p>because</p>
<p>a</p>
<p>parameter</p>
<p>is</p>
<p>user -</p>
<p>defined .</p>
<p><b>def</b></p>
<p>summaryResult</p>
<p>=</p>
<p>solver . solveAllWithPreferredSolvingAction ()</p>
<p><b>assert</b></p>
<p>validationResults . size ()</p>
<p>==</p>
<p>2</p>
<p>//</p>
<p>Two</p>
<p>have</p>
<p>been</p>
<p>solved ,</p>
<p>one</p>
<p>with</p>
<p>a</p>
<p>preferred</p>
<p>solving - action</p>
<p>is</p>
<p>left .</p>
<p><b>assert</b></p>
<p>summaryResult . executionResult</p>
<p>==</p>
<p>EExecutionResult . WARNING</p>
<p>//</p>
<p>DemoAsserts</p>
<p>is</p>
<p>just</p>
<p>for</p>
<p>this</p>
<p>example</p>
<p>to</p>
<p>show</p>
<p>what</p>
<p>kind</p>
<p>of</p>
<p>sub -</p>
<p>results</p>
<p>the</p>
<p>summaryResult</p>
<p>contains .</p>
<p>DemoAsserts . summaryResultContainsASubResultWith (&quot; OK &quot; , summaryResult )</p>
<p>// two</p>
<p>such</p>
<p>sub - results</p>
<p>for</p>
<p>the</p>
<p>validation - results</p>
<p>with</p>
<p>preferred -</p>
<p>solving - action</p>
<p>that</p>
<p>could</p>
<p>be</p>
<p>solved</p>
<p>DemoAsserts . summaryResultContainsASubResultWith ([ &quot; invalid</p>
<p>modification &quot; ,&quot; not</p>
<p>changeable &quot; ,&quot; Reason &quot; ,&quot; is</p>
<p>user - defined &quot;],</p>
<p>summaryResult )</p>
<p>//</p>
<p>such</p>
<p>a</p>
<p>sub - result</p>
<p>for</p>
<p>the</p>
<p>failed</p>
<p>preferred</p>
<p>solving</p>
<p>action</p>
<p>due</p>
<p>to</p>
<p>the</p>
<p>user - defined</p>
<p>parameter</p>
<p>DemoAsserts . summaryResultContainsASubResultWith (&quot; Maximum</p>
<p>solving</p>
<p>attempts</p>
<p>reached</p>
<p>for</p>
<p>the</p>
<p>validation - result</p>
<p>of</p>
<p>the</p>
<p>following</p>
<p>solving - action &quot; , summaryResult )</p>
<p>//</p>
<p>Cfg5</p>
<p>takes</p>
<p>multiple</p>
<p>attempts</p>
<p>to</p>
<p>solve</p>
<p>a</p>
<p>result</p>
<p>because</p>
<p>other</p>
<p>changes</p>
<p>may</p>
<p>eliminate</p>
<p>a</p>
<p>blocking</p>
<p>reason ,</p>
<p>but</p>
<p>stops</p>
<p>after</p>
<p>an</p>
<p>execution</p>
<p>limit</p>
<p>is</p>
<p>reached .</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.167: Examine an ISolvingActionSummaryResult</p>
<p><b>4.8.5.10 Create a Validation-Result in a Script Task</b></p>
<p>The resultCreation API provides methods to create new IValidationResults, which could</p>
<p>then be reported to a IValidationResultSink.</p>
<p>This is can be used to report validation-results</p>
<p>similar to a validator/generator, but from within a script task.</p>
<p><b>ValidationResultSink</b></p>
<p>The IValidationResultSink must be obtained by the context and is</p>
<p>not provided by the creation API. E.g.</p>
<p>some script tasks pass an IValidationResultSink as</p>
<p>argument (like DV_GENERATION_STEP).</p>
<p>Or you have to activate the MD license option for development during script task creation by</p>
<p>calling the method requiresMDDevelopmentLicense(),</p>
<p>then you could retrieve an IValida-</p>
<p>tionResultSink from the method getResultSink().</p>
<p><b>Reporting ValidationResult in Task providing a ResultSink</b></p>
<p>This sample applies to task types</p>
<p>providing a ResultSink in the Task API, like DV_GENERATION_STEP.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>133 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>scriptTask (&quot; ScriptTaskCreationResult &quot;</p>
<p>/*</p>
<p>Insert</p>
<p>with</p>
<p>task</p>
<p>type</p>
<p>providing</p>
<p>resultSink</p>
<p>*/</p>
<p>){</p>
<p>code {</p>
<p>validation {</p>
<p>resultCreation {</p>
<p>//</p>
<p>The</p>
<p>ValidationResultId</p>
<p>group</p>
<p>multiple</p>
<p>results</p>
<p><b>def</b></p>
<p>valId</p>
<p>=</p>
<p>createValidationResultIdForScriptTask (</p>
<p>/*</p>
<p>ID</p>
<p>*/</p>
<p>1234 ,</p>
<p>/*</p>
<p>Description</p>
<p>*/</p>
<p>&quot; Summary</p>
<p>of</p>
<p>the</p>
<p>ValidationResultId &quot; ,</p>
<p>/*</p>
<p>Severity</p>
<p>*/</p>
<p>EValidationSeverityType . ERROR )</p>
<p>//</p>
<p>Create</p>
<p>a</p>
<p>new</p>
<p>resultBuilder</p>
<p><b>def</b></p>
<p>builder</p>
<p>=</p>
<p>newResultBuilder ( valId ,</p>
<p>&quot; Description</p>
<p>of</p>
<p>the</p>
<p>Result &quot; )</p>
<p>//</p>
<p>You</p>
<p>can</p>
<p>add</p>
<p>multiple</p>
<p>elements</p>
<p>as</p>
<p>error</p>
<p>objects</p>
<p>to</p>
<p>mark</p>
<p>them</p>
<p>builder . addErrorObject ( sipDefRef . EcucGeneral . bswmdModel () . single )</p>
<p>//</p>
<p>Add</p>
<p>more</p>
<p>calls</p>
<p>when</p>
<p>needed</p>
<p>//</p>
<p>Create</p>
<p>the</p>
<p>result</p>
<p>from</p>
<p>the</p>
<p>builder</p>
<p><b>def</b></p>
<p>valResult</p>
<p>=</p>
<p>builder . buildResult ()</p>
<p>//</p>
<p>You</p>
<p>need</p>
<p>to</p>
<p>report</p>
<p>the</p>
<p>result</p>
<p>to</p>
<p>a</p>
<p>resultSink</p>
<p>//</p>
<p>You</p>
<p>have</p>
<p>to</p>
<p>get</p>
<p>the</p>
<p>sink</p>
<p>from</p>
<p>the</p>
<p>context ,</p>
<p>e . g .</p>
<p>script</p>
<p>task</p>
<p>args</p>
<p>//</p>
<p>a</p>
<p>sample</p>
<p>line</p>
<p>would</p>
<p>be</p>
<p>resultSinkForTask . reportValidationResult ( valResult )</p>
<p>}</p>
<p>}</p>
<p>}}</p>
<p>Listing 4.168: Create a ValidationResult</p>
<p><b>Reporting ValidationResult with MD License Option for Development</b></p>
<p>This sample can be</p>
<p>used in every task types but you need a MD license option for development to retrieve the</p>
<p>ResultSink.</p>
<p>scriptTask (&quot; ScriptTaskCreationResult &quot; ,</p>
<p>DV_PROJECT ) {</p>
<p>//</p>
<p>Result</p>
<p>reporting</p>
<p>requires</p>
<p>an</p>
<p>MD</p>
<p>license</p>
<p>for</p>
<p>development</p>
<p>requiresMDDevelopmentLicense ()</p>
<p>code {</p>
<p>validation {</p>
<p>resultCreation {</p>
<p>//</p>
<p>The</p>
<p>ValidationResultId</p>
<p>group</p>
<p>multiple</p>
<p>results</p>
<p><b>def</b></p>
<p>valId</p>
<p>=</p>
<p>createValidationResultIdForScriptTask (</p>
<p>/*</p>
<p>ID</p>
<p>*/</p>
<p>1234 ,</p>
<p>/*</p>
<p>Description</p>
<p>*/</p>
<p>&quot; Summary</p>
<p>of</p>
<p>the</p>
<p>ValidationResultId &quot; ,</p>
<p>/*</p>
<p>Severity</p>
<p>*/</p>
<p>EValidationSeverityType . ERROR )</p>
<p>//</p>
<p>Create</p>
<p>a</p>
<p>new</p>
<p>resultBuilder</p>
<p><b>def</b></p>
<p>builder</p>
<p>=</p>
<p>newResultBuilder ( valId ,</p>
<p>&quot; Description</p>
<p>of</p>
<p>the</p>
<p>Result &quot; )</p>
<p>//</p>
<p>Create</p>
<p>the</p>
<p>result</p>
<p>from</p>
<p>the</p>
<p>builder</p>
<p><b>def</b></p>
<p>valResult</p>
<p>=</p>
<p>builder . buildResult ()</p>
<p>//</p>
<p>When</p>
<p>MD</p>
<p>license</p>
<p>is</p>
<p>enabled</p>
<p>you</p>
<p>can</p>
<p>access</p>
<p>a</p>
<p>resultSink</p>
<p>resultSink . reportValidationResult ( valResult )</p>
<p>}}}}</p>
<p>Listing 4.169: Report a ValidationResult when MD license option is available</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>134 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>4.8.5.11 Turn off auto-solving-action execution</b></p>
<p>Auto-solving-action execution is a feature to simplify configuration by automatically adjusting</p>
<p>dependent data after a change was made by the user.</p>
<p>This feature runs synchronous to the user</p>
<p>change and may have impact on UI responsiveness.</p>
<p>If UI response time is not acceptable, this</p>
<p>should be reported to Vector.</p>
<p>Using setEnabled(boolean), auto-solving-action execution can be disabled to find out if this</p>
<p>is the cause and as an interim workaround.</p>
<p>If</p>
<p>auto-solving-action execution is disabled,</p>
<p>data might get out of</p>
<p>sync after a user change,</p>
<p>E.g.</p>
<p>Vtt dual</p>
<p>target sync,</p>
<p>BSW Internal</p>
<p>Behavior,</p>
<p>...</p>
<p>.</p>
<p>In that case,</p>
<p>these have to be solved</p>
<p>manually with the corresponding validaton-result’s solving action.</p>
<p>This setting is stored as user-independent project setting.</p>
<p>This setting can only be changed if</p>
<p>isChangeable() returns true (false e.g.</p>
<p>due to read-only</p>
<p>project), otherwise an IllegalStateException is thrown.</p>
<p>scriptTask (&quot; SolvingReturnValue &quot; ,</p>
<p>DV_PROJECT ){</p>
<p>code {</p>
<p>validation {</p>
<p>settings {</p>
<p><b>if</b></p>
<p>( autoSolvingActionExecution . changeable )</p>
<p>{</p>
<p>autoSolvingActionExecution . enabled</p>
<p>=</p>
<p><b>false</b></p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.170: Turn off auto solving action execution</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>135 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>4.9 Update Workflow</b></p>
<p>The Update Workflow derives the initial</p>
<p>EcuC from the input files and updates the project</p>
<p>accordingly.</p>
<p>The Update Workflow API comprises modification of variants, modification of the</p>
<p>input files list and the execution of an update workflow.</p>
<p><b>4.9.1 Method Overview</b></p>
<p>• workflow:</p>
<p>the workflow closure is the central entry point for the Workflow API.</p>
<p><b>–</b> update:</p>
<p>contains all settings for the Update Workflow and executes the update after</p>
<p>leaving the closure block.</p>
<p>∗ input:</p>
<p>supports the modification of the input files list and specific settings.</p>
<p>· communication:</p>
<p>the communication closure contains settings for the com-</p>
<p>munication extract and communication legacy input files (like cbd,</p>
<p>ldf</p>
<p>or</p>
<p>fibex).</p>
<p>Take a look at the JavaDoc of</p>
<p>ICommunicationApi for all</p>
<p>possible</p>
<p>settings.</p>
<p><b>4.9.2 Example:</b></p>
<p><b>Content of Input Files has changed.</b></p>
<p>In case of a changed content of input files, the update workflow can be started with the work-</p>
<p>flow.update(dpaProjectFilePath) method.</p>
<p>This will</p>
<p>start the Update Workflow,</p>
<p>with the</p>
<p>input files as selected in the DaVinci</p>
<p>Configurator GUI.</p>
<p>The parameter dpaProjectFilePath</p>
<p>accepts the same types and has the same semantic as resolvePath described in 4.4.3.1 on</p>
<p>page 38.</p>
<p>scriptTask (&quot; UpdateExistingProject &quot; ,</p>
<p>DV_APPLICATION )</p>
<p>{</p>
<p>code</p>
<p>{</p>
<p>workflow . update</p>
<p>pathToDpaFile</p>
<p>}</p>
<p>}</p>
<p>Listing 4.171: &quot;Update existing project&quot;</p>
<p>The update workflow is started at the end of the update-closure.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>136 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>4.9.3 Example:</b></p>
<p><b>List of Input Files shall</b></p>
<p><b>be changed</b></p>
<p>scriptTask (&quot; ChangeListOfComExtractsAndUpdate &quot; ,</p>
<p>DV_APPLICATION )</p>
<p>{</p>
<p>code</p>
<p>{</p>
<p><b>def</b></p>
<p>extractPath</p>
<p>=</p>
<p>paths . resolvePath ( extractFile )</p>
<p><b>def</b></p>
<p>diagExtractPath</p>
<p>=</p>
<p>paths . resolvePath ( diagExtract )</p>
<p>workflow . update ( dpaProjectFile ) {</p>
<p>updateSettings {</p>
<p>updateMode</p>
<p>=</p>
<p>ECUC_ONLY</p>
<p>uuidUsageInStandardConfigurationEnabled</p>
<p>=</p>
<p><b>false</b> ;</p>
<p>uuidUsageInSystemDescriptionEnabled</p>
<p>=</p>
<p><b>false</b> ;</p>
<p>}</p>
<p>input {</p>
<p>communication {</p>
<p>extract {</p>
<p>extractFiles { exFilePathList -&gt;</p>
<p>//</p>
<p>clear</p>
<p>the</p>
<p>list</p>
<p>of</p>
<p>communication</p>
<p>extracts</p>
<p>exFilePathList . clear ()</p>
<p>//</p>
<p>adds</p>
<p>an</p>
<p>communication</p>
<p>extract</p>
<p>exFilePathList . add ( extractPath . asPersistablePath () )</p>
<p>}</p>
<p>//</p>
<p>change</p>
<p>the</p>
<p>selection</p>
<p>of</p>
<p>the</p>
<p>ecuInstance</p>
<p>//</p>
<p>Note :</p>
<p>this</p>
<p>closure</p>
<p>is</p>
<p>deferred</p>
<p>executed .</p>
<p>ecuInstanceSelection {</p>
<p><b>return</b></p>
<p>availableEcuInstances [0]</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>diagnostic {</p>
<p>extract {</p>
<p>extractFiles { exFilePathList -&gt;</p>
<p>//</p>
<p>clear</p>
<p>the</p>
<p>list</p>
<p>of</p>
<p>communication</p>
<p>extracts</p>
<p>exFilePathList . clear ()</p>
<p>//</p>
<p>adds</p>
<p>an</p>
<p>communication</p>
<p>extract</p>
<p>exFilePathList . add ( diagExtractPath . asPersistablePath () )</p>
<p>}</p>
<p>//</p>
<p>change</p>
<p>the</p>
<p>selection</p>
<p>of</p>
<p>the</p>
<p>ecuInstance</p>
<p>//</p>
<p>Note :</p>
<p>this</p>
<p>closure</p>
<p>is</p>
<p>deferred</p>
<p>executed .</p>
<p>ecuInstanceSelection {</p>
<p><b>return</b></p>
<p>availableEcuInstances [0]</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}}</p>
<p>}}</p>
<p>Listing 4.172: Change list of communication extracts and update</p>
<p><b>Note:</b></p>
<p><b>The code in the ecuInstanceSelection closure is deferred executed.</b></p>
<p><b>The</b></p>
<p><b>access to variables, declared outside of this closure is not allowed.</b></p>
<p>This example shows the complete replacement of</p>
<p>the current list of</p>
<p>communication extracts</p>
<p>with one extract and the selection of</p>
<p>the first ecuInstance in the new extract.</p>
<p>The update</p>
<p>workflow is executed after the update closure block is left.</p>
<p><b>4.9.4 Prerequisites</b></p>
<p>The Update Workflow can’t be executed while the Project to update is open.</p>
<p>E.g.</p>
<p>in a IPro-</p>
<p>jectRef.openProject closure block or in a ScriptTask with the DV_PROJECT ScriptTaskType.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>137 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>Becaue the update workflow has to close and open the project during update,</p>
<p>which would</p>
<p>cause strange behavior in your client code.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>138 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>4.10 Domains</b></p>
<p>The domain APIs are specifically designed to provide high convenience support for typical</p>
<p>domain use cases.</p>
<p>The domain API is the entry point for accessing the different domain interfaces.</p>
<p>It is available</p>
<p>in opened projects in the form of the IDomainApi interface.</p>
<p>IDomainApi provides methods for accessing the different domain-specific APIs.</p>
<p>Each dom-</p>
<p>ain’s API is available via the domain’s name.</p>
<p>For an example see the communication domain</p>
<p>API 4.10.1.</p>
<p>getDomain() allows accessing the IDomainApi like a property.</p>
<p>scriptTask ( ' taskName ')</p>
<p>{</p>
<p>code</p>
<p>{</p>
<p>//</p>
<p>IDomainApi</p>
<p>is</p>
<p>available</p>
<p>as</p>
<p>&quot; domain &quot;</p>
<p>property</p>
<p><b>def</b></p>
<p>domainApi</p>
<p>=</p>
<p>domain</p>
<p>}</p>
<p>}</p>
<p>Listing 4.173: Accessing IDomainApi as a property</p>
<p>domain(Closure) allows accessing the IDomainApi in a scope-like way.</p>
<p>scriptTask ( ' taskName ')</p>
<p>{</p>
<p>code</p>
<p>{</p>
<p>domain</p>
<p>{</p>
<p>//</p>
<p>IDomainApi</p>
<p>is</p>
<p>available</p>
<p>inside</p>
<p>this</p>
<p>Closure</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.174: Accessing IDomainApi in a scope-like way</p>
<p><b>4.10.1 Communication Domain</b></p>
<p>The communication domain API</p>
<p>is specifically designed to support communication related</p>
<p>use cases.</p>
<p>It is available from the IDomainApi 4.10 in the form of</p>
<p>the ICommunicationApi</p>
<p>interface.</p>
<p>getCommunication() allows accessing the ICommunicationApi like a property.</p>
<p>scriptTask ( ' taskName ')</p>
<p>{</p>
<p>code</p>
<p>{</p>
<p>//</p>
<p>ICommunicationApi</p>
<p>is</p>
<p>available</p>
<p>as</p>
<p>&quot; communication &quot;</p>
<p>property</p>
<p><b>def</b></p>
<p>communication</p>
<p>=</p>
<p>domain . communication</p>
<p>}</p>
<p>}</p>
<p>Listing 4.175: Accessing ICommunicationApi as a property</p>
<p>communication(Closure) allows accessing the ICommunicationApi in a scope-like way.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>139 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>scriptTask ( ' taskName ')</p>
<p>{</p>
<p>code</p>
<p>{</p>
<p>domain . communication</p>
<p>{</p>
<p>//</p>
<p>ICommunicationApi</p>
<p>is</p>
<p>available</p>
<p>inside</p>
<p>this</p>
<p>Closure</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.176: Accessing ICommunicationApi in a scope-like way</p>
<p>The following use cases are supported:</p>
<p><b>Accessing Can Controllers</b></p>
<p>getCanControllers() returns a list of</p>
<p>all</p>
<p>ICanControllers in</p>
<p>the configuration 4.10.1.1 on the following page.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>140 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>4.10.1.1 CanControllers</b></p>
<p>An ICanController instance represents a CanController MIContainer providing support for</p>
<p>use cases exceeding those supported by the model API.</p>
<p>scriptTask ( ' OptimizeAcceptanceFilters ' ,</p>
<p>DV_APPLICATION )</p>
<p>{</p>
<p>code</p>
<p>{</p>
<p>//</p>
<p>replace</p>
<p>$dpaFile</p>
<p>with</p>
<p>the</p>
<p>path</p>
<p>to</p>
<p>your</p>
<p>project</p>
<p><b>def</b></p>
<p>theProject</p>
<p>=</p>
<p>projects . openProject ( &quot; $dpaFile &quot;)</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . communication</p>
<p>{</p>
<p>//</p>
<p>open</p>
<p>acceptance</p>
<p>filters</p>
<p>of</p>
<p>all</p>
<p>CanControllers</p>
<p>canControllers *. openAcceptanceFilters ()</p>
<p>//</p>
<p>open</p>
<p>acceptance</p>
<p>filters</p>
<p>of</p>
<p>first</p>
<p>CanController</p>
<p>canControllers . first . openAcceptanceFilters ()</p>
<p>canControllers [0]. openAcceptanceFilters ()</p>
<p>//</p>
<p>same</p>
<p>as</p>
<p>above</p>
<p>//</p>
<p>open</p>
<p>acceptance</p>
<p>filters</p>
<p>of</p>
<p>second</p>
<p>CanController</p>
<p>//</p>
<p>( if</p>
<p>there</p>
<p>is</p>
<p>a</p>
<p>second</p>
<p>CanController )</p>
<p>canControllers [1]?. openAcceptanceFilters ()</p>
<p>//</p>
<p>open</p>
<p>acceptance</p>
<p>filters</p>
<p>of</p>
<p>a</p>
<p>dedicated</p>
<p>CanController</p>
<p>canControllers . filter</p>
<p>{</p>
<p>it . name . contains</p>
<p>' CH0 '</p>
<p>}. single .</p>
<p>openAcceptanceFilters ()</p>
<p>//</p>
<p>accessing</p>
<p>a</p>
<p>dedicated</p>
<p>CanController</p>
<p><b>def</b></p>
<p>ch0</p>
<p>=</p>
<p>canControllers . filter</p>
<p>{</p>
<p>it . name . contains</p>
<p>' CH0 '</p>
<p>}. single</p>
<p>//</p>
<p>assert :</p>
<p>ch0 's</p>
<p>first</p>
<p>CanFilterMask</p>
<p>value</p>
<p>is</p>
<p>XXXXXXXXXXX</p>
<p><b>assert</b></p>
<p>' XXXXXXXXXXX '</p>
<p>==</p>
<p>ch0 . canFilterMasks [0]. filter</p>
<p>//</p>
<p>set</p>
<p>CanFilterMask</p>
<p>value</p>
<p>to</p>
<p>01111111111</p>
<p>ch0 . canFilterMasks [0]. filter</p>
<p>=</p>
<p>' 01111111111 '</p>
<p><b>assert</b></p>
<p>' 01111111111 '</p>
<p>==</p>
<p>ch0 . canFilterMasks [0]. filter</p>
<p>//</p>
<p>automatic</p>
<p>acceptance</p>
<p>filter</p>
<p>optimization</p>
<p>ch0 . optimizeFilters</p>
<p>{</p>
<p>fullCan</p>
<p>=</p>
<p><b>true</b></p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>scriptLogger . info ( ' Successfully</p>
<p>optimized</p>
<p>Can</p>
<p>acceptance</p>
<p>filters . ')</p>
<p>}</p>
<p>}</p>
<p>Listing 4.177: Optimizing Can Acceptance Filters</p>
<p><b>Opening Acceptance Filters</b></p>
<p>openAcceptanceFilters() opens all of this ICanController’s</p>
<p>acceptance filters.</p>
<p><b>Optimizing Acceptance Filters</b></p>
<p>optimizeFilters(Closure) optimizes this ICanControl-</p>
<p>ler’s acceptance filter mask configurations.</p>
<p>The given Closure is delegated to the IOpti-</p>
<p>mizeAcceptanceFiltersApi interface for parameterizing the optimization.</p>
<p>Using setFullCan(boolean) it can be specified whether the optimization shall</p>
<p>take full</p>
<p>can</p>
<p>objects into account or not.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>141 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>Creating new CanFilterMasks</b></p>
<p>createCanFilterMask() creates a new ICanFilterMask for</p>
<p>this ICanController.</p>
<p><b>Accessing a CanController’s CanFilterMasks</b></p>
<p>getCanFilterMasks() returns all of this ICan-</p>
<p>Controller’s ICanFilterMasks.</p>
<p><b>Accessing a CanController’s MIContainer</b></p>
<p>getMdfObject() returns the MIContainer repre-</p>
<p>sented by this ICanController.</p>
<p><b>4.10.1.2 CanFilterMasks</b></p>
<p>An ICanFilterMask instance represents a CanFilterMask MIContainer providing support for</p>
<p>use cases exceeding those supported by the model API.</p>
<p>For example code see 4.10.1.1 on the previous page.</p>
<p>The following use cases are supported:</p>
<p><b>Filter Types</b></p>
<p>ECanAcceptanceFilterType lists the possible values for an ICanFilterMask’s</p>
<p>filter type.</p>
<p>STANDARD results in a standard Can acceptance filter value with length 11.</p>
<p>EXTENDED results in an extended Can acceptance filter value with length 29.</p>
<p>MIXED results in a mixed Can acceptance filter value with length 29.</p>
<p><b>Accessing a CanFilterMask’s Filter Type</b></p>
<p>getFilterType() returns this ICanFilterMask’s</p>
<p>filter type.</p>
<p><b>Specifying a CanFilterMask’s Filter Type</b></p>
<p>Using setFilterType(ECanAcceptanceFilterType)</p>
<p>this ICanFilterMask’s filter type can be specified.</p>
<p><b>Accessing a CanFilterMask’s Filter Value</b></p>
<p>getFilter() returns this ICanFilterMask’s filter</p>
<p>value.</p>
<p>A CanFilterMask’s filter value is a String containing the characters ’0’,</p>
<p>’1’</p>
<p>and ’X’</p>
<p>(don’t care).</p>
<p>For determining if a given Can ID passes the filter it is matched bit for bit against</p>
<p>the String’s characters.</p>
<p>The character at index 0 is matched against the most significant bit.</p>
<p>The character at index length() - 1 is matched against the least significant bit.</p>
<p>The length</p>
<p>of the String corresponds to the CanFilterMask’s filter type.</p>
<p><b>Specifying a CanFilterMask’s Filter Value</b></p>
<p>Using setFilter(String) this ICanFilterMask’s</p>
<p>filter value can be specified.</p>
<p><b>Accessing a CanFilterMask’s MIContainer</b></p>
<p>getMdfObject() returns the MIContainer repre-</p>
<p>sented by this ICanFilterMask.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>142 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>4.10.2 Diagnostics Domain</b></p>
<p>The diagnostics domain API is specifically designed to support diagnostics related use cases.</p>
<p>It is available from the IDomainApi 4.10 on page 139 in the form of</p>
<p>the IDiagnosticsApi</p>
<p>interface.</p>
<p>getDiagnostics() allows accessing the IDiagnosticsApi like a property.</p>
<p>scriptTask ( ' taskName ')</p>
<p>{</p>
<p>code</p>
<p>{</p>
<p>//</p>
<p>IDiagnosticsApi</p>
<p>is</p>
<p>available</p>
<p>as</p>
<p>&quot; diagnostics &quot;</p>
<p>property</p>
<p><b>def</b></p>
<p>diagnostics</p>
<p>=</p>
<p>domain . diagnostics</p>
<p>}</p>
<p>}</p>
<p>Listing 4.178: Accessing IDiagnosticsApi as a property</p>
<p>diagnostics(Closure) allows accessing the IDiagnosticsApi in a scope-like way.</p>
<p>scriptTask ( ' taskName ')</p>
<p>{</p>
<p>code</p>
<p>{</p>
<p>domain . diagnostics</p>
<p>{</p>
<p>//</p>
<p>IDiagnosticsApi</p>
<p>is</p>
<p>available</p>
<p>here</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.179: Accessing IDiagnosticsApi in a scope-like manner</p>
<p>The following use cases are supported:</p>
<p><b>Dem Events</b></p>
<p>The API provides access and creation of</p>
<p>IDemEvents in the configuration.</p>
<p>See</p>
<p>chapter 4.10.2.1 on the next page for more details.</p>
<p><b>Check for OBD II</b></p>
<p>isObd2Enabled() checks, if OBD II is available in the configuration.</p>
<p><b>Enable OBD II</b></p>
<p>setObd2Enabled(boolean) enables or disables OBD II in the configuration.</p>
<p>Note, that OBD II can only be enabled, if a valid SIP license was found.</p>
<p><b>Check for WWH-OBD</b> isWwhObdEnabled() checks,</p>
<p>if WWH-OBD is available in the confi-</p>
<p>guration.</p>
<p><b>Enable WWH-OBD</b> setWwhObdEnabled(boolean) enables or disables WWH-OBD in the</p>
<p>configuration.</p>
<p>Note,</p>
<p>that WWH-OBD can only be enabled,</p>
<p>if a valid SIP license was found.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>143 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>4.10.2.1 DemEvents</b></p>
<p>An IDemEvent instance represents a diagnostic event and and provides usecase centric functio-</p>
<p>nalities to modify and query diagnostic events.</p>
<p><b>Accessing Dem Events</b></p>
<p>getDemEvents() returns a list of all IDemEvents in the configuration.</p>
<p><b>Creating Dem Events</b></p>
<p>createDemEvent(Closure) is used to create diagnostic events of dif-</p>
<p>ferent kinds.</p>
<p>The method can be configured to create different types of DTCs/Events:</p>
<p>1.</p>
<p><b>UDS Event</b>:</p>
<p>This is the default type of</p>
<p>event,</p>
<p>when only an ’eventName’</p>
<p>and a ’dtc’</p>
<p>number is specified.</p>
<p>A new DemEventParameter container with the given shortname and</p>
<p>a new DemDTCClass with the given DemUdsDTC is created.</p>
<p>scriptTask ( ' taskName ')</p>
<p>{</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . diagnostics</p>
<p>{</p>
<p><b>def</b></p>
<p>udsEvent</p>
<p>=</p>
<p>createDemEvent</p>
<p>{</p>
<p>eventName</p>
<p>=</p>
<p>&quot; NewUdsEvent &quot;</p>
<p>dtc</p>
<p>=</p>
<p>0 x30</p>
<p>}</p>
<p>}}}}</p>
<p>Listing 4.180: Create a new UDS DTC with event</p>
<p>2.</p>
<p><b>OBD II Event</b>:</p>
<p>If OBD II is enabled for the loaded configuration, and a ’obd2Dtc’ is spe-</p>
<p>cified instead of a ’dtc’, the method will create an OBD II relevant event.</p>
<p>The difference</p>
<p>is,</p>
<p>that it will</p>
<p>set the parameter DemObdDTC instead of DemUdsDTC.</p>
<p>It is also pos-</p>
<p>sible to specify ’dtc’ as well as ’obd2dtc’, which will result in both DTC parameters are set.</p>
<p>scriptTask ( ' taskName ')</p>
<p>{</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . diagnostics</p>
<p>{</p>
<p>//</p>
<p>OBD</p>
<p>must</p>
<p>be</p>
<p>enabled</p>
<p>and</p>
<p>legislation</p>
<p>must</p>
<p>be</p>
<p>OBD2</p>
<p>//</p>
<p>Enable</p>
<p>OBD2</p>
<p>obd2Enabled</p>
<p>=</p>
<p><b>true</b></p>
<p><b>def</b></p>
<p>obd2Event</p>
<p>=</p>
<p>createDemEvent</p>
<p>{</p>
<p>eventName</p>
<p>=</p>
<p>' NewOBD2Event '</p>
<p>obd2Dtc</p>
<p>=</p>
<p>0 x40</p>
<p>}</p>
<p><b>def</b></p>
<p>obd2CombinedEvent</p>
<p>=</p>
<p>createDemEvent</p>
<p>{</p>
<p>eventName</p>
<p>=</p>
<p>' UDS_OBD2_Combined_Event '</p>
<p>dtc</p>
<p>=</p>
<p>0 x31</p>
<p>obd2Dtc</p>
<p>=</p>
<p>0 x41</p>
<p>}</p>
<p>}}}}</p>
<p>Listing 4.181: Enable OBD II and create a new OBD related DTC with event</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>144 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>3.</p>
<p><b>WWH-OBD Event</b>:</p>
<p>If WWH-OBD is enabled for the loaded configuration, and a ’ww-</p>
<p>hObdDtcClass’ with a value other than ’NO_CLASS’ is specified, the method will create</p>
<p>a WWH-OBD relevant event.</p>
<p>Note that WWH-OBD relevant events usually du reference</p>
<p>the so called MIL indicator, thus this reference will be set by default in the newly created</p>
<p>DemEventParameter.</p>
<p>scriptTask ( ' taskName ')</p>
<p>{</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . diagnostics</p>
<p>{</p>
<p>//</p>
<p>OBD</p>
<p>must</p>
<p>be</p>
<p>enabled ,</p>
<p>and</p>
<p>legislation</p>
<p>must</p>
<p>be</p>
<p>WWH - OBD</p>
<p>//</p>
<p>The</p>
<p>parameter</p>
<p>'/ Dem / DemGeneral / DemMILIndicatorRef '</p>
<p>must</p>
<p>be</p>
<p>set</p>
<p>wwhObdEnabled</p>
<p>=</p>
<p><b>true</b></p>
<p><b>def</b></p>
<p>wwhObdEvent</p>
<p>=</p>
<p>createDemEvent</p>
<p>{</p>
<p>eventName</p>
<p>=</p>
<p>' WWHOBD_Event '</p>
<p>dtc</p>
<p>=</p>
<p>0 x50</p>
<p>//</p>
<p>wwhObdClass</p>
<p>!=</p>
<p>NO_CLASS</p>
<p>indicates</p>
<p>WWH - OBD</p>
<p>event</p>
<p>wwhObdDtcClass</p>
<p>=</p>
<p>CLASS_A</p>
<p>}</p>
<p>}}}}</p>
<p>Listing 4.182: Enable WWH-OBD and create a new OBD related DTC with event</p>
<p>4.</p>
<p><b>J1939 Event</b>:</p>
<p>The last type of event is a J1939 related event, which can be created when</p>
<p>J1939 is licensed and available for the loaded configuration.</p>
<p>This is done in a similar way</p>
<p>as for UDS events,</p>
<p>but additionally specifying ’spn’,</p>
<p>’fmi’</p>
<p>values as well</p>
<p>as the name of</p>
<p>the referenced ’nodeAddress’.</p>
<p>scriptTask ( ' taskName ')</p>
<p>{</p>
<p>code</p>
<p>{</p>
<p><b>def</b></p>
<p>nodeAddressContainer</p>
<p>=</p>
<p>mdfModel ( AsrPath . create (&quot; / ActiveEcuC /</p>
<p>Dem / DemConfigSet / DemJ1939NodeAddress &quot; ,</p>
<p>MIContainer ) )</p>
<p>transaction</p>
<p>{</p>
<p>domain . diagnostics</p>
<p>{</p>
<p>//</p>
<p>J1939</p>
<p>Event</p>
<p>creation</p>
<p>//</p>
<p>J1939</p>
<p>must</p>
<p>be</p>
<p>enabled</p>
<p>and</p>
<p>License</p>
<p>must</p>
<p>be</p>
<p>available .</p>
<p>j1939Enabled</p>
<p>=</p>
<p><b>true</b></p>
<p><b>def</b></p>
<p>j1939Event</p>
<p>=</p>
<p>createDemEvent</p>
<p>{</p>
<p>eventName</p>
<p>' J1939_Event '</p>
<p>dtc</p>
<p>0 x30</p>
<p>spn</p>
<p>90</p>
<p>fmi</p>
<p>13</p>
<p>nodeAddress</p>
<p>nodeAddressContainer</p>
<p>}</p>
<p>}}}}</p>
<p>Listing 4.183: Open a project, enable J1939 and create a new J1939 DTC with event</p>
<p><b>Important Note:</b></p>
<p>For every DTC numbers apply the rule,</p>
<p>that if there are already DemDTCClasses with</p>
<p>the given number, they will be used.</p>
<p>In such a case, no new DemDTCClass container is</p>
<p>created.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>145 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>4.10.3 Mode Management Domain</b></p>
<p>The mode management domain API</p>
<p>is specifically designed to support mode management</p>
<p>related use cases.</p>
<p>It is available from the IDomainApi 4.10 on page 139 in the form of</p>
<p>the</p>
<p>IModeManagementApi interface.</p>
<p>getModeManagement() allows accessing the IModeManagementApi like a property.</p>
<p>scriptTask ( ' taskName ')</p>
<p>{</p>
<p>code</p>
<p>{</p>
<p>//</p>
<p>IModeManagementApi</p>
<p>is</p>
<p>available</p>
<p>as</p>
<p>&quot; modeManagement &quot;</p>
<p>property</p>
<p><b>def</b></p>
<p>modeManagement</p>
<p>=</p>
<p>domain . modeManagement</p>
<p>}</p>
<p>}</p>
<p>Listing 4.184: Accessing IModeManagementApi as a property</p>
<p>modeManagement(Closure) allows accessing the IModeManagementApi in a scope-like way.</p>
<p>scriptTask ( ' taskName ')</p>
<p>{</p>
<p>code</p>
<p>{</p>
<p>domain . modeManagement</p>
<p>{</p>
<p>//</p>
<p>IModeManagementApi</p>
<p>is</p>
<p>available</p>
<p>inside</p>
<p>this</p>
<p>Closure</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.185: Accessing IModeManagementApi in a scope-like way</p>
<p><b>4.10.3.1 BswM Auto Configuration</b></p>
<p>The IBswMAutoConfigurationApi allows for semi-automatic creation of dedicated parts of the</p>
<p>BswM configuration.</p>
<p>The BswM auto configuration takes an input consisting of &quot;features&quot; and</p>
<p>&quot;parameters&quot; to be provided via the IBswMAutoConfigurationApi.</p>
<p>Each feature may have</p>
<p>zero, one or more sub-features and zero, one or more parameters.</p>
<p>The corresponding BswM configuration content is derived based on the (de)activation of features</p>
<p>and the values assigned to the parameters.</p>
<p>The available features and parameters depend strongly on the project’s input data and general</p>
<p>project setup.</p>
<p>They can be addressed by String identifiers.</p>
<p>These identifiers are best obtained</p>
<p>from the corresponding auto configuration assistant of the BSW management editor in the Cfg5</p>
<p>GUI.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>146 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>scriptTask ( ' EcuStateHandlingAutoConfiguration ' ,</p>
<p>DV_PROJECT )</p>
<p>{</p>
<p>code</p>
<p>{</p>
<p>//</p>
<p>In</p>
<p>projects</p>
<p>with</p>
<p>post - build</p>
<p>selectable</p>
<p>variance</p>
<p>switching</p>
<p>to</p>
<p>an</p>
<p>//</p>
<p>IPredefinedVariantView</p>
<p>for</p>
<p>performing</p>
<p>auto</p>
<p>configuration</p>
<p>is</p>
<p>mandatory</p>
<p>variance . variantView ( ' Left '). activeWith</p>
<p>{</p>
<p>domain . modeManagement . bswMAutoConfig ( ' Ecu</p>
<p>State</p>
<p>Handling ')</p>
<p>{</p>
<p>activate</p>
<p>'/ ECU</p>
<p>State</p>
<p>Machine / Support</p>
<p>ComM '</p>
<p>set</p>
<p>'/ ECU</p>
<p>State</p>
<p>Machine / Self</p>
<p>Run</p>
<p>Request</p>
<p>Timeout '</p>
<p>to</p>
<p>0.2</p>
<p>set</p>
<p>'/ ECU</p>
<p>State</p>
<p>Machine / Number</p>
<p>of</p>
<p>Run</p>
<p>Request</p>
<p>User '</p>
<p>to</p>
<p>4</p>
<p>overrides</p>
<p>{</p>
<p><b>if</b></p>
<p>( addition</p>
<p>||</p>
<p>removal )</p>
<p>{</p>
<p>keepOverride</p>
<p>}</p>
<p><b>else</b></p>
<p><b>if</b></p>
<p>( BswMArgumentRef . DEFREF . isDefinitionOf ( element )</p>
<p>&amp;&amp;</p>
<p>feature ( '/ ECU</p>
<p>State</p>
<p>Machine / Support</p>
<p>ComM / CAN00_f26020e5 ') .</p>
<p>enabled</p>
<p>&amp;&amp;</p>
<p>parameter ( '/ ECU</p>
<p>State</p>
<p>Machine / Number</p>
<p>of</p>
<p>PostRun</p>
<p>Request</p>
<p>User ') . value</p>
<p>==</p>
<p>4)</p>
<p>{</p>
<p>discardOverride</p>
<p>}</p>
<p><b>else</b></p>
<p>{</p>
<p>keepOverride</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.186: ECU State Handling Auto Configuration</p>
<p><b>Executing the BswM Auto Configuration</b></p>
<p>IModeManagementApi.bswMAutoConfig(String,</p>
<p>Closure) delegates the given code to the IBswMAutoConfigurationApi of</p>
<p>the given BswM</p>
<p>auto configuration domain.</p>
<p><b>Activating BswM Auto Configuration Features</b></p>
<p>activate(String) activates the BswM auto</p>
<p>configuration feature with the given identifier.</p>
<p>All enabled sub-features of the specified feature</p>
<p>are also activated.</p>
<p>Imagine the features displayed in a tree structure (like in Cfg5 GUI) where</p>
<p>checking a tree node automatically checks all children.</p>
<p><b>Deactivating BswM Auto Configuration Features</b></p>
<p>deactivate(String) deactivates the BswM</p>
<p>auto configuration feature with the given identifier.</p>
<p>All</p>
<p>enabled sub-features of</p>
<p>the specified</p>
<p>feature are also deactivated.</p>
<p>Imagine the features displayed in a tree structure (like in Cfg5</p>
<p>GUI) where unchecking a tree node automatically unchecks all children.</p>
<p><b>Assigning Values to BswM Auto Configuration Parameters</b></p>
<p>set(String) sets the parameter</p>
<p>with the given identifier to the specified value.</p>
<p>Supported value types are boolean, BigInteger,</p>
<p>BigDecimal, String and MIReferrable (reference parameters).</p>
<p><b>Manually Adapting the BswM Auto Configuration Content</b></p>
<p>The BswM auto configuration</p>
<p>mechanism is useful for creating large parts of the BswM configuration based on certain built-in</p>
<p>heuristics.</p>
<p>Where these heuristics fail</p>
<p>to fulfill</p>
<p>detailed project specific requirements manual</p>
<p>adaptations to the auto-generated configuration content become necessary.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>147 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>Per default manual</p>
<p>adjustments are kept in the configuration.</p>
<p>But subsequent BswM auto</p>
<p>configuration runs may render previously applied adjustments obsolete or dysfunctional.</p>
<p>Using</p>
<p>overrides(Closure) a callback can be registered to be called for each detected adaptation.</p>
<p>The</p>
<p>callback can decide for each adjustment if it is to remain in the configuration or if it is to be over-</p>
<p>written by the BswM auto configuration.</p>
<p>For details on which information is provided to this</p>
<p>callback please refer to the javadoc provided with IBswMAutoConfigurationOverride.</p>
<p><b>Inspecting BswM Auto Configuration Domains</b></p>
<p>The getBswMAutoConfigDomains() met-</p>
<p>hod of</p>
<p>the IModeManagementApi interface provides read-access to all</p>
<p>available BswM auto</p>
<p>configuration domains.</p>
<p>Available features and parameters can be inspected for various proper-</p>
<p>ties.</p>
<p>See javadoc of</p>
<p>IBswMAutoConfigurationDomain, IBswMAutoConfigurationFeature and</p>
<p>IBswMAutoConfigurationParameter for details.</p>
<p>domain . modeManagement</p>
<p>{</p>
<p>//</p>
<p>In</p>
<p>projects</p>
<p>with</p>
<p>post - build</p>
<p>selectable</p>
<p>variance</p>
<p>switching</p>
<p>to</p>
<p>an</p>
<p>//</p>
<p>IPredefinedVariantView</p>
<p>for</p>
<p>inspecting</p>
<p>auto</p>
<p>configuration</p>
<p>is</p>
<p>mandatory</p>
<p>variance . variantView ( ' Left ') . activeWith</p>
<p>{</p>
<p>//</p>
<p>get</p>
<p>all</p>
<p>BswM</p>
<p>auto</p>
<p>configuration</p>
<p>domains</p>
<p><b>def</b></p>
<p>ecuStateHandlingDomain</p>
<p>=</p>
<p>bswMAutoConfigDomains . forEach</p>
<p>{</p>
<p>scriptLogger . info</p>
<p>it . identifier</p>
<p>}</p>
<p><b>def</b></p>
<p>isEnabled</p>
<p>=</p>
<p>bswMAutoConfigDomain</p>
<p>' Ecu</p>
<p>State</p>
<p>Handling '</p>
<p>feature</p>
<p>'/ ECU</p>
<p>State</p>
<p>Machine / Support</p>
<p>ComM '</p>
<p>enabled</p>
<p><b>def</b></p>
<p>isActivated</p>
<p>=</p>
<p>bswMAutoConfigDomain</p>
<p>' Ecu</p>
<p>State</p>
<p>Handling '</p>
<p>feature</p>
<p>'/ ECU</p>
<p>State</p>
<p>Machine / Support</p>
<p>ComM '</p>
<p>activated</p>
<p><b>if</b></p>
<p>( isEnabled</p>
<p>&amp;&amp;</p>
<p>isActivated )</p>
<p>{</p>
<p>//</p>
<p>activation</p>
<p>state</p>
<p>can</p>
<p>be</p>
<p>toggled</p>
<p>at</p>
<p>enabled</p>
<p>features</p>
<p>only</p>
<p>bswMAutoConfig ( ' Ecu</p>
<p>State</p>
<p>Handling ')</p>
<p>{</p>
<p>deactivate</p>
<p>'/ ECU</p>
<p>State</p>
<p>Machine / Support</p>
<p>ComM '</p>
<p>}</p>
<p>}</p>
<p>bswMAutoConfigDomain ( ' Ecu</p>
<p>State</p>
<p>Handling ')</p>
<p>{</p>
<p>//</p>
<p>this</p>
<p>code</p>
<p>is</p>
<p>delegated</p>
<p>to</p>
<p>the</p>
<p>' Ecu</p>
<p>State</p>
<p>Handling '</p>
<p>//</p>
<p>auto</p>
<p>configuration</p>
<p>domain</p>
<p><b>def</b></p>
<p>p1</p>
<p>=</p>
<p>parameter</p>
<p>'/ ECU</p>
<p>State</p>
<p>Machine / Self</p>
<p>Run</p>
<p>Request</p>
<p>Timeout '</p>
<p>value</p>
<p>scriptLogger . info</p>
<p>' Self</p>
<p>Run</p>
<p>Request</p>
<p>Timeout</p>
<p>=</p>
<p>'</p>
<p>+</p>
<p>p1</p>
<p><b>def</b></p>
<p>p2</p>
<p>=</p>
<p>parameter</p>
<p>'/ ECU</p>
<p>State</p>
<p>Machine / Number</p>
<p>of</p>
<p>Run</p>
<p>Request</p>
<p>User '</p>
<p>value</p>
<p>scriptLogger . info</p>
<p>' Number</p>
<p>of</p>
<p>Run</p>
<p>Request</p>
<p>User</p>
<p>=</p>
<p>'</p>
<p>+</p>
<p>p2</p>
<p>//</p>
<p>get</p>
<p>all</p>
<p>root</p>
<p>features</p>
<p>rootFeatures . forEach</p>
<p>{</p>
<p>scriptLogger . info</p>
<p>it . identifier</p>
<p>}</p>
<p>//</p>
<p>get</p>
<p>all</p>
<p>sub - features</p>
<p>of</p>
<p>a</p>
<p>feature</p>
<p>feature</p>
<p>'/ ECU</p>
<p>State</p>
<p>Machine / Support</p>
<p>ComM '</p>
<p>subFeatures . forEach</p>
<p>{</p>
<p>scriptLogger . info</p>
<p>it . identifier</p>
<p>}</p>
<p>//</p>
<p>get</p>
<p>all</p>
<p>parameters</p>
<p>of</p>
<p>a</p>
<p>feature</p>
<p>feature</p>
<p>'/ ECU</p>
<p>State</p>
<p>Machine '</p>
<p>parameters . forEach</p>
<p>{</p>
<p>scriptLogger . info</p>
<p>it . identifier</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.187: Inspecting Auto Configuration Elements</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>148 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>4.10.4 Runtime System Domain</b></p>
<p>The runtime system domain API is specifically designed to support runtime system related</p>
<p>use cases.</p>
<p>It is available from the IDomainApi (see 4.10 on page 139) in the form of</p>
<p>the</p>
<p>IRuntimeSystemApi interface.</p>
<p>getRuntimeSystem() allows accessing the IRuntimeSystemApi like a property.</p>
<p>scriptTask ( ' taskName ')</p>
<p>{</p>
<p>code</p>
<p>{</p>
<p>//</p>
<p>IRuntimeSystemApi</p>
<p>is</p>
<p>available</p>
<p>as</p>
<p>&quot; runtimeSystem &quot;</p>
<p>property</p>
<p><b>def</b></p>
<p>runtimeSystem</p>
<p>=</p>
<p>domain . runtimeSystem</p>
<p>}</p>
<p>}</p>
<p>Listing 4.188: Accessing IRuntimeSystemApi as a property</p>
<p>runtimeSystem(Closure) allows accessing the IRuntimeSystemApi in a scope-like way.</p>
<p>scriptTask ( ' taskName ')</p>
<p>{</p>
<p>code</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p>//</p>
<p>IRuntimeSystemApi</p>
<p>is</p>
<p>available</p>
<p>inside</p>
<p>this</p>
<p>Closure</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.189: Accessing IRuntimeSystemApi in a scope-like way</p>
<p>The following use cases are supported:</p>
<p><b>4.10.4.1 Component Port Connection</b></p>
<p>A component port (IComponentPort) represents a port prototype and its corresponding com-</p>
<p>ponent prototype, and in case of a delegation port the corresponding top level composition type</p>
<p>(Ecu Composition).</p>
<p>The connecting component ports use case allows connecting (a.k.a.</p>
<p>mapping) different ports in</p>
<p>a similar way the component connection assistant does.</p>
<p><b>Selecting component ports to map</b></p>
<p>The entry point is to select a collection of</p>
<p>component</p>
<p>ports and auto-map them to the possible target component ports by applying the matching</p>
<p>rules of the component connection assistant.</p>
<p>selectComponentPorts(Closure) allows the selection of</p>
<p>IComponentPorts using predicates.</p>
<p><b>Predicates</b></p>
<p>To select the component ports predicates can be provided to narrow down the</p>
<p>component ports to be connected:</p>
<p>this corresponds to the manual selection of certain component</p>
<p>ports in the component connection assistant.</p>
<p>Per default the predicates are combined via logical</p>
<p>AND.</p>
<p>To realize other combinations,</p>
<p>use</p>
<p>the ’or’,’not’ and ’and’ predicates.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>149 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>Component Port Predicates</b></p>
<p>• unconnected() matches unconnected component ports.</p>
<p>• connected() matches connected component ports.</p>
<p>• completed() matches component ports which are completed.</p>
<p>A delegation port is completed if and only if the port is connected and each of the port’s</p>
<p>communication elements is data mapped to a system signal or a system signal group.</p>
<p>An inner port is completed if the port is connected or each of the port’s communication</p>
<p>elements is data mapped to a system signal</p>
<p>or a system signal</p>
<p>group.</p>
<p>This means an</p>
<p>inner port which is connected and data mapped is also completed.</p>
<p>• notCompleted() matches component ports which are not completed.</p>
<p>See completed() for the conditions a port has to meet to be a completed port.</p>
<p>• terminated() matches terminated component ports.</p>
<p>• notTerminated() matches non-terminated component ports.</p>
<p>• senderReceiver() matches component ports whose port has a sender/receiver port in-</p>
<p>terface.</p>
<p>• clientServer() matches component ports whose port has a client/server port interface.</p>
<p>• modeSwitch() matches component ports whose port has a mode-switch port interface.</p>
<p>• nvData() matches component ports whose port has a NvData port interface.</p>
<p>• parameter() matches component ports whose port has a parameter (calibration) port</p>
<p>interface.</p>
<p>• trigger() matches component ports whose port has a trigger port interface.</p>
<p>• provided() matches provided component ports (p-port).</p>
<p>• required() matches required component ports (r-port).</p>
<p>• providedRequired() matches provided-required component ports (pr-port).</p>
<p>• delegation() matches delegation ports (ports of the Ecu composition).</p>
<p>• application() matches component ports whose port interface is an application port</p>
<p>interface.</p>
<p>• service() matches component ports whose port interface is an service port interface.</p>
<p>• applicationComponent() matches component ports whose component type is an appli-</p>
<p>cation component type.</p>
<p>Application component types are all component types which are</p>
<p>not service component types, as displayed in the ECU Software Components Editor, not</p>
<p>ApplicationSwComponentTypes as defined by AUTOSAR.</p>
<p>• serviceComponent() matches component ports whose component type is a service com-</p>
<p>ponent type.</p>
<p>• parameterComponent() matches component ports whose component type is a parameter</p>
<p>component type.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>150 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>• nvBlockComponent() matches component ports whose component type is a nv block</p>
<p>component type.</p>
<p>• sensorActuatorComponent() matches component ports whose component type is a sen-</p>
<p>sor actuator component type.</p>
<p>• ioHwAbstractionComponent() matches component ports whose component type is a I/O</p>
<p>hardware abstraction component type, also called EcuAbstractionSwComponentType.</p>
<p>• complexDeviceDriverComponent() matches component ports whose component type is</p>
<p>a complex device driver component type.</p>
<p>• serviceProxyComponent() matches component ports whose component type is a service</p>
<p>proxy component type.</p>
<p>• name(String) matches component ports with the given port name.</p>
<p>• name(Pattern) matches component ports with the given port name pattern.</p>
<p>• asrPath(String) matches component ports with the given port autosar path.</p>
<p>• asrPath(Pattern) matches component ports with the given port autosar path pattern.</p>
<p>• component(String) matches component ports with the given component name.</p>
<p>• component(Pattern) matches component ports with the given component name pattern.</p>
<p>• componentAsrPath(String) matches the component ports with the given component</p>
<p>autosar path.</p>
<p>• componentAsrPath(Pattern) matches component ports with the given component auto-</p>
<p>sar path pattern.</p>
<p>• componentType(String) matches component ports whose component type’s name equals</p>
<p>the given component type name.</p>
<p>• componentType(Pattern) matches component ports whose component type’s name ma-</p>
<p>tches the given component type name pattern.</p>
<p>• componentTypeAsrPath(String) matches the component ports whose component type’s</p>
<p>autosar path equals the given component type autosar path.</p>
<p>• componentTypeAsrPath(Pattern) matches component ports whose component type’s au-</p>
<p>tosar path matches the given component type autosar path pattern.</p>
<p>• portInterfaceMapping(String) matches component ports for whose port interfaces a</p>
<p>port interface mapping with the given port interface mapping name exists.</p>
<p>• portInterfaceMapping(Pattern) matches component ports for whose port interfaces a</p>
<p>port interface mapping with the given port interface mapping name pattern exists.</p>
<p>• portInterfaceMappingAsrPath(String) matches component ports for whose port in-</p>
<p>terfaces a port interface mapping with the given port interface mapping autosar path</p>
<p>exists.</p>
<p>• portInterfaceMappingAsrPath(Pattern) matches component ports for whose port in-</p>
<p>terfaces a port interface mapping with the given port interface mapping autosar path</p>
<p>pattern exists.</p>
<p>• filterAdvanced(Closure) matches component ports for which the given closure results</p>
<p>to true.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>151 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>• and(Closure) combines the predicates inside the closure with a logical AND.</p>
<p>• or(Closure) combines the predicates inside the closure with a logical OR.</p>
<p>• not(Closure) negates the combination of predicates inside the closure.</p>
<p><b>Examples</b></p>
<p>scriptTask (&quot; selectAllPorts &quot; ,</p>
<p>DV_PROJECT ){</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>selectedPorts</p>
<p>=</p>
<p>selectComponentPorts</p>
<p>{</p>
<p>//</p>
<p>no</p>
<p>predicates :</p>
<p>select</p>
<p>ALL</p>
<p>component</p>
<p>ports</p>
<p>}</p>
<p>getComponentPorts ()</p>
<p>scriptLogger . infoFormat ( &quot; Selected</p>
<p>{0}</p>
<p>component</p>
<p>ports .&quot; ,</p>
<p>selectedPorts .</p>
<p>size () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.190: Selects all component ports</p>
<p>scriptTask (&quot; selectAllUnconnectedPorts &quot; ,</p>
<p>DV_PROJECT ) {</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>selectedPorts</p>
<p>=</p>
<p>selectComponentPorts</p>
<p>{</p>
<p>unconnected ()</p>
<p>//</p>
<p>select</p>
<p>all</p>
<p>unconnected</p>
<p>component</p>
<p>ports</p>
<p>}</p>
<p>getComponentPorts ()</p>
<p>scriptLogger . infoFormat ( &quot; Selected</p>
<p>{0}</p>
<p>component</p>
<p>ports .&quot; ,</p>
<p>selectedPorts .</p>
<p>size () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.191: Selects all unconnected component ports</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>152 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>scriptTask (&quot; selectAllUnconnectedSRAndConnectedModePorts &quot; ,</p>
<p>DV_PROJECT ) {</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>selectedPorts</p>
<p>=</p>
<p>selectComponentPorts</p>
<p>{</p>
<p>//</p>
<p>start</p>
<p>with</p>
<p>logical</p>
<p>OR</p>
<p>or</p>
<p>{</p>
<p>and</p>
<p>{</p>
<p>//</p>
<p>unconnected</p>
<p>sender / receiver</p>
<p>ports</p>
<p>unconnected ()</p>
<p>senderReceiver ()</p>
<p>}</p>
<p>and</p>
<p>{</p>
<p>//</p>
<p>connected</p>
<p>modeSwitch</p>
<p>ports</p>
<p>connected ()</p>
<p>modeSwitch ()</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>getComponentPorts ()</p>
<p>scriptLogger . infoFormat ( &quot; Selected</p>
<p>{0}</p>
<p>component</p>
<p>ports .&quot; ,</p>
<p>selectedPorts .</p>
<p>size () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.192: Select</p>
<p>all</p>
<p>unconnected sender/receiver</p>
<p>or</p>
<p>connected mode-switch component</p>
<p>ports</p>
<p>scriptTask (&quot; selectNotCompletedPorts &quot; ,</p>
<p>DV_PROJECT ) {</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>selectedPorts</p>
<p>=</p>
<p>selectComponentPorts</p>
<p>{</p>
<p>//</p>
<p>this</p>
<p>predicate</p>
<p>filters</p>
<p>for</p>
<p>ports</p>
<p>//</p>
<p>which</p>
<p>needs</p>
<p>to</p>
<p>be</p>
<p>connected</p>
<p>and / or</p>
<p>a</p>
<p>data</p>
<p>mapping</p>
<p>notCompleted ()</p>
<p>}</p>
<p>getComponentPorts ()</p>
<p>scriptLogger . infoFormat ( &quot; Selected</p>
<p>{0}</p>
<p>component</p>
<p>ports .&quot; ,</p>
<p>selectedPorts .</p>
<p>size () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.193: Selects not completed component ports</p>
<p><b>Auto-Mapping</b></p>
<p>The use case of</p>
<p>auto-mapping component ports is based on the selection of</p>
<p>component ports:</p>
<p>it offers the methods to auto-map.</p>
<p>autoMap() tries to auto-map the selection of component ports according the component con-</p>
<p>nection assistant default rules.</p>
<p><b>Examples for autoMap()</b></p>
<p>© 2018, Vector Informatik GmbH</p>
<p>153 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>scriptTask (&quot; automapAll &quot; ,</p>
<p>DV_PROJECT ) {</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>mappedConnectors</p>
<p>=</p>
<p>selectComponentPorts</p>
<p>{</p>
<p>//</p>
<p>no</p>
<p>predicates :</p>
<p>select</p>
<p>ALL</p>
<p>component</p>
<p>ports</p>
<p>}</p>
<p>autoMap ()</p>
<p>scriptLogger . infoFormat ( &quot; Created</p>
<p>{0}</p>
<p>mappings .&quot; ,</p>
<p>mappedConnectors . size</p>
<p>() )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.194: Tries to auto-map all ports</p>
<p>scriptTask (&quot; automapAllUnconnected &quot; ,</p>
<p>DV_PROJECT ){</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>mappedConnectors</p>
<p>=</p>
<p>selectComponentPorts</p>
<p>{</p>
<p>unconnected ()</p>
<p>//</p>
<p>select</p>
<p>all</p>
<p>unconnected</p>
<p>component</p>
<p>ports</p>
<p>}</p>
<p>autoMap ()</p>
<p>scriptLogger . infoFormat ( &quot; Created</p>
<p>{0}</p>
<p>mappings .&quot; ,</p>
<p>mappedConnectors . size</p>
<p>() )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.195: Tries to auto-map all unconnected component ports</p>
<p>scriptTask (&quot; autoMapUnconnectedSRCS &quot; ,</p>
<p>DV_PROJECT ){</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>mappedConnectors</p>
<p>=</p>
<p>selectComponentPorts</p>
<p>{</p>
<p>//</p>
<p>select</p>
<p>all</p>
<p>unconnected</p>
<p>client / server</p>
<p>and</p>
<p>unconnected</p>
<p>sender / receiver</p>
<p>ports</p>
<p>unconnected ()</p>
<p>or</p>
<p>{</p>
<p>clientServer ()</p>
<p>senderReceiver ()</p>
<p>}</p>
<p>}</p>
<p>autoMap ()</p>
<p>scriptLogger . infoFormat ( &quot; Created</p>
<p>{0}</p>
<p>mappings .&quot; , mappedConnectors . size ()</p>
<p>)</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.196: Tries to auto-map all unconnected sender/receiver and client/server ports</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>154 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>import</b></p>
<p>com . vector . cfg . model . sysdesc . api . port . IComponentPort</p>
<p>scriptTask (&quot; autoMapAdvancedfilter &quot; ,</p>
<p>DV_PROJECT ){</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>mappedConnectors</p>
<p>=</p>
<p>selectComponentPorts</p>
<p>{</p>
<p>//</p>
<p>select</p>
<p>component</p>
<p>port</p>
<p>by</p>
<p>own</p>
<p>custom</p>
<p>filter</p>
<p>predicate</p>
<p>filterAdvanced</p>
<p>{ IComponentPort</p>
<p>port</p>
<p>-&gt;</p>
<p>&quot; MyUUID &quot;. equals ( port . getMdfPort () . getUuid2 () )</p>
<p>}</p>
<p>}</p>
<p>autoMap ()</p>
<p>scriptLogger . infoFormat ( &quot; Created</p>
<p>{0}</p>
<p>mappings .&quot; , mappedConnectors . size ()</p>
<p>)</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.197: Tries to auto-map port determined by advanced filter</p>
<p>autoMapTo(Closure) tries to auto-map the selection of component ports according the compo-</p>
<p>nent connection assistant rules but offers more control for the auto-mapping:</p>
<p>Inside the closure</p>
<p>additional predicates for narrowing down the target component ports can be defined and code</p>
<p>to evaluate and change the auto-mapper results can be provided.</p>
<p>Narrowing down the target component ports may be useful to gain better matches for the auto-</p>
<p>mapper:</p>
<p>In case several target component ports match equally, no auto-mapping is performed.</p>
<p>So reducing the target component ports my improve the results of the auto-mapping.</p>
<p>The component port selection will produce trace, info and warning logs.</p>
<p>To see them, activate</p>
<p>the ’com.vector.cfg.dom.runtimesys.groovy.api.IComponentPortSelection’</p>
<p>logger with</p>
<p>the appropriate log level.</p>
<p><b>Control the auto-mapping in autoMapTo(Closure)</b></p>
<p>selectTargetPorts(Closure) allows to define predicates to narrow down the target ports for</p>
<p>the auto-mapping.</p>
<p>The predicates are used to filter the possible target component ports which</p>
<p>were computed from the source component port selection.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>155 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>scriptTask (&quot; autoMapUnconnectedToComponentPrototype &quot; ,</p>
<p>DV_PROJECT ){</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>mappedConnectors</p>
<p>=</p>
<p>selectComponentPorts</p>
<p>{</p>
<p>unconnected ()</p>
<p>//</p>
<p>select</p>
<p>all</p>
<p>unconnected</p>
<p>ports</p>
<p>}</p>
<p>autoMapTo</p>
<p>{</p>
<p>selectTargetPorts</p>
<p>{</p>
<p>component</p>
<p>&quot; App1 &quot;</p>
<p>//</p>
<p>and</p>
<p>auto - map</p>
<p>them</p>
<p>to</p>
<p>all</p>
<p>ports</p>
<p>of</p>
<p>component</p>
<p>&quot; App1 &quot;</p>
<p>}</p>
<p>}</p>
<p>scriptLogger . infoFormat ( &quot; Created</p>
<p>{0}</p>
<p>mappings .&quot; , mappedConnectors . size ()</p>
<p>)</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.198: Tries to auto map all unconnected ports to the ports of one component prototype</p>
<p>evaluateMatches(Closure) allows to evaluate and change the results of the auto-mapping.</p>
<p>It</p>
<p>corresponds to the confirm page of the component connection assistant.</p>
<p>For each source component port the provided closure is called:</p>
<p>Parameters are the source</p>
<p>component port, the optional matched target component port (or null), and a list of all potential</p>
<p>target component ports (respecting the selectTargetPorts(Closure) predicates).</p>
<p>The return</p>
<p>value must be a list of target component ports.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>156 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>import</b></p>
<p>com . vector . cfg . dom . runtimesys . api . assistant . connection .</p>
<p>ISourceComponentPort</p>
<p><b>import</b></p>
<p>com . vector . cfg . dom . runtimesys . api . assistant . connection .</p>
<p>ITargetComponentPort</p>
<p>scriptTask (&quot; automapAllUnconnectedAndEvaluateMatches &quot; ,</p>
<p>DV_PROJECT ){</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>mappedConnectors</p>
<p>=</p>
<p>selectComponentPorts</p>
<p>{</p>
<p>unconnected ()</p>
<p>}</p>
<p>autoMapTo</p>
<p>{</p>
<p>evaluateMatches</p>
<p>{</p>
<p>ISourceComponentPort</p>
<p>sourcePort ,</p>
<p>ITargetComponentPort</p>
<p>optionalMatchedTargetPort ,</p>
<p>List &lt; ITargetComponentPort &gt;</p>
<p>potentialTargetPorts</p>
<p>-&gt;</p>
<p><b>if</b></p>
<p>( sourcePort . getPortName () . equals (&quot; MyExceptionalPort &quot;</p>
<p>))</p>
<p>{</p>
<p>//</p>
<p>example</p>
<p>for</p>
<p>excluding</p>
<p>a</p>
<p>port</p>
<p>from</p>
<p>auto - mapping</p>
<p>by</p>
<p>having</p>
<p>a</p>
<p>close</p>
<p>look</p>
<p>//</p>
<p>sourcePort . getMdfPort () ....</p>
<p><b>return</b></p>
<p><b>null</b></p>
<p>}</p>
<p>//</p>
<p>default :</p>
<p>do</p>
<p>not</p>
<p>change</p>
<p>the</p>
<p>auto - matched</p>
<p>port</p>
<p>[ optionalMatchedTargetPort ]</p>
<p>}</p>
<p>}</p>
<p>scriptLogger . infoFormat ( &quot; Created</p>
<p>{0}</p>
<p>mappings .&quot; , mappedConnectors . size ()</p>
<p>)</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.199: Tries to auto-map all unconnected ports and evaluate matches</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>157 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>import</b></p>
<p>com . vector . cfg . dom . runtimesys . api . assistant . connection .</p>
<p>ISourceComponentPort</p>
<p><b>import</b></p>
<p>com . vector . cfg . dom . runtimesys . api . assistant . connection .</p>
<p>ITargetComponentPort</p>
<p>scriptTask (&quot; anotherExampleForUsingEvaluateMatches &quot; ,</p>
<p>DV_PROJECT ){</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>mappedConnectors</p>
<p>=</p>
<p>selectComponentPorts</p>
<p>{</p>
<p>unconnected ()</p>
<p>}</p>
<p>autoMapTo</p>
<p>{</p>
<p>evaluateMatches</p>
<p>{</p>
<p>ISourceComponentPort</p>
<p>sourcePort ,</p>
<p>ITargetComponentPort</p>
<p>optionalMatchedTargetPort ,</p>
<p>List &lt; ITargetComponentPort &gt;</p>
<p>potentialTargetPorts</p>
<p>-&gt;</p>
<p>//</p>
<p>iterate</p>
<p>over</p>
<p>potential</p>
<p>target</p>
<p>ports</p>
<p>to</p>
<p>find</p>
<p>the</p>
<p>correct</p>
<p>target</p>
<p>//</p>
<p>like</p>
<p>in</p>
<p>java</p>
<p>you</p>
<p>can</p>
<p>use</p>
<p>a</p>
<p>for</p>
<p>loop</p>
<p><b>for</b></p>
<p>( ITargetComponentPort</p>
<p>targetCP</p>
<p>:</p>
<p>potentialTargetPorts )</p>
<p>{</p>
<p><b>if</b></p>
<p>( targetCP . getPortName () . startsWith (&quot; MyPort_ &quot;</p>
<p>) )</p>
<p>{</p>
<p><b>return</b></p>
<p>[ targetCP ]</p>
<p>}</p>
<p>}</p>
<p>//</p>
<p>or</p>
<p>you</p>
<p>can</p>
<p>use</p>
<p>a</p>
<p>stream</p>
<p><b>def</b></p>
<p>myTargets</p>
<p>=</p>
<p>potentialTargetPorts . findAll</p>
<p>{</p>
<p>it . getPortName () . startsWith (&quot; OtherPort_ &quot;)</p>
<p>}</p>
<p><b>return</b></p>
<p>myTargets</p>
<p>}</p>
<p>}</p>
<p>scriptLogger . infoFormat ( &quot; Created</p>
<p>{0}</p>
<p>mappings .&quot; , mappedConnectors .</p>
<p>size () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.200: Another example for using evaluate matches</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>158 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>import</b></p>
<p>com . vector . cfg . dom . runtimesys . api . assistant . connection .</p>
<p>ISourceComponentPort</p>
<p><b>import</b></p>
<p>com . vector . cfg . dom . runtimesys . api . assistant . connection .</p>
<p>ITargetComponentPort</p>
<p>scriptTask (&quot; automap1ToN &quot; ,</p>
<p>DV_PROJECT ) {</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>mappedConnectors</p>
<p>=</p>
<p>selectComponentPorts</p>
<p>{</p>
<p>//</p>
<p>select</p>
<p>single</p>
<p>delegation</p>
<p>port</p>
<p>delegation ()</p>
<p>name</p>
<p>&quot; rDelegationSRPort1 &quot;</p>
<p>}</p>
<p>autoMapTo</p>
<p>{</p>
<p>selectTargetPorts</p>
<p>{</p>
<p>//</p>
<p>select</p>
<p>a</p>
<p>collection</p>
<p>of</p>
<p>target</p>
<p>ports</p>
<p>( names</p>
<p>start</p>
<p>with</p>
<p>&quot; rSRPort &quot;)</p>
<p>name</p>
<p>~&quot; rSRPort .* &quot;</p>
<p>}</p>
<p>evaluateMatches</p>
<p>{</p>
<p>ISourceComponentPort</p>
<p>sourcePort ,</p>
<p>ITargetComponentPort</p>
<p>optionalMatchedTargetPort ,</p>
<p>List &lt; ITargetComponentPort &gt;</p>
<p>potentialTargetPorts</p>
<p>-&gt;</p>
<p>//</p>
<p>return</p>
<p>all</p>
<p>potentialTargetPorts</p>
<p>for</p>
<p>1: n</p>
<p>connections ,</p>
<p>not</p>
<p>only</p>
<p>the</p>
<p>one</p>
<p>matched</p>
<p>best</p>
<p>potentialTargetPorts</p>
<p>}</p>
<p>}</p>
<p>scriptLogger . infoFormat ( &quot; Created</p>
<p>{0}</p>
<p>mappings .&quot; , mappedConnectors . size ()</p>
<p>)</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.201: Auto-map a component port and realize 1:n connection by using evaluate matches</p>
<p>forceConnectionWhen1To1() allows to force a mapping even the usual auto-mapping rules will</p>
<p>not match.</p>
<p>Precondition is that the collections of source component ports and target component</p>
<p>ports only contain one component port each.</p>
<p>Otherwise no mapping is done.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>159 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>scriptTask (&quot; autoMapTwoNonMatchingPorts &quot; ,</p>
<p>DV_PROJECT ){</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>mappedConnectors</p>
<p>=</p>
<p>selectComponentPorts</p>
<p>{</p>
<p>//</p>
<p>select</p>
<p>a</p>
<p>single</p>
<p>source</p>
<p>component</p>
<p>port</p>
<p>name</p>
<p>&quot; prNVPort1 &quot;</p>
<p>component</p>
<p>&quot; NvApp1 &quot;</p>
<p>}</p>
<p>autoMapTo</p>
<p>{</p>
<p>selectTargetPorts</p>
<p>{</p>
<p>//</p>
<p>select</p>
<p>a</p>
<p>single</p>
<p>target</p>
<p>component</p>
<p>port</p>
<p>name</p>
<p>&quot; rSRPort2 &quot;</p>
<p>component</p>
<p>&quot; App2 &quot;</p>
<p>}</p>
<p>//</p>
<p>force</p>
<p>the</p>
<p>connection</p>
<p>even</p>
<p>names</p>
<p>do</p>
<p>not</p>
<p>match</p>
<p>at</p>
<p>all</p>
<p>forceConnectionWhen1To1 ()</p>
<p>}</p>
<p>scriptLogger . infoFormat ( &quot; Created</p>
<p>{0}</p>
<p>mappings .&quot; , mappedConnectors . size ()</p>
<p>)</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.202: Create mapping between two ports which names do not match.</p>
<p><b>Simple API for connection between two ports</b></p>
<p>This API covers the use case when the names</p>
<p>of the components and ports,</p>
<p>which should be connected,</p>
<p>are known.</p>
<p>The entry point is the</p>
<p>selection of exactly one component port.</p>
<p>componentPort(String, String) allows to select an IComponentPort and to do further ope-</p>
<p>rations on it, e.g.</p>
<p>connecting the port to another port.</p>
<p>ISelectedComponentPort represents a selection of exactly one IComponentPort and provides</p>
<p>further actions on it.</p>
<p>connectTo(String, String, Optional) creates an IConnector between the IComponent-</p>
<p>Port which is represented by this ISelectedComponentPort and the IComponentPort which is</p>
<p>retrieved by the given component and port name.</p>
<p>It is possible to connect the component port</p>
<p>to a delegation port by using ’COMPOSITIONTYPE’ as componentName.</p>
<p>The API provides only the very basic checks.</p>
<p>• Direction of the ports is checked.</p>
<p>E.g.</p>
<p>it is not allowed to connect two PPorts within an</p>
<p>AssemblySwConnector.</p>
<p>• Connecting incompatible types of port interfaces is not allowed.</p>
<p>E.g.</p>
<p>it is not allowed to</p>
<p>connect a mode switch with a sender receiver port.</p>
<p>• Connecting two delegation ports is not allowed.</p>
<p>• The port interface mapping has to reference the port interfaces of the selected component</p>
<p>ports.</p>
<p>• Connecting a terminated port is not allowed.</p>
<p>Please remove the port terminator first.</p>
<p>Use ISelectedComponentPort.removePortTerminator().</p>
<p>• Creating redundant connections is not allowed.</p>
<p>The ports cannot be connected by a</p>
<p>second connector.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>160 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>Examples</b></p>
<p><b>import</b></p>
<p>java . util . Optional</p>
<p>scriptTask</p>
<p>( &quot; assemblyConnectionExample &quot; ,</p>
<p>DV_PROJECT</p>
<p>) {</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p>//</p>
<p>enter</p>
<p>component</p>
<p>and</p>
<p>port</p>
<p>name</p>
<p>of</p>
<p>a</p>
<p>component</p>
<p>port</p>
<p>and</p>
<p>the</p>
<p>component</p>
<p>port</p>
<p>to</p>
<p>connect</p>
<p>it</p>
<p>to</p>
<p>//</p>
<p>optionally</p>
<p>you</p>
<p>can</p>
<p>add</p>
<p>a</p>
<p>port</p>
<p>interface</p>
<p>mapping</p>
<p><b>def</b></p>
<p>createdConnector</p>
<p>=</p>
<p>componentPort ( &quot; App1 &quot; ,</p>
<p>&quot; pDataSend &quot; ) .</p>
<p>connectTo ( &quot; App2 &quot; ,</p>
<p>&quot; rSRPort2 &quot; ,</p>
<p>Optional . empty () )</p>
<p>scriptLogger . infoFormat ( &quot; Created</p>
<p>a</p>
<p>connection</p>
<p>between</p>
<p>'{0} '</p>
<p>and</p>
<p>'{1} '. &quot; ,</p>
<p>createdConnector . getProvidedPort () . getName () ,</p>
<p>createdConnector . getRequiredPort () . getName () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.203: Example how to create a simple assembly connection</p>
<p><b>import</b></p>
<p>java . util . Optional</p>
<p>scriptTask</p>
<p>( &quot; delegationConnectionExample &quot; ,</p>
<p>DV_PROJECT</p>
<p>) {</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p>//</p>
<p>to</p>
<p>select</p>
<p>a</p>
<p>delegation</p>
<p>port</p>
<p>the</p>
<p>name</p>
<p>of</p>
<p>the</p>
<p>ECU</p>
<p>Composition</p>
<p>is</p>
<p>used</p>
<p>as</p>
<p>component</p>
<p>name</p>
<p><b>def</b></p>
<p>createdConnector</p>
<p>=</p>
<p>componentPort ( &quot; COMPOSITIONTYPE &quot; ,</p>
<p>&quot;</p>
<p>rDelegationSRPort1 &quot; ) . connectTo (&quot; App2 &quot; ,</p>
<p>&quot; rSRPort2 &quot; ,</p>
<p>Optional .</p>
<p>empty () )</p>
<p>//</p>
<p>the</p>
<p>provided</p>
<p>and</p>
<p>required</p>
<p>port</p>
<p>getter</p>
<p>work</p>
<p>also</p>
<p>for</p>
<p>delegation</p>
<p>connections</p>
<p>//</p>
<p>you</p>
<p>can</p>
<p>find</p>
<p>more</p>
<p>info</p>
<p>in</p>
<p>the</p>
<p>java</p>
<p>doc</p>
<p>of</p>
<p>IConnector</p>
<p>scriptLogger . infoFormat ( &quot; Created</p>
<p>a</p>
<p>connection</p>
<p>between</p>
<p>'{0} '</p>
<p>and</p>
<p>'{1} '. &quot; ,</p>
<p>createdConnector . getProvidedPort () . getName () ,</p>
<p>createdConnector . getRequiredPort () . getName () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.204: Example how to create a simple delegation connection</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>161 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>import</b></p>
<p>java . util . Optional</p>
<p>scriptTask</p>
<p>( &quot; delegationConnectionExample &quot; ,</p>
<p>DV_PROJECT</p>
<p>) {</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>portInterfaceMappingPath</p>
<p>=</p>
<p>&quot;/ ComponentTypes /</p>
<p>DataTypeMappingSets / PortInterfaceMappingSet1 / Mapping1 &quot;</p>
<p>//</p>
<p>to</p>
<p>add</p>
<p>a</p>
<p>port</p>
<p>interface</p>
<p>mapping</p>
<p>to</p>
<p>the</p>
<p>connection ,</p>
<p>use</p>
<p>an</p>
<p>optional</p>
<p>with</p>
<p>the</p>
<p>AUTOSAR</p>
<p>path</p>
<p>to</p>
<p>the</p>
<p>port</p>
<p>interface</p>
<p>mapping</p>
<p><b>def</b></p>
<p>createdConnector</p>
<p>=</p>
<p>componentPort ( &quot; COMPOSITIONTYPE &quot; ,</p>
<p>&quot;</p>
<p>pDelegationSRPort2 &quot; ) . connectTo (&quot; App1 &quot; ,</p>
<p>&quot; pSRPort1 &quot; ,</p>
<p>Optional .</p>
<p>of ( portInterfaceMappingPath ))</p>
<p>scriptLogger . infoFormat ( &quot; Created</p>
<p>a</p>
<p>connection</p>
<p>between</p>
<p>'{0} '</p>
<p>and</p>
<p>'{1} '. &quot; ,</p>
<p>createdConnector . getProvidedPort () . getName () ,</p>
<p>createdConnector . getRequiredPort () . getName () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.205: Create connector with port interface mapping</p>
<p><b>Terminating Component Ports</b></p>
<p>Port Terminators can be used to acknowledge the fact, that</p>
<p>the port is not connected yet.</p>
<p>This will</p>
<p>prevent validation rules to produce validation results</p>
<p>reporting these ports as unconnected or missing data mappings for these ports.</p>
<p>terminate() terminates all</p>
<p>selected IComponentPorts.</p>
<p>If one of the selected ports is already</p>
<p>terminated or connected to another component port, the port will be ignored.</p>
<p>The termination of</p>
<p>component ports disables the validation of</p>
<p>these ports.</p>
<p>In other words,</p>
<p>these ports are acknowledged as not connected yet.</p>
<p>This should give a better overview of the</p>
<p>open ports, which still have to be connected or need a data mapping.</p>
<p>removePortTerminators() removes the port terminators of all</p>
<p>selected component ports.</p>
<p>If</p>
<p>one of the selected component ports is not terminated the method will ignore that port.</p>
<p>See terminate() for more information about the purpose of terminating ports.</p>
<p>It is also possible to create and remove port terminators via the simple API starting with the</p>
<p>selection of one component port (componentPort(String, String)).</p>
<p>terminate() terminates the selected IComponentPort if it is not already terminated or con-</p>
<p>nected to another component port.</p>
<p>You can use IComponentPort.isTerminated() to check</p>
<p>if</p>
<p>a port is terminated and IComponentPort.isConnected() if</p>
<p>a port is connected to other</p>
<p>ports.</p>
<p>The termination of</p>
<p>component ports disables the validation of</p>
<p>these ports.</p>
<p>In other words,</p>
<p>these ports are acknowledged as not connected yet.</p>
<p>This should give a better overview of the</p>
<p>open ports, which still have to be connected or need a data mapping.</p>
<p>removePortTerminator() removes the port terminator of the selected component port.</p>
<p>See terminate() for more information about the purpose of terminating ports.</p>
<p><b>Examples</b></p>
<p>© 2018, Vector Informatik GmbH</p>
<p>162 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>import</b></p>
<p>com . vector . cfg . model . sysdesc . api . port . IComponentPort</p>
<p>scriptTask (&quot; terminatePort &quot; ,</p>
<p>DV_PROJECT ) {</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p>//</p>
<p>the</p>
<p>statements</p>
<p>below</p>
<p>will</p>
<p>return</p>
<p>us</p>
<p>a</p>
<p>collection</p>
<p>with</p>
<p>all</p>
<p>component</p>
<p>ports</p>
<p>which</p>
<p>will</p>
<p>be</p>
<p>terminated</p>
<p><b>def</b></p>
<p>terminatedPorts</p>
<p>=</p>
<p>selectComponentPorts</p>
<p>{</p>
<p>delegation ()</p>
<p>name ( &quot; pDelegationCSPort1 &quot; )</p>
<p>//</p>
<p>use</p>
<p>terminate ()</p>
<p>to</p>
<p>terminate</p>
<p>all</p>
<p>selected</p>
<p>component</p>
<p>ports</p>
<p>//</p>
<p>if</p>
<p>a</p>
<p>selected</p>
<p>port</p>
<p>is</p>
<p>already</p>
<p>terminated</p>
<p>or</p>
<p>connected ,</p>
<p>it</p>
<p>will</p>
<p>not</p>
<p>be</p>
<p>terminated</p>
<p>( again )</p>
<p>}</p>
<p>terminate ()</p>
<p>//</p>
<p>this</p>
<p>result</p>
<p>may</p>
<p>contain</p>
<p>less</p>
<p>ports</p>
<p>than</p>
<p>the</p>
<p>actual</p>
<p>selected</p>
<p>ports ,</p>
<p>//</p>
<p>if</p>
<p>some</p>
<p>of</p>
<p>the</p>
<p>selected</p>
<p>ports</p>
<p>were</p>
<p>connected</p>
<p>or</p>
<p>terminated</p>
<p><b>for</b></p>
<p>(<b> final</b></p>
<p>IComponentPort</p>
<p>terminatedPort</p>
<p>:</p>
<p>terminatedPorts )</p>
<p>{</p>
<p>scriptLogger . infoFormat ( &quot; Terminated</p>
<p>component</p>
<p>port</p>
<p>'{0} '. &quot; ,</p>
<p>terminatedPort . getName () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.206: Terminate port using the component port selection API</p>
<p><b>import</b></p>
<p>com . vector . cfg . model . sysdesc . api . port . IComponentPort</p>
<p>scriptTask (&quot; removePortTerminator &quot; ,</p>
<p>DV_PROJECT ) {</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p>//</p>
<p>the</p>
<p>statements</p>
<p>below</p>
<p>will</p>
<p>return</p>
<p>us</p>
<p>a</p>
<p>collection</p>
<p>with</p>
<p>all</p>
<p>component</p>
<p>ports</p>
<p>for</p>
<p>which</p>
<p>a</p>
<p>port</p>
<p>terminator</p>
<p>was</p>
<p>removed</p>
<p><b>def</b></p>
<p>removedPortTerminators</p>
<p>=</p>
<p>selectComponentPorts</p>
<p>{</p>
<p>//</p>
<p>filter</p>
<p>for</p>
<p>all</p>
<p>terminated</p>
<p>delegation</p>
<p>ports</p>
<p>delegation ()</p>
<p>//</p>
<p>there</p>
<p>are</p>
<p>predicates</p>
<p>to</p>
<p>filter</p>
<p>for</p>
<p>terminated ()</p>
<p>and</p>
<p>notTerminated ()</p>
<p>ports</p>
<p>terminated ()</p>
<p>//</p>
<p>if</p>
<p>a</p>
<p>port</p>
<p>is</p>
<p>not</p>
<p>terminated</p>
<p>it</p>
<p>will</p>
<p>be</p>
<p>skipped</p>
<p>}</p>
<p>removePortTerminators ()</p>
<p>//</p>
<p>the</p>
<p>result</p>
<p>may</p>
<p>contain</p>
<p>less</p>
<p>component</p>
<p>ports</p>
<p>than</p>
<p>the</p>
<p>selection ,</p>
<p>//</p>
<p>if</p>
<p>some</p>
<p>of</p>
<p>the</p>
<p>ports</p>
<p>were</p>
<p>not</p>
<p>terminated</p>
<p><b>for</b></p>
<p>(<b> final</b></p>
<p>IComponentPort</p>
<p>componentPort</p>
<p>:</p>
<p>removedPortTerminators )</p>
<p>{</p>
<p>scriptLogger . infoFormat ( &quot; Removed</p>
<p>port</p>
<p>terminator</p>
<p>of</p>
<p>component</p>
<p>port</p>
<p>'{0} '. &quot; ,</p>
<p>componentPort . getName () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.207: Remove port terminator using the component port selection API</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>163 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>scriptTask (&quot; createPortTerminator &quot; ,</p>
<p>DV_PROJECT ) {</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p>//</p>
<p>select</p>
<p>the</p>
<p>component</p>
<p>port</p>
<p>via</p>
<p>the</p>
<p>simple</p>
<p>API</p>
<p>and</p>
<p>call</p>
<p>terminate ()</p>
<p>//</p>
<p>this</p>
<p>API</p>
<p>is</p>
<p>more</p>
<p>strict</p>
<p>and</p>
<p>throws</p>
<p>an</p>
<p>exception</p>
<p>if</p>
<p>the</p>
<p>selected</p>
<p>port</p>
<p>cannot</p>
<p>be</p>
<p>terminated</p>
<p><b>def</b></p>
<p>terminatedPort</p>
<p>=</p>
<p>componentPort (&quot; COMPOSITIONTYPE &quot; ,</p>
<p>&quot;</p>
<p>rDelegationSRPort1 &quot; ) . terminate ()</p>
<p>scriptLogger . infoFormat ( &quot; Terminated</p>
<p>component</p>
<p>port</p>
<p>'{0} '. &quot; ,</p>
<p>terminatedPort . getName () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.208: Create a port terminator using the simple API</p>
<p>scriptTask (&quot; removePortTerminator &quot; ,</p>
<p>DV_PROJECT ) {</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p>//</p>
<p>select</p>
<p>the</p>
<p>component</p>
<p>port</p>
<p>via</p>
<p>the</p>
<p>simple</p>
<p>API</p>
<p>and</p>
<p>call</p>
<p>terminate ()</p>
<p>//</p>
<p>this</p>
<p>API</p>
<p>is</p>
<p>more</p>
<p>strict</p>
<p>and</p>
<p>throws</p>
<p>an</p>
<p>exception</p>
<p>if</p>
<p>the</p>
<p>selected</p>
<p>port</p>
<p>has</p>
<p>no</p>
<p>port</p>
<p>terminator</p>
<p>to</p>
<p>remove</p>
<p><b>def</b></p>
<p>removedTerminatorPort</p>
<p>=</p>
<p>componentPort ( &quot; App1_1 &quot; ,</p>
<p>&quot; pSRPort1 &quot; ) .</p>
<p>removePortTerminator ()</p>
<p>scriptLogger . infoFormat ( &quot; Terminated</p>
<p>component</p>
<p>port</p>
<p>'{0} '. &quot; ,</p>
<p>removedTerminatorPort . getName () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.209: Remove a port terminator using the simple API</p>
<p><b>4.10.4.2 Data Mapping</b></p>
<p>The data mapping use case allows to connect signal instances and data elements / operations</p>
<p>/ triggers in a similar way the data mapping assistant does.</p>
<p><b>Communication Element</b></p>
<p>A data element,</p>
<p>an operation or a trigger to be data-mapped is</p>
<p>represented by an ICommunicationElement.</p>
<p>A data element is represented by the subtype</p>
<p>IDataCommunicationElement, an operation is represented by the subtype IOperationCommu-</p>
<p>nicationElement and a trigger is represented by the subtype ITriggerCommunicationEle-</p>
<p>ment.</p>
<p>A communication element contains the full</p>
<p>context information (component prototype,</p>
<p>port prototype, data type hierarchy) necessary for data mapping.</p>
<p><b>Signal Instance</b></p>
<p>The system signals and system signal groups to be data-mapped are represen-</p>
<p>ted by a signal</p>
<p>instance (IAbstractSignalInstance).</p>
<p>ISignalInstance represents a system</p>
<p>signal, ISignalGroupInstance represents a system signal group.</p>
<p>’Signal instance’ means that</p>
<p>the system signal or system signal group is at least referenced by one ISignal or ISignalGroup.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>164 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>System signals or system signal groups which are not referenced by an ISignal or ISignalGroup</p>
<p>are not represented as signal instance and so are not available for data mapping.</p>
<p>The entry point for data mapping is either to select a collection of signal instances and auto-map</p>
<p>them to the possible target communication elements or vice versa by applying the matching</p>
<p>rules of the data mapping assistant.</p>
<p><b>Mapping signal</b></p>
<p><b>instances</b></p>
<p>selectSignalInstances(Closure) allows the selection of</p>
<p>IAb-</p>
<p>stractSignalInstances using predicates.</p>
<p>Per default the predicates are combined via logical</p>
<p>AND.</p>
<p>To realize other combinations,</p>
<p>use</p>
<p>the ’or’,’not’ and ’and’ predicates.</p>
<p><b>Signal</b></p>
<p><b>Instance Predicates</b></p>
<p>• unmapped() matches signal instances which are not data-mapped.</p>
<p>• mapped() matches signal instances which are data-mapped.</p>
<p>• signalGroup() matches signal instances which are a signal group instance.</p>
<p>• groupSignal() matches signal instances which are a group signal.</p>
<p>• transformed() matches signal instances which are transformation signals.</p>
<p>• tx() matches signal instances whose direction is compatible to EDirection.Tx.</p>
<p>• rx() matches signal instances whose direction is compatible to EDirection.Rx.</p>
<p>• name(String) matches signal instances with the given name.</p>
<p>• name(Pattern) matches signal instances with the given name pattern.</p>
<p>• asrPath(String) matches signal instances with the given autosar path.</p>
<p>• asrPath(Pattern) matches signal instances with the given autosar path pattern.</p>
<p>• iSignal(String) matches signal instances which are referenced at least by one ISignal/I-</p>
<p>SignalGroup with the given name.</p>
<p>• iSignal(Pattern) matches signal</p>
<p>instances which are referenced at least by one ISig-</p>
<p>nal/ISignalGroup with the given name pattern.</p>
<p>• iSignalAsrPath(String) matches signal instances which are referenced at least by one</p>
<p>ISignal/ISignalGroup with the given autosar path.</p>
<p>• iSignalAsrPath(Pattern) matches signal instances which are referenced at least by one</p>
<p>ISignal/ISignalGroup with the given autosar path pattern.</p>
<p>• physicalChannel(String) matches signal instances which are referenced by at least an</p>
<p>ISignal/ISignalGroup for which an ISignalTriggering exists for a PhysicalChannel</p>
<p>with</p>
<p>the given name.</p>
<p>• physicalChannel(Pattern) matches signal instances which are referenced by at least an</p>
<p>ISignal/ISignalGroup for which an ISignalTriggering exists for a PhysicalChannel</p>
<p>with</p>
<p>the given name pattern.</p>
<p>• physicalChannelAsrPath(String) matches signal instances which are referenced by at</p>
<p>least an ISignal/ISignalGroup for which an ISignalTriggering exists for a PhysicalChannel</p>
<p>with the given autosar path.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>165 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>• physicalChannelAsrPath(Pattern) matches signal instances which are referenced by at</p>
<p>least an ISignal/ISignalGroup for which an ISignalTriggering exists for a PhysicalChannel</p>
<p>with the given autosar path pattern.</p>
<p>• communicationCluster(String) matches signal</p>
<p>instances which are referenced by at</p>
<p>least an ISignal/ISignalGroup which is sent via a PhysicalChannel of a Communication-</p>
<p>Cluster with the given name.</p>
<p>• communicationCluster(Pattern) matches signal</p>
<p>instances which are referenced by at</p>
<p>least an ISignal/ISignalGroup which is sent via a PhysicalChannel of a Communication-</p>
<p>Cluster with the given name pattern.</p>
<p>• communicationClusterAsrPath(String) matches signal instances which are referenced</p>
<p>by at least an ISignal/ISignalGroup which is sent via a PhysicalChannel of a Communi-</p>
<p>cationCluster with the given autosar path.</p>
<p>• communicationClusterAsrPath(Pattern) matches signal instances which are referenced</p>
<p>by at least an ISignal/ISignalGroup which is sent via a PhysicalChannel of a Communi-</p>
<p>cationCluster with the given autosar path pattern.</p>
<p>• pdu(String) matches signal</p>
<p>instances which are referenced by at least an ISignal/ISig-</p>
<p>nalGroup for which an ISignalToIPduMapping exists for a Pdu with the given name.</p>
<p>• pdu(Pattern) matches signal</p>
<p>instances which are referenced by at least an ISignal/I-</p>
<p>SignalGroup for which an ISignalToIPduMapping exists for a Pdu with the given name</p>
<p>pattern.</p>
<p>• pduAsrPath(String) matches signal</p>
<p>instances which are referenced by at least an ISig-</p>
<p>nal/ISignalGroup for which an ISignalToIPduMapping exists for a Pdu with the given</p>
<p>autosar path.</p>
<p>• pduAsrPath(Pattern) matches signal instances which are referenced by at least an ISig-</p>
<p>nal/ISignalGroup for which an ISignalToIPduMapping exists for a Pdu with the given</p>
<p>autosar path pattern.</p>
<p>• frame(String) matches signal</p>
<p>instances which are referenced by at least an ISignal/I-</p>
<p>SignalGroup which is sent via a Pdu for that a PduToFrameMapping exists for a Frame</p>
<p>with the given name.</p>
<p>• frame(Pattern) matches signal instances which are referenced by at least an ISignal/I-</p>
<p>SignalGroup which is sent via a Pdu for that a PduToFrameMapping exists for a Frame</p>
<p>with the given name pattern.</p>
<p>• frameAsrPath(String) matches signal instances which are referenced by at least an ISig-</p>
<p>nal/ISignalGroup which is sent via a Pdu for that a PduToFrameMapping exists for a</p>
<p>Frame with the given autosar path.</p>
<p>• frameAsrPath(Pattern) matches signal</p>
<p>instances which are referenced by at least an</p>
<p>ISignal/ISignalGroup which is sent via a Pdu for that a PduToFrameMapping exists for</p>
<p>a Frame with the given autosar path pattern.</p>
<p>• filterAdvanced(Closure) matches signal</p>
<p>instances for which the given closure results</p>
<p>to true.</p>
<p>• and(Closure) combines the predicates inside the closure with a logical AND.</p>
<p>• or(Closure) combines the predicates inside the closure with a logical OR.</p>
<p>• not(Closure) negates the combination of predicates inside the closure.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>166 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>Examples</b></p>
<p>scriptTask (&quot; SelectAllUnmappedSignalInstances &quot; ,</p>
<p>DV_PROJECT ) {</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>signalInstances</p>
<p>=</p>
<p>selectSignalInstances</p>
<p>{</p>
<p>unmapped ()</p>
<p>//</p>
<p>select</p>
<p>all</p>
<p>signal</p>
<p>instances</p>
<p>which</p>
<p>are</p>
<p>not</p>
<p>yet</p>
<p>data</p>
<p>mapped</p>
<p>}</p>
<p>getSignalInstances ()</p>
<p>scriptLogger . infoFormat ( &quot; Selected</p>
<p>{0}</p>
<p>signal</p>
<p>instances . &quot; ,</p>
<p>signalInstances . size () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.210: Select all unmapped signal instances</p>
<p>scriptTask (&quot; SelectAllUnmappedRxOrTransformedSignalInstances &quot; ,</p>
<p>DV_PROJECT ){</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>signalInstances</p>
<p>=</p>
<p>selectSignalInstances</p>
<p>{</p>
<p>//</p>
<p>the</p>
<p>signal</p>
<p>instances</p>
<p>should</p>
<p>not</p>
<p>be</p>
<p>data - mapped</p>
<p>yet</p>
<p>unmapped ()</p>
<p>or</p>
<p>{</p>
<p>//</p>
<p>and</p>
<p>should</p>
<p>either</p>
<p>be</p>
<p>a</p>
<p>rx</p>
<p>signal</p>
<p>or</p>
<p>a</p>
<p>transformation</p>
<p>signal</p>
<p>rx ()</p>
<p>transformed ()</p>
<p>}</p>
<p>}</p>
<p>getSignalInstances ()</p>
<p>scriptLogger . infoFormat ( &quot; Selected</p>
<p>{0}</p>
<p>signal</p>
<p>instances . &quot; ,</p>
<p>signalInstances . size () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.211: Select all unmapped rx or transformed signal instances</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>167 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>import</b></p>
<p>com . vector . cfg . model . sysdesc . api . com . IAbstractSignalInstance</p>
<p>scriptTask (&quot; SelectSignalInstancesUsingAdvancedFilter &quot; ,</p>
<p>DV_PROJECT ){</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>signalInstances</p>
<p>=</p>
<p>selectSignalInstances</p>
<p>{</p>
<p>filterAdvanced</p>
<p>{</p>
<p>IAbstractSignalInstance</p>
<p>signalInstance</p>
<p>-&gt;</p>
<p>//</p>
<p>implement</p>
<p>own</p>
<p>custom</p>
<p>filter</p>
<p><b>def</b></p>
<p>mdfObject</p>
<p>=</p>
<p>signalInstance . getMdfObject ()</p>
<p>//</p>
<p>work</p>
<p>on</p>
<p>directly</p>
<p>on</p>
<p>autosar</p>
<p>model</p>
<p>level</p>
<p>...</p>
<p>//</p>
<p>select</p>
<p>signal</p>
<p>instance</p>
<p>only</p>
<p>which</p>
<p>has</p>
<p>admin</p>
<p>data</p>
<p><b>def</b></p>
<p>select</p>
<p>=</p>
<p><b>false</b></p>
<p>mdfObject . adminData</p>
<p>{</p>
<p>select</p>
<p>=</p>
<p><b>true</b></p>
<p>}</p>
<p>select</p>
<p>}</p>
<p>}</p>
<p>getSignalInstances ()</p>
<p>scriptLogger . infoFormat ( &quot; Selected</p>
<p>{0}</p>
<p>signal</p>
<p>instances . &quot; ,</p>
<p>signalInstances . size () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.212: Select signal instances using an advanced filter</p>
<p><b>Auto-Mapping</b></p>
<p>The use case of</p>
<p>auto-mapping signal</p>
<p>instances is based on the selection of</p>
<p>signal instances:</p>
<p>it offers the methods to auto-map.</p>
<p>autoMap() tries to auto-map the selection of</p>
<p>IAbstractSignalInstances (ISignalInstance</p>
<p>or ISignalGroupInstance) according the data mapping assistant default rules.</p>
<p>Therefore the</p>
<p>selection of</p>
<p>possible target communication elements is computed and tried to match to the</p>
<p>selected signal instances.</p>
<p><b>Examples for autoMap()</b></p>
<p>scriptTask (&quot; autoDatamapAllUnmappedSignalInstances &quot; ,</p>
<p>DV_PROJECT ){</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>dataMappings</p>
<p>=</p>
<p>selectSignalInstances</p>
<p>{</p>
<p>unmapped ()</p>
<p>}</p>
<p>autoMap ()</p>
<p>scriptLogger . infoFormat ( &quot; Created</p>
<p>{0}</p>
<p>data</p>
<p>mappings . &quot; ,</p>
<p>dataMappings . size () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.213: Auto data map all unmapped signal instances</p>
<p>autoMapTo(Closure) tries to auto-map the selection of</p>
<p>signal</p>
<p>instances according the data</p>
<p>mapping assistant rules but offers more control</p>
<p>for the auto-mapping:</p>
<p>Inside the closure ad-</p>
<p>ditional predicates for narrowing down the target communication elements can be defined and</p>
<p>code to evaluate and change the auto-mapper results can be provided.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>168 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>autoMapTo(Closure) will</p>
<p>produce trace,</p>
<p>info and warning logs.</p>
<p>To see them,</p>
<p>activate the</p>
<p>’com.vector.cfg.dom.runtimesys.groovy.api.ISignalInstanceSelection’ logger with the</p>
<p>appropriate log level.</p>
<p><b>Control the auto-mapping in autoMapTo(Closure)</b></p>
<p>selectTargetCommunicationElements(Closure) allows to define predicates to narrow down</p>
<p>the target communciation elements for the auto-mapping.</p>
<p>The predicates are used to filter</p>
<p>the possible target communication elements which were computed from the signal</p>
<p>instance</p>
<p>selection.</p>
<p>evaluateMatches(Closure) allows to evaluate and change the results of the auto-mapping.</p>
<p>It</p>
<p>corresponds to the confirm page of the data mapping assistant.</p>
<p>For each signal</p>
<p>instance the provided closure is called:</p>
<p>Parameters are the signal</p>
<p>instance,</p>
<p>the optional</p>
<p>matched target communication element (or null),</p>
<p>and a list of</p>
<p>all</p>
<p>potential</p>
<p>tar-</p>
<p>get communication elements (respecting the selectTargetCommunicationElements(Closure)</p>
<p>predicates).</p>
<p>The return value must be a communication element or null.</p>
<p><b>import</b></p>
<p>com . vector . cfg . model . sysdesc . api . com . IAbstractSignalInstance</p>
<p><b>import</b></p>
<p>com . vector . cfg . model . sysdesc . api . com . ICommunicationElement</p>
<p>scriptTask (&quot; autoDatamapAllUnmappedSignalInstancesAndEvaluate &quot; ,</p>
<p>DV_PROJECT ) {</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>dataMappings</p>
<p>=</p>
<p>selectSignalInstances</p>
<p>{</p>
<p>unmapped ()</p>
<p>}</p>
<p>autoMapTo</p>
<p>{</p>
<p>selectTargetCommunicationElements</p>
<p>{</p>
<p>unmapped ()</p>
<p>}</p>
<p>evaluateMatches</p>
<p>{</p>
<p>IAbstractSignalInstance</p>
<p>signal ,</p>
<p>ICommunicationElement</p>
<p>optionalMatchedComElement ,</p>
<p>List &lt; ICommunicationElement &gt;</p>
<p>potentialComElements</p>
<p>-&gt;</p>
<p>//</p>
<p>evaluate</p>
<p>optionalMatchedComElement</p>
<p>}</p>
<p>}</p>
<p>scriptLogger . infoFormat ( &quot; Created</p>
<p>{0}</p>
<p>data</p>
<p>mappings . &quot; ,</p>
<p>dataMappings . size () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.214: Auto data map all</p>
<p>unmapped signal</p>
<p>instances</p>
<p>to unmapped communication</p>
<p>elements and evaluate</p>
<p><b>Nested Array of</b></p>
<p><b>Primitives</b></p>
<p>expandNestedArraysOfPrimitive(boolean) allows to control</p>
<p>the expansion of</p>
<p>nested arrays of</p>
<p>primitive globally.</p>
<p>Per default,</p>
<p>arrays are fully expanded</p>
<p>(allowing to data map each array element).</p>
<p>By setting the value to ’false’, all nested arrays of</p>
<p>primitive are not expanded and can be directly data-mapped to a signal.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>169 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>import</b></p>
<p>com . vector . cfg . model . sysdesc . api . com . IAbstractSignalInstance</p>
<p><b>import</b></p>
<p>com . vector . cfg . model . sysdesc . api . com . ICommunicationElement</p>
<p>scriptTask (&quot; autoDatamapAllSignalInstancesAndDoNotExpandNestedArrayElements &quot; ,</p>
<p>DV_PROJECT ) {</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>dataMappings</p>
<p>=</p>
<p>selectSignalInstances</p>
<p>{</p>
<p>}</p>
<p>autoMapTo</p>
<p>{</p>
<p>//</p>
<p>do</p>
<p>not</p>
<p>expand</p>
<p>nested</p>
<p>array</p>
<p>elements</p>
<p>expandNestedArraysOfPrimitive</p>
<p><b>false</b></p>
<p>evaluateMatches</p>
<p>{</p>
<p>IAbstractSignalInstance</p>
<p>signal ,</p>
<p>ICommunicationElement</p>
<p>optionalMatchedComElement ,</p>
<p>List &lt; ICommunicationElement &gt;</p>
<p>potentialComElements</p>
<p>-&gt;</p>
<p>//</p>
<p>perform</p>
<p>manual</p>
<p>mapping</p>
<p>to</p>
<p>a</p>
<p>signal</p>
<p>group</p>
<p><b>if</b></p>
<p>( signal . getName () . equals ( &quot; elemB_c255f5e38fd8b21d &quot;))</p>
<p>{</p>
<p><b>for</b></p>
<p>(<b> final</b></p>
<p>ICommunicationElement</p>
<p>comElement</p>
<p>:</p>
<p>potentialComElements )</p>
<p>{</p>
<p><b>if</b></p>
<p>( comElement . getFullyQualifiedName () . equals ( &quot; App2 .</p>
<p>rSRPort1 . Element_2 &quot;) )</p>
<p>{</p>
<p><b>return</b></p>
<p>comElement</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>//</p>
<p>now</p>
<p>check :</p>
<p>for</p>
<p>the</p>
<p>group</p>
<p>signal</p>
<p>the</p>
<p>the</p>
<p>record</p>
<p>element</p>
<p>representing</p>
<p>an</p>
<p>array</p>
<p>is</p>
<p>not</p>
<p>expanded</p>
<p><b>if</b></p>
<p>( signal . getName () . equals (&quot; fieldA_f1d3783e235e88d3 &quot;) )</p>
<p>{</p>
<p>//</p>
<p>group</p>
<p>signal</p>
<p><b>for</b></p>
<p>(<b> final</b></p>
<p>ICommunicationElement</p>
<p>comElement</p>
<p>:</p>
<p>potentialComElements )</p>
<p>{</p>
<p><b>if</b></p>
<p>( comElement . getFullyQualifiedName () . equals ( &quot; App2 .</p>
<p>rSRPort1 . Element_2 . RecordElement &quot;) )</p>
<p>{</p>
<p>//</p>
<p>do</p>
<p>some</p>
<p>direct</p>
<p>mapping</p>
<p>here</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>optionalMatchedComElement</p>
<p>}</p>
<p>}</p>
<p>scriptLogger . infoFormat ( &quot; Created</p>
<p>{0}</p>
<p>data</p>
<p>mappings . &quot; , dataMappings . size</p>
<p>() )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.215: Auto data map all signal instances and do not expand nested array elements</p>
<p>expandNestedArraysOfPrimitive(String,boolean) allows to control the expansion of nested</p>
<p>arrays of</p>
<p>primitive for single nested arrays.</p>
<p>Per default,</p>
<p>the expandNestedArraysOfPrimi-</p>
<p>tive(boolean) applies.</p>
<p>For the given fully qualified communication element name, the global</p>
<p>setting can be overridden.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>170 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>import</b></p>
<p>com . vector . cfg . model . sysdesc . api . com . IAbstractSignalInstance</p>
<p><b>import</b></p>
<p>com . vector . cfg . model . sysdesc . api . com . ICommunicationElement</p>
<p>scriptTask (&quot; autoDatamapAllSignalInstancesAndDoExpandSpecificNestedArrayElement &quot;</p>
<p>,</p>
<p>DV_PROJECT ) {</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>dataMappings</p>
<p>=</p>
<p>selectSignalInstances</p>
<p>{</p>
<p>}</p>
<p>autoMapTo</p>
<p>{</p>
<p>//</p>
<p>do</p>
<p>not</p>
<p>expand</p>
<p>nested</p>
<p>array</p>
<p>elements</p>
<p>expandNestedArraysOfPrimitive</p>
<p><b>false</b></p>
<p>expandNestedArraysOfPrimitive (</p>
<p>&quot; App2 . rSRPort1 . Element_2 .</p>
<p>RecordElement &quot; ,<b> true</b> )</p>
<p>evaluateMatches</p>
<p>{</p>
<p>IAbstractSignalInstance</p>
<p>signal ,</p>
<p>ICommunicationElement</p>
<p>optionalMatchedComElement ,</p>
<p>List &lt; ICommunicationElement &gt;</p>
<p>potentialComElements</p>
<p>-&gt;</p>
<p>//</p>
<p>perform</p>
<p>manual</p>
<p>mapping</p>
<p>to</p>
<p>a</p>
<p>signal</p>
<p>group</p>
<p><b>if</b></p>
<p>( signal . getName () . equals ( &quot; elemB_c255f5e38fd8b21d &quot;))</p>
<p>{</p>
<p><b>for</b></p>
<p>(<b> final</b></p>
<p>ICommunicationElement</p>
<p>comElement</p>
<p>:</p>
<p>potentialComElements )</p>
<p>{</p>
<p><b>if</b></p>
<p>( comElement . getFullyQualifiedName () . equals ( &quot; App2 .</p>
<p>rSRPort1 . Element_2 &quot;) )</p>
<p>{</p>
<p><b>return</b></p>
<p>comElement</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>//</p>
<p>now</p>
<p>check :</p>
<p>for</p>
<p>the</p>
<p>group</p>
<p>signal</p>
<p>the</p>
<p>the</p>
<p>record</p>
<p>element</p>
<p>representing</p>
<p>an</p>
<p>array</p>
<p>is</p>
<p>expanded :</p>
<p>//</p>
<p>the</p>
<p>single</p>
<p>array</p>
<p>elements</p>
<p>can</p>
<p>be</p>
<p>mapped</p>
<p><b>if</b></p>
<p>( signal . getName () . equals (&quot; fieldA_f1d3783e235e88d3 &quot;) )</p>
<p>{</p>
<p>//</p>
<p>group</p>
<p>signal</p>
<p><b>for</b></p>
<p>(<b> final</b></p>
<p>ICommunicationElement</p>
<p>comElement</p>
<p>:</p>
<p>potentialComElements )</p>
<p>{</p>
<p><b>if</b></p>
<p>( comElement . getFullyQualifiedName () . equals ( &quot; App2 .</p>
<p>rSRPort1 . Element_2 . RecordElement [0] &quot; ))</p>
<p>{</p>
<p>//</p>
<p>do</p>
<p>some</p>
<p>direct</p>
<p>mapping</p>
<p>to</p>
<p>array</p>
<p>element</p>
<p>here</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>optionalMatchedComElement</p>
<p>}</p>
<p>}</p>
<p>scriptLogger . infoFormat ( &quot; Created</p>
<p>{0}</p>
<p>data</p>
<p>mappings . &quot; , dataMappings . size</p>
<p>() )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.216: Auto data map all signal instances and expand specific nested array element</p>
<p><b>Mapping communication elements</b></p>
<p>selectCommunicationElements(Closure) allows the se-</p>
<p>lection of</p>
<p>ICommunicationElements using predicates.</p>
<p>Per default the predicates are combined via logical</p>
<p>AND.</p>
<p>To realize other combinations,</p>
<p>use</p>
<p>the ’or’,’not’ and ’and’ predicates.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>171 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>Communication Element Predicates</b></p>
<p>• unconnected() matches communication elements whose component port is unconnected.</p>
<p>• connected() matches communication elements whose component port is connected.</p>
<p>• senderReceiver() matches communication elements whose port has a sender/receiver</p>
<p>port interface.</p>
<p>• clientServer() matches communication elements whose port has a client/server port</p>
<p>interface.</p>
<p>• trigger() matches communication elements whose port has a trigger port interface.</p>
<p>• provided() matches communication elements whose port is a provided port (p-port).</p>
<p>• required() matches communication elements whose port is a required port (r-port).</p>
<p>• delegation() matches communication elements whose port is delegation port.</p>
<p>• unmapped() matches communication elements whose are not data-mapped.</p>
<p>• mapped() matches communication elements whose are data-mapped.</p>
<p>• ownerPortTerminated() matches communication elements whose component port is ter-</p>
<p>minated.</p>
<p>• ownerPortNotTerminated() matches communication elements whose component port is</p>
<p>not terminated.</p>
<p>• name(String) matches communication elements with the given data element or operation</p>
<p>name.</p>
<p>• name(Pattern) matches communication elements with the given data element or opera-</p>
<p>tion name pattern.</p>
<p>• asrPath(String) matches communication elements with the given data element or ope-</p>
<p>ration autosar path.</p>
<p>• asrPath(Pattern) matches communication elements with the given data element or ope-</p>
<p>ration autosar path pattern.</p>
<p>• component(String) matches communication elements with the given component name.</p>
<p>• component(Pattern) matches communication elements with the given component name</p>
<p>pattern.</p>
<p>• componentAsrPath(String) matches communication elements with the given component</p>
<p>name autosar path.</p>
<p>• componentAsrPath(Pattern) matches communication elements with the given compo-</p>
<p>nent name autosar path pattern.</p>
<p>• port(String) matches communication elements with the given component port name.</p>
<p>• port(Pattern) matches communication elements with the given component port name</p>
<p>pattern.</p>
<p>• portAsrPath(String) matches communication elements with the given component port</p>
<p>autosar path.</p>
<p>• portAsrPath(Pattern) matches communication elements with the given component port</p>
<p>autosar path pattern.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>172 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>• filterAdvanced(Closure) Add a custom predicated which matches communication ele-</p>
<p>ments for which the given closure results to true.</p>
<p>• and(Closure) combines the predicates inside the closure with a logical AND.</p>
<p>• or(Closure) combines the predicates inside the closure with a logical OR.</p>
<p>• not(Closure) negates the combination of predicates inside the closure.</p>
<p><b>Examples</b></p>
<p>scriptTask (&quot; SelectAllUnmappedDelPortComElements &quot; ,</p>
<p>DV_PROJECT ) {</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>comElements</p>
<p>=</p>
<p>selectCommunicationElements</p>
<p>{</p>
<p>//</p>
<p>select</p>
<p>all</p>
<p>unmapped</p>
<p>delegation</p>
<p>communication</p>
<p>elements</p>
<p>delegation ()</p>
<p>unmapped ()</p>
<p>}</p>
<p>getCommunicationElements ()</p>
<p>scriptLogger . infoFormat ( &quot; Selected</p>
<p>{0}</p>
<p>communication</p>
<p>elements .&quot; ,</p>
<p>comElements . size () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.217: Select all unmapped delegation port communication elements</p>
<p><b>import</b></p>
<p>com . vector . cfg . model . sysdesc . api . com . ICommunicationElement</p>
<p><b>import</b></p>
<p>com . vector . cfg . model . sysdesc . api . com . IDataCommunicationElement</p>
<p>scriptTask (&quot; SelectComElementsUsingAdvancedFilter &quot; ,</p>
<p>DV_PROJECT ) {</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>comElements</p>
<p>=</p>
<p>selectCommunicationElements</p>
<p>{</p>
<p>//</p>
<p>advanced</p>
<p>filter :</p>
<p>//</p>
<p>only</p>
<p>select</p>
<p>communication</p>
<p>elements</p>
<p>//</p>
<p>which</p>
<p>represent</p>
<p>data</p>
<p>elements</p>
<p>of</p>
<p>a</p>
<p>specific</p>
<p>data</p>
<p>type</p>
<p>filterAdvanced</p>
<p>{</p>
<p>ICommunicationElement</p>
<p>comElement</p>
<p>-&gt;</p>
<p><b>if</b></p>
<p>( comElement</p>
<p><b>instanceof</b></p>
<p>IDataCommunicationElement )</p>
<p>{</p>
<p><b>def</b></p>
<p>mdfDataElement</p>
<p>=</p>
<p>comElement .</p>
<p>getDataElementOrOperationMdfObject ()</p>
<p>//</p>
<p>check</p>
<p>directly</p>
<p>on</p>
<p>autosar</p>
<p>model</p>
<p>level</p>
<p><b>return</b></p>
<p>mdfDataElement . type . refTarget . name . equals (&quot;</p>
<p>myCustomDataType &quot;)</p>
<p>}</p>
<p><b>false</b></p>
<p>}</p>
<p>}</p>
<p>getCommunicationElements ()</p>
<p>scriptLogger . infoFormat ( &quot; Selected</p>
<p>{0}</p>
<p>communication</p>
<p>elements .&quot; ,</p>
<p>comElements . size () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.218: Select communication elements using an advanced filter</p>
<p>autoMap() tries to auto-map the selection of ICommunicationElements (IDataCommunicationElement</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>173 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>or IOperationCommunicationElement) according the data mapping assistant default rules.</p>
<p>Therefore the selection of</p>
<p>possible target signal</p>
<p>instances is computed and tried to match to</p>
<p>the selected communciation elements.</p>
<p><b>Examples for autoMap()</b></p>
<p>scriptTask (&quot; autoDatamapAllUnmappedSRDelPortComElements &quot; ,</p>
<p>DV_PROJECT ) {</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>dataMappings</p>
<p>=</p>
<p>selectCommunicationElements</p>
<p>{</p>
<p>//</p>
<p>select</p>
<p>all</p>
<p>unmapped</p>
<p>sender / receiver</p>
<p>delegation</p>
<p>ports</p>
<p>delegation ()</p>
<p>unmapped ()</p>
<p>senderReceiver () ;</p>
<p>}</p>
<p>autoMap ()</p>
<p>scriptLogger . infoFormat ( &quot; Created</p>
<p>{0}</p>
<p>data</p>
<p>mappings . &quot; , dataMappings . size</p>
<p>() )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.219: Auto data map all</p>
<p>unmapped sender/receiver delegation port communication</p>
<p>elements</p>
<p>autoMapTo(Closure) tries to auto-map the selection of communciation elements according the</p>
<p>data mapping assistant rules but offers more control</p>
<p>for the auto-mapping:</p>
<p>Inside the closure</p>
<p>additional</p>
<p>predicates for narrowing down the target signal</p>
<p>instances can be defined and code</p>
<p>to evaluate and change the auto-mapper results can be provided.</p>
<p>autoMapTo(Closure) will</p>
<p>produce trace,</p>
<p>info and warning logs.</p>
<p>To see them,</p>
<p>activate the</p>
<p>’com.vector.cfg.dom.runtimesys.groovy.api.ICommunicationElementSelection’ logger with</p>
<p>the appropriate log level.</p>
<p><b>Control the auto-mapping in autoMapTo(Closure)</b></p>
<p>selectTargetSignalInstances(Closure) allows to define predicates to narrow down the tar-</p>
<p>get signal instances for the auto-mapping.</p>
<p>The predicates are used to filter the possible target</p>
<p>signal instances which were computed from the communication element selection.</p>
<p>evaluateMatches(Closure) allows to evaluate and change the results of the auto-mapping.</p>
<p>It</p>
<p>corresponds to the confirm page of the data mapping assistant.</p>
<p>For each communication element the provided closure is called:</p>
<p>Parameters are the communi-</p>
<p>cation element, the optional matched target signal instance (or null), and a list of all potential</p>
<p>target signal instances (respecting the selectTargetSignalInstances(Closure) predicates).</p>
<p>The return value must be a signal instance or null.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>174 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>import</b></p>
<p>com . vector . cfg . model . sysdesc . api . com . IAbstractSignalInstance</p>
<p><b>import</b></p>
<p>com . vector . cfg . model . sysdesc . api . com . ICommunicationElement</p>
<p>scriptTask (&quot; autoDatamapAllUnmappedComElementsAndEvaluate &quot; ,</p>
<p>DV_PROJECT ) {</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>dataMappings</p>
<p>=</p>
<p>selectCommunicationElements</p>
<p>{</p>
<p>unmapped ()</p>
<p>//</p>
<p>only</p>
<p>unmapped</p>
<p>communication</p>
<p>elements</p>
<p>}</p>
<p>autoMapTo</p>
<p>{</p>
<p>selectTargetSignalInstances</p>
<p>{</p>
<p>//</p>
<p>only</p>
<p>map</p>
<p>to</p>
<p>unmapped</p>
<p>rx</p>
<p>signal</p>
<p>instances</p>
<p>unmapped ()</p>
<p>rx ()</p>
<p>}</p>
<p>evaluateMatches</p>
<p>{</p>
<p>ICommunicationElement</p>
<p>communicationElement ,</p>
<p>IAbstractSignalInstance</p>
<p>optionalMatchedSignalInstance ,</p>
<p>List &lt; IAbstractSignalInstance &gt;</p>
<p>potentialSignalinstances</p>
<p>-&gt;</p>
<p>//</p>
<p>evaluate</p>
<p>the</p>
<p>match</p>
<p>here</p>
<p><b>if</b></p>
<p>( optionalMatchedSignalInstance</p>
<p>!=</p>
<p><b>null</b> )</p>
<p>{</p>
<p><b>def</b></p>
<p>mdfSystemSignal</p>
<p>=</p>
<p>optionalMatchedSignalInstance . getMdfObject ()</p>
<p>;</p>
<p>//</p>
<p>check</p>
<p>more</p>
<p>specific</p>
<p>...</p>
<p>}</p>
<p>optionalMatchedSignalInstance</p>
<p>}</p>
<p>}</p>
<p>scriptLogger . infoFormat ( &quot; Created</p>
<p>{0}</p>
<p>data</p>
<p>mappings . &quot; , dataMappings . size</p>
<p>() )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.220: Auto data map all</p>
<p>unmapped communication elements to unmapped rx signal</p>
<p>instances and evaluate</p>
<p><b>Nested Array of</b></p>
<p><b>Primitives</b></p>
<p>expandNestedArraysOfPrimitive(boolean) allows to control</p>
<p>the expansion of</p>
<p>nested arrays of</p>
<p>primitive globally.</p>
<p>Per default,</p>
<p>arrays are fully expanded</p>
<p>(allowing to data map each array element).</p>
<p>By setting the value to ’false’, all nested arrays of</p>
<p>primitive are not expanded and can be directly data-mapped to a signal.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>175 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>import</b></p>
<p>com . vector . cfg . model . sysdesc . api . com . IAbstractSignalInstance</p>
<p><b>import</b></p>
<p>com . vector . cfg . model . sysdesc . api . com . ISignalGroupInstance</p>
<p><b>import</b></p>
<p>com . vector . cfg . model . sysdesc . api . com . ICommunicationElement</p>
<p>scriptTask (&quot; autoDatamapDoNotExpandNestedArrayElements &quot; ,</p>
<p>DV_PROJECT ){</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>dataMappings</p>
<p>=</p>
<p>selectCommunicationElements</p>
<p>{</p>
<p>}</p>
<p>autoMapTo</p>
<p>{</p>
<p>expandNestedArraysOfPrimitive</p>
<p><b>false</b></p>
<p>//</p>
<p>do</p>
<p>not</p>
<p>expand</p>
<p>nested</p>
<p>arrays</p>
<p>of</p>
<p>primitive</p>
<p>evaluateMatches</p>
<p>{</p>
<p>ICommunicationElement</p>
<p>communicationElement ,</p>
<p>IAbstractSignalInstance</p>
<p>optionalMatchedSignalInstance ,</p>
<p>List &lt; IAbstractSignalInstance &gt;</p>
<p>potentialSignalInstances</p>
<p>-&gt;</p>
<p><b>if</b></p>
<p>( &quot; App2 . rSRPort1 . Element_2 &quot; . equals ( communicationElement .</p>
<p>getFullyQualifiedName () ) )</p>
<p>{</p>
<p>//</p>
<p>manual</p>
<p>matching :</p>
<p>map</p>
<p>to</p>
<p>first</p>
<p>signal</p>
<p>group</p>
<p><b>for</b></p>
<p>( IAbstractSignalInstance</p>
<p>potentialSignal :</p>
<p>potentialSignalInstances )</p>
<p>{</p>
<p><b>if</b></p>
<p>( potentialSignal</p>
<p><b>instanceof</b></p>
<p>ISignalGroupInstance</p>
<p>)</p>
<p>{</p>
<p><b>return</b></p>
<p>potentialSignal</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p><b>if</b></p>
<p>( &quot; App2 . rSRPort1 . Element_2 . RecordElement &quot;. equals (</p>
<p>communicationElement . getFullyQualifiedName () ))</p>
<p>{</p>
<p>//</p>
<p>now</p>
<p>the</p>
<p>RecordElement</p>
<p>which</p>
<p>represents</p>
<p>an</p>
<p>array</p>
<p>is</p>
<p>directly</p>
<p>offered</p>
<p>to</p>
<p>map</p>
<p>//</p>
<p>....</p>
<p>}</p>
<p>optionalMatchedSignalInstance</p>
<p>}</p>
<p>}</p>
<p>scriptLogger . infoFormat ( &quot; Created</p>
<p>{0}</p>
<p>data</p>
<p>mappings . &quot; , dataMappings . size</p>
<p>() )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.221: Autodatamap and do not expand nested array elements</p>
<p>expandNestedArraysOfPrimitive(String,boolean) allows to control the expansion of nested</p>
<p>arrays of</p>
<p>primitive for single nested arrays.</p>
<p>Per default,</p>
<p>the expandNestedArraysOfPrimi-</p>
<p>tive(boolean) applies.</p>
<p>For the given fully qualified communication element name, the global</p>
<p>setting can be overridden.</p>
<p>The fully qualified communication element name is e.g.</p>
<p>determinable when using the data</p>
<p>mapping assistant,</p>
<p>performing an arbitrary signal</p>
<p>group mapping of</p>
<p>the root data element,</p>
<p>and using the right-mouse menu its ’Copy fully qualified name’</p>
<p>action on the nested array</p>
<p>element.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>176 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>import</b></p>
<p>com . vector . cfg . model . sysdesc . api . com . IAbstractSignalInstance</p>
<p><b>import</b></p>
<p>com . vector . cfg . model . sysdesc . api . com . ISignalGroupInstance</p>
<p><b>import</b></p>
<p>com . vector . cfg . model . sysdesc . api . com . ICommunicationElement</p>
<p>scriptTask (&quot; autoDatamapDoExpandSpecificNestedArrayElement &quot; ,</p>
<p>DV_PROJECT ){</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>dataMappings</p>
<p>=</p>
<p>selectCommunicationElements</p>
<p>{</p>
<p>}</p>
<p>autoMapTo</p>
<p>{</p>
<p>//</p>
<p>do</p>
<p>not</p>
<p>generally</p>
<p>expand</p>
<p>nested</p>
<p>arrays</p>
<p>of</p>
<p>primitive</p>
<p>expandNestedArraysOfPrimitive</p>
<p><b>false</b></p>
<p>//</p>
<p>but</p>
<p>expand</p>
<p>the</p>
<p>following</p>
<p>specific</p>
<p>record</p>
<p>element</p>
<p>expandNestedArraysOfPrimitive (&quot; App2 . rSRPort1 . Element_2 .</p>
<p>RecordElement &quot; ,<b> true</b> )</p>
<p>evaluateMatches</p>
<p>{</p>
<p>ICommunicationElement</p>
<p>communicationElement ,</p>
<p>IAbstractSignalInstance</p>
<p>optionalMatchedSignalInstance ,</p>
<p>List &lt; IAbstractSignalInstance &gt;</p>
<p>potentialSignalInstances</p>
<p>-&gt;</p>
<p><b>if</b></p>
<p>( &quot; App2 . rSRPort1 . Element_2 &quot;. equals (</p>
<p>communicationElement . getFullyQualifiedName () ))</p>
<p>{</p>
<p>//</p>
<p>manual</p>
<p>matching :</p>
<p>map</p>
<p>to</p>
<p>first</p>
<p>signal</p>
<p>group</p>
<p><b>for</b></p>
<p>( IAbstractSignalInstance</p>
<p>potentialSignal :</p>
<p>potentialSignalInstances )</p>
<p>{</p>
<p><b>if</b></p>
<p>( potentialSignal</p>
<p><b>instanceof</b></p>
<p>ISignalGroupInstance )</p>
<p>{</p>
<p><b>return</b></p>
<p>potentialSignal</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p><b>if</b></p>
<p>( &quot; App2 . rSRPort1 . Element_2 . RecordElement [0] &quot;. equals (</p>
<p>communicationElement . getFullyQualifiedName () ))</p>
<p>{</p>
<p>//</p>
<p>the</p>
<p>RecordElement</p>
<p>( representing</p>
<p>an</p>
<p>array</p>
<p>of</p>
<p>primitive )</p>
<p>is</p>
<p>expanded</p>
<p>to</p>
<p>map</p>
<p>the</p>
<p>single</p>
<p>array</p>
<p>elements</p>
<p>//</p>
<p>....</p>
<p>}</p>
<p>optionalMatchedSignalInstance</p>
<p>}</p>
<p>}</p>
<p>scriptLogger . infoFormat ( &quot; Created</p>
<p>{0}</p>
<p>data</p>
<p>mappings . &quot; , dataMappings . size</p>
<p>() )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.222: Autodatamap and do expand a specific nested array element</p>
<p><b>Simple API for data mapping</b></p>
<p>This API covers the use case when the names of the commu-</p>
<p>nication elements, which should be data mapped, are known, as well as the AUTOSAR paths</p>
<p>to the signal groups and signals.</p>
<p>The entry point is the selection of a communication element</p>
<p>and potentially also its child communication elements by using the fully qualified names.</p>
<p>communicationElement(String...) allows to select an ICommunicationElement and to do</p>
<p>further operations on it, e.g.</p>
<p>performing a data mapping.</p>
<p>For complex communication elements</p>
<p>also the children can be selected.</p>
<p>In such case the first communicationElementName has to be</p>
<p>the name of the root element.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>177 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>ISelectedCommunicationElement represents a selection of exactly one ICommunicationEle-</p>
<p>ment and provides further actions on it.</p>
<p>For complex communication elements, also a subset of</p>
<p>the child elements is represented.</p>
<p>mapTo(String...) creates an IDataMapping for the ICommunicationElement which is repre-</p>
<p>sented by this ISelectedCommunicationElement.</p>
<p>The mapped signal is the given abstractSig-</p>
<p>nalInstance.</p>
<p>In case of</p>
<p>a complex mapping first the system signal</p>
<p>group has to be referenced.</p>
<p>The child</p>
<p>mappings are created considering the given order or in other words,</p>
<p>the first communication</p>
<p>element is mapped to the first signal, the second element to the second signal and so on.</p>
<p>For a client server to signal</p>
<p>mapping,</p>
<p>select the operation communication element and enter</p>
<p>the paths to two serialized signals.</p>
<p>Which signal is the call and which one the return signal is</p>
<p>determined by the direction of the signals.</p>
<p>Hint:</p>
<p>Use ’ECU Composition’</p>
<p>or ’COMPOSITIONTYPE’</p>
<p>as component name to select com-</p>
<p>munication elements of delegation ports.</p>
<p>There are a few checks also for the simple API.</p>
<p>• Before creating the data mapping check if an equal mapping already exists.</p>
<p>Do not create</p>
<p>redundant mappings.</p>
<p>• Check that the amount of the selected communication elements is equal</p>
<p>to the amount</p>
<p>of</p>
<p>the selected signals.</p>
<p>For the client server use case there will</p>
<p>be one communication</p>
<p>element for the call direction and one for the return direction.</p>
<p>• Checks that the direction of the signal and communication element are compatible.</p>
<p>Checks</p>
<p>also the type compatibility of signal (group) and communication element.</p>
<p>An operation communication element can only be mapped to a serialized signal.</p>
<p>Records can only be mapped to serialized signals or signal groups.</p>
<p>Unions can only be mapped to serialized signals.</p>
<p>Arrays with complex array element can only be mapped to serialized signals or signal</p>
<p>groups.</p>
<p>Trigger communication elements cannot be mapped to signal groups.</p>
<p>• For the client server data mappings, check that exactly two singals are selected and that</p>
<p>both signals are serialized signals.</p>
<p>• Checks for complex mappings, that the first abstract signal instance is a signal group and</p>
<p>the other instances are group signals of this signal group.</p>
<p>• Check that the selected communication elements are suitable for data mapping.</p>
<p>That</p>
<p>means they should belong to a sender receiver, client server or a trigger port, which is not</p>
<p>a service port and not a PRPort.</p>
<p>• Check the hierarchy of the selected communication elements for complex mappings.</p>
<p>First</p>
<p>selected element should be the root element and all further selected elements children of</p>
<p>the root element.</p>
<p>• Check for the client server use case,</p>
<p>that exactly one communication element is selected</p>
<p>and the according communication element for the return signal</p>
<p>mapping can be found.</p>
<p>The communication element has to be an operation communication element.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>178 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>• Check for a complex mapping that the first selected communication element is really a</p>
<p>complex root element.</p>
<p><b>Examples</b></p>
<p>scriptTask</p>
<p>( &quot; createSimpleMapping &quot; ,</p>
<p>DV_PROJECT</p>
<p>){</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p>//</p>
<p>specify</p>
<p>path</p>
<p>to</p>
<p>the</p>
<p>system</p>
<p>signal</p>
<p><b>def</b></p>
<p>signalPath</p>
<p>=</p>
<p>&quot; / VectorAutosarExplorerGeneratedObjects /</p>
<p>SYSTEM_SIGNALS / Element_1_b16df82332bcf915 &quot;</p>
<p>//</p>
<p>enter</p>
<p>the</p>
<p>fully</p>
<p>qualified</p>
<p>communication</p>
<p>element</p>
<p>name</p>
<p>//</p>
<p>that</p>
<p>means</p>
<p>ComponentName . PortName . DataElementName</p>
<p><b>def</b></p>
<p>communicationElementName</p>
<p>=</p>
<p>&quot; App1 . pDataSend . Element &quot;</p>
<p><b>def</b></p>
<p>createdMapping</p>
<p>=</p>
<p>communicationElement (</p>
<p>communicationElementName ) . mapTo ( signalPath )</p>
<p>scriptLogger . infoFormat ( &quot; Mapped</p>
<p>'{0} '</p>
<p>to</p>
<p>'{1} '. &quot; ,</p>
<p>createdMapping . getMappedCommunicationElement () .</p>
<p>getFullyQualifiedName () ,</p>
<p>createdMapping . getMappedSystemSignal () . getAutosarPath () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.223: Create sender receiver to signal mapping</p>
<p>scriptTask</p>
<p>( &quot; mapDelegationPort &quot; ,</p>
<p>DV_PROJECT</p>
<p>) {</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>signalPath</p>
<p>=</p>
<p>&quot; / VectorAutosarExplorerGeneratedObjects /</p>
<p>SYSTEM_SIGNALS / Element_1_b16df82332bcf915 &quot;</p>
<p>//</p>
<p>for</p>
<p>delegation</p>
<p>ports</p>
<p>use</p>
<p>' ECU</p>
<p>Composition '</p>
<p>or</p>
<p>'</p>
<p>COMPOSITIONTYPE '</p>
<p>instead</p>
<p>of</p>
<p>the</p>
<p>component</p>
<p>name</p>
<p><b>def</b></p>
<p>communicationElementName</p>
<p>=</p>
<p>&quot; ECU</p>
<p>Composition .</p>
<p>pDelegationSRPort2 . Element &quot;</p>
<p><b>def</b></p>
<p>createdMapping</p>
<p>=</p>
<p>communicationElement (</p>
<p>communicationElementName ) . mapTo ( signalPath )</p>
<p>scriptLogger . infoFormat ( &quot; Mapped</p>
<p>'{0} '</p>
<p>to</p>
<p>'{1} '. &quot; ,</p>
<p>createdMapping . getMappedCommunicationElement () .</p>
<p>getFullyQualifiedName () ,</p>
<p>createdMapping . getMappedSystemSignal () . getAutosarPath () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.224: Create data mapping for delegation port</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>179 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>scriptTask</p>
<p>( &quot; createClientServerMapping &quot; ,</p>
<p>DV_PROJECT</p>
<p>) {</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>callSignalPath</p>
<p>=</p>
<p>&quot; / VectorAutosarExplorerGeneratedObjects /</p>
<p>SYSTEM_SIGNALS / rSRPort2_d4aecc362f1feef3 &quot;</p>
<p><b>def</b></p>
<p>returnSignalPath</p>
<p>=</p>
<p>&quot; / VectorAutosarExplorerGeneratedObjects /</p>
<p>SYSTEM_SIGNALS / pSRPort3_2264a06bc04fc81d &quot;</p>
<p>//</p>
<p>if</p>
<p>an</p>
<p>operation</p>
<p>communication</p>
<p>element</p>
<p>is</p>
<p>selected ,</p>
<p>a</p>
<p>client</p>
<p>server</p>
<p>to</p>
<p>signal</p>
<p>mapping</p>
<p>will</p>
<p>be</p>
<p>created</p>
<p>//</p>
<p>the</p>
<p>assignment</p>
<p>of</p>
<p>call</p>
<p>and</p>
<p>return</p>
<p>signal</p>
<p>role</p>
<p>is</p>
<p>depending</p>
<p>on</p>
<p>the</p>
<p>direction</p>
<p>of</p>
<p>the</p>
<p>signal</p>
<p><b>def</b></p>
<p>communicationElementName</p>
<p>=</p>
<p>&quot; ECU</p>
<p>Composition .</p>
<p>pDelegationCSPort1 . Operation &quot;</p>
<p><b>def</b></p>
<p>createdMapping</p>
<p>=</p>
<p>communicationElement (</p>
<p>communicationElementName ) . mapTo ( callSignalPath ,</p>
<p>returnSignalPath )</p>
<p>scriptLogger . infoFormat ( &quot; Mapped</p>
<p>'{0} '</p>
<p>to</p>
<p>'{1} '</p>
<p>as</p>
<p>call</p>
<p>signal</p>
<p>and</p>
<p>'{2} '</p>
<p>as</p>
<p>return</p>
<p>signal . &quot; ,</p>
<p>createdMapping . getMappedCommunicationElement () .</p>
<p>getFullyQualifiedName () ,</p>
<p>createdMapping . getMappedSystemSignal () . getAutosarPath () ,</p>
<p>createdMapping . getMappedReturnSignal () . getAutosarPath () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.225: Create client server to signal mapping</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>180 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>import</b></p>
<p>com . vector . cfg . model . sysdesc . api . com . ISenderReceiverDataMapping</p>
<p>scriptTask</p>
<p>( &quot; mapRecordToSignalGroup &quot; ,</p>
<p>DV_PROJECT</p>
<p>) {</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p>//</p>
<p>specify</p>
<p>the</p>
<p>path</p>
<p>to</p>
<p>the</p>
<p>signal</p>
<p>group</p>
<p><b>def</b></p>
<p>signalGroup</p>
<p>=</p>
<p>&quot; / VectorAutosarExplorerGeneratedObjects /</p>
<p>SYSTEM_SIGNAL_GROUPS / Element_2_de8db6949370c6b4 &quot;</p>
<p>//</p>
<p>specify</p>
<p>the</p>
<p>paths</p>
<p>to</p>
<p>the</p>
<p>group</p>
<p>signals</p>
<p>of</p>
<p>the</p>
<p>signal</p>
<p>group</p>
<p><b>def</b></p>
<p>groupSignal1</p>
<p>=</p>
<p>&quot;/ VectorAutosarExplorerGeneratedObjects /</p>
<p>SYSTEM_SIGNALS / ay1_48523fe229ba8c99 &quot;</p>
<p><b>def</b></p>
<p>groupSignal2</p>
<p>=</p>
<p>&quot;/ VectorAutosarExplorerGeneratedObjects /</p>
<p>SYSTEM_SIGNALS / ay2_071a3305d39fcca4 &quot;</p>
<p><b>def</b></p>
<p>groupSignal3</p>
<p>=</p>
<p>&quot;/ VectorAutosarExplorerGeneratedObjects /</p>
<p>SYSTEM_SIGNALS / ay3_84eba37e401eacd1 &quot;</p>
<p>//</p>
<p>the</p>
<p>name</p>
<p>of</p>
<p>the</p>
<p>root</p>
<p>element</p>
<p><b>def</b></p>
<p>record</p>
<p>=</p>
<p>&quot; ECU</p>
<p>Composition . pDelegationSRPort1 . Element_2 &quot;</p>
<p>//</p>
<p>the</p>
<p>names</p>
<p>of</p>
<p>the</p>
<p>child</p>
<p>elements</p>
<p><b>def</b></p>
<p>recordElement1</p>
<p>=</p>
<p>&quot; ECU</p>
<p>Composition . pDelegationSRPort1 .</p>
<p>Element_2 . RecordElement &quot;</p>
<p><b>def</b></p>
<p>recordElement2</p>
<p>=</p>
<p>&quot; ECU</p>
<p>Composition . pDelegationSRPort1 .</p>
<p>Element_2 . RecordElement_1 &quot;</p>
<p><b>def</b></p>
<p>recordElement3</p>
<p>=</p>
<p>&quot; ECU</p>
<p>Composition . pDelegationSRPort1 .</p>
<p>Element_2 . RecordElement_2 &quot;</p>
<p>//</p>
<p>create</p>
<p>the</p>
<p>mapping ,</p>
<p>first</p>
<p>argument</p>
<p>should</p>
<p>be</p>
<p>the</p>
<p>root</p>
<p>element ,</p>
<p>followed</p>
<p>by</p>
<p>the</p>
<p>leaf</p>
<p>elements</p>
<p>for</p>
<p>the</p>
<p>child</p>
<p>mappings</p>
<p>//</p>
<p>for</p>
<p>the</p>
<p>signals ,</p>
<p>first</p>
<p>argument</p>
<p>should</p>
<p>be</p>
<p>the</p>
<p>signal</p>
<p>group ,</p>
<p>followed</p>
<p>by</p>
<p>the</p>
<p>group</p>
<p>signals</p>
<p>//</p>
<p>the</p>
<p>mapping</p>
<p>will</p>
<p>be</p>
<p>done</p>
<p>using</p>
<p>the</p>
<p>given</p>
<p>order</p>
<p>//</p>
<p>e . g .</p>
<p>the</p>
<p>first</p>
<p>element</p>
<p>( record )</p>
<p>will</p>
<p>be</p>
<p>mapped</p>
<p>to</p>
<p>the</p>
<p>signal</p>
<p>group</p>
<p>( signalGroup ) ,</p>
<p>//</p>
<p>the</p>
<p>last</p>
<p>record</p>
<p>element</p>
<p>( recordElement3 )</p>
<p>will</p>
<p>be</p>
<p>mapped</p>
<p>to</p>
<p>the</p>
<p>last</p>
<p>group</p>
<p>signal</p>
<p>( groupSignal3 )</p>
<p><b>def</b></p>
<p>createdMapping</p>
<p>=</p>
<p>communicationElement ( record ,</p>
<p>recordElement1 ,</p>
<p>recordElement2 ,</p>
<p>recordElement3 )</p>
<p>. mapTo ( signalGroup ,</p>
<p>groupSignal1 ,</p>
<p>groupSignal2 ,</p>
<p>groupSignal3 )</p>
<p>scriptLogger . infoFormat ( &quot; Mapped</p>
<p>'{0} '</p>
<p>to</p>
<p>'{1} '. &quot; ,</p>
<p>createdMapping . getMappedCommunicationElement () .</p>
<p>getFullyQualifiedName () ,</p>
<p>createdMapping . getMappedSystemSignal () . getAutosarPath () )</p>
<p>//</p>
<p>print</p>
<p>info</p>
<p>for</p>
<p>the</p>
<p>child</p>
<p>mappings</p>
<p><b>for</b></p>
<p>(<b> final</b></p>
<p>ISenderReceiverDataMapping</p>
<p>childMapping</p>
<p>:</p>
<p>createdMapping . getChildDataMappings () )</p>
<p>{</p>
<p>scriptLogger . infoFormat (&quot; Mapped</p>
<p>'{0} '</p>
<p>to</p>
<p>'{1} '. &quot; ,</p>
<p>childMapping . getMappedCommunicationElement () .</p>
<p>getFullyQualifiedName () ,</p>
<p>childMapping . getMappedSystemSignal () . getAutosarPath () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.226: Map record to signal group</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>181 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>import</b></p>
<p>com . vector . cfg . model . sysdesc . api . com . ISenderReceiverDataMapping</p>
<p>scriptTask</p>
<p>( &quot; mapArrayToSignalGroup &quot; ,</p>
<p>DV_PROJECT</p>
<p>) {</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p>//</p>
<p>specify</p>
<p>the</p>
<p>path</p>
<p>to</p>
<p>the</p>
<p>signal</p>
<p>group</p>
<p><b>def</b></p>
<p>signalGroup</p>
<p>=</p>
<p>&quot; / VectorAutosarExplorerGeneratedObjects /</p>
<p>SYSTEM_SIGNAL_GROUPS / Element_2_de8db6949370c6b4 &quot;</p>
<p>//</p>
<p>specify</p>
<p>the</p>
<p>paths</p>
<p>to</p>
<p>the</p>
<p>group</p>
<p>signals</p>
<p>of</p>
<p>the</p>
<p>signal</p>
<p>group</p>
<p><b>def</b></p>
<p>groupSignal1</p>
<p>=</p>
<p>&quot;/ VectorAutosarExplorerGeneratedObjects /</p>
<p>SYSTEM_SIGNALS / ay1_48523fe229ba8c99 &quot;</p>
<p><b>def</b></p>
<p>groupSignal2</p>
<p>=</p>
<p>&quot;/ VectorAutosarExplorerGeneratedObjects /</p>
<p>SYSTEM_SIGNALS / ay2_071a3305d39fcca4 &quot;</p>
<p><b>def</b></p>
<p>groupSignal3</p>
<p>=</p>
<p>&quot;/ VectorAutosarExplorerGeneratedObjects /</p>
<p>SYSTEM_SIGNALS / ay3_84eba37e401eacd1 &quot;</p>
<p>//</p>
<p>the</p>
<p>name</p>
<p>of</p>
<p>the</p>
<p>root</p>
<p>element</p>
<p><b>def</b></p>
<p>array</p>
<p>=</p>
<p>&quot; ECU</p>
<p>Composition . pDelegationSRPort2 . Element_1 &quot;</p>
<p>//</p>
<p>select</p>
<p>the</p>
<p>element</p>
<p>of</p>
<p>the</p>
<p>array</p>
<p>using</p>
<p>the</p>
<p>position</p>
<p>index</p>
<p>of</p>
<p>the</p>
<p>element</p>
<p><b>def</b></p>
<p>arrayElement1</p>
<p>=</p>
<p>&quot; ECU</p>
<p>Composition . pDelegationSRPort2 .</p>
<p>Element_1 [0] &quot;</p>
<p><b>def</b></p>
<p>arrayElement2</p>
<p>=</p>
<p>&quot; ECU</p>
<p>Composition . pDelegationSRPort2 .</p>
<p>Element_1 [1] &quot;</p>
<p><b>def</b></p>
<p>arrayElement3</p>
<p>=</p>
<p>&quot; ECU</p>
<p>Composition . pDelegationSRPort2 .</p>
<p>Element_1 [2] &quot;</p>
<p><b>def</b></p>
<p>createdMapping</p>
<p>=</p>
<p>communicationElement ( array ,</p>
<p>arrayElement1 ,</p>
<p>arrayElement2 ,</p>
<p>arrayElement3 )</p>
<p>. mapTo ( signalGroup ,</p>
<p>groupSignal1 ,</p>
<p>groupSignal2 ,</p>
<p>groupSignal3 )</p>
<p>scriptLogger . infoFormat ( &quot; Mapped</p>
<p>'{0} '</p>
<p>to</p>
<p>'{1} '. &quot; ,</p>
<p>createdMapping . getMappedCommunicationElement () .</p>
<p>getFullyQualifiedName () ,</p>
<p>createdMapping . getMappedSystemSignal () . getAutosarPath () )</p>
<p>//</p>
<p>print</p>
<p>info</p>
<p>for</p>
<p>the</p>
<p>child</p>
<p>mappings</p>
<p><b>for</b></p>
<p>(<b> final</b></p>
<p>ISenderReceiverDataMapping</p>
<p>childMapping</p>
<p>:</p>
<p>createdMapping . getChildDataMappings () )</p>
<p>{</p>
<p>scriptLogger . infoFormat (&quot; Mapped</p>
<p>'{0} '</p>
<p>to</p>
<p>'{1} '. &quot; ,</p>
<p>childMapping . getMappedCommunicationElement () .</p>
<p>getFullyQualifiedName () ,</p>
<p>childMapping . getMappedSystemSignal () . getAutosarPath () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.227: Map array to signal group</p>
<p><b>Terminating Component Ports of Communication Elements</b></p>
<p>Port Terminators can be used</p>
<p>to acknowledge the fact, that the port is not connected yet.</p>
<p>This will prevent validation rules</p>
<p>to produce validation results reporting these ports as unconnected or missing data mappings</p>
<p>for these ports.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>182 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>terminateOwnerPorts() terminates the IComponentPorts of</p>
<p>all</p>
<p>selected ICommunicationE-</p>
<p>lements.</p>
<p>If one of the selected ports is already terminated or connected to another component</p>
<p>port, the port will be ignored.</p>
<p>The termination of</p>
<p>component ports disables the validation of</p>
<p>these ports.</p>
<p>In other words,</p>
<p>these ports are acknowledged as not connected yet.</p>
<p>This should give a better overview of the</p>
<p>open ports, which still have to be connected or need a data mapping.</p>
<p>removePortTerminatorsForOwnerPorts() removes the port terminators of the IComponent-</p>
<p>Ports of all selected ICommunicationElements.</p>
<p>See terminateOwnerPorts() for more information about the purpose of terminating ports.</p>
<p><b>Examples</b></p>
<p><b>import</b></p>
<p>com . vector . cfg . model . sysdesc . api . port . IComponentPort</p>
<p>scriptTask (&quot; terminatePort &quot; ,</p>
<p>DV_PROJECT ) {</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p>//</p>
<p>the</p>
<p>the</p>
<p>statements</p>
<p>below</p>
<p>will</p>
<p>return</p>
<p>us</p>
<p>a</p>
<p>collection</p>
<p>with</p>
<p>all</p>
<p>component</p>
<p>ports</p>
<p>which</p>
<p>will</p>
<p>be</p>
<p>terminated</p>
<p><b>def</b></p>
<p>terminatedPorts</p>
<p>=</p>
<p>selectCommunicationElements</p>
<p>{</p>
<p>//</p>
<p>also</p>
<p>for</p>
<p>the</p>
<p>communication</p>
<p>elements</p>
<p>there</p>
<p>are</p>
<p>predicates</p>
<p>to</p>
<p>filter</p>
<p>for</p>
<p>terminated</p>
<p>owner</p>
<p>ports</p>
<p>ownerPortNotTerminated ()</p>
<p>port ( &quot; pSRPort1 &quot; )</p>
<p>//</p>
<p>this</p>
<p>call</p>
<p>will</p>
<p>terminate</p>
<p>the</p>
<p>component</p>
<p>port</p>
<p>owner</p>
<p>of</p>
<p>each</p>
<p>selected</p>
<p>communication</p>
<p>element</p>
<p>}</p>
<p>terminateOwnerPorts ()</p>
<p>//</p>
<p>if</p>
<p>multiple</p>
<p>communication</p>
<p>elements</p>
<p>has</p>
<p>the</p>
<p>same</p>
<p>component</p>
<p>port</p>
<p>owner</p>
<p>//</p>
<p>the</p>
<p>component</p>
<p>port</p>
<p>will</p>
<p>be</p>
<p>terminated</p>
<p>and</p>
<p>returned</p>
<p>only</p>
<p>once</p>
<p><b>for</b></p>
<p>(<b> final</b></p>
<p>IComponentPort</p>
<p>terminatedPort</p>
<p>:</p>
<p>terminatedPorts )</p>
<p>{</p>
<p>scriptLogger . infoFormat ( &quot; Terminated</p>
<p>component</p>
<p>port</p>
<p>'{0} '. &quot; ,</p>
<p>terminatedPort . getName () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.228: Terminate port using the communication element selection API</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>183 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>import</b></p>
<p>com . vector . cfg . model . sysdesc . api . port . IComponentPort</p>
<p>scriptTask (&quot; removePortTerminator &quot; ,</p>
<p>DV_PROJECT ) {</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p>//</p>
<p>the</p>
<p>statements</p>
<p>below</p>
<p>will</p>
<p>return</p>
<p>us</p>
<p>a</p>
<p>collection</p>
<p>with</p>
<p>all</p>
<p>component</p>
<p>ports</p>
<p>for</p>
<p>which</p>
<p>a</p>
<p>port</p>
<p>terminator</p>
<p>was</p>
<p>removed</p>
<p><b>def</b></p>
<p>removedPortTerminators</p>
<p>=</p>
<p>selectCommunicationElements</p>
<p>{</p>
<p>component ( &quot; App1_1 &quot; )</p>
<p>port ( &quot; pSRPort1 &quot; )</p>
<p>//</p>
<p>if</p>
<p>a</p>
<p>port</p>
<p>is</p>
<p>not</p>
<p>terminated</p>
<p>it</p>
<p>will</p>
<p>be</p>
<p>skipped</p>
<p>}</p>
<p>removePortTerminatorsForOwnerPorts ()</p>
<p><b>for</b></p>
<p>(<b> final</b></p>
<p>IComponentPort</p>
<p>componentPort</p>
<p>:</p>
<p>removedPortTerminators )</p>
<p>{</p>
<p>scriptLogger . infoFormat ( &quot; Removed</p>
<p>port</p>
<p>terminator</p>
<p>of</p>
<p>component</p>
<p>port</p>
<p>'{0} '. &quot; ,</p>
<p>componentPort . getName () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.229: Remove port terminator using the communication element selection API</p>
<p><b>4.10.4.3 Create Component Prototypes</b></p>
<p>In the create component prototypes use case, components can be instantiated after a component</p>
<p>type was selected.</p>
<p><b>Selecting component types to instantiate</b></p>
<p>The entry point is to select a collection of compo-</p>
<p>nent types and create prototypes for them.</p>
<p>selectComponentTypes(Closure) allows the selection of</p>
<p>IComponentTypes using predicates.</p>
<p><b>Predicates</b></p>
<p>To select the component types predicates can be provided to narrow down the</p>
<p>types that should be instantiated.</p>
<p>Per default the predicates are combined via logical</p>
<p>AND.</p>
<p>To realize other combinations,</p>
<p>use</p>
<p>the ’or’,’not’ and ’and’ predicates.</p>
<p><b>Component Type Predicates</b></p>
<p>• name(String) matches component types with the given component type name.</p>
<p>• name(Pattern) matches component types with the given component type name pattern.</p>
<p>• asrPath(String) matches component types with the given componet type autosar path.</p>
<p>• asrPath(Pattern) matches component types with the given component type autosar</p>
<p>path pattern.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>184 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>• component(String) matches component types for which a component prototype with the</p>
<p>given component name exists.</p>
<p>• component(Pattern) matches component types for which a component prototype with</p>
<p>the given component name pattern exists.</p>
<p>• application() matches component types which are application component types.</p>
<p>Appli-</p>
<p>cation component types are all component types which are not service component types, as</p>
<p>displayed in the ECU Software Components Editor, not ApplicationSwComponentTypes</p>
<p>as defined by AUTOSAR.</p>
<p>• service() matches component types which are service component types.</p>
<p>• parameter() matches component types which are parameter (calibration) component</p>
<p>types.</p>
<p>• nvBlock() matches component types which are nv block component types.</p>
<p>• sensorActuator() matches component types which are sensor actuator component types.</p>
<p>• ioHwAbstraction() matches component types which are I/O hardware abstraction com-</p>
<p>ponent types, also called EcuAbstractionSwComponentType.</p>
<p>• complexDeviceDriver() matches component types which are complex device driver com-</p>
<p>ponent types.</p>
<p>• serviceProxy() matches component types which are service proxy component types.</p>
<p>• instantiated() matches component types that are already instantiated.</p>
<p>In other words</p>
<p>matches if a component prototype of that component type already exists.</p>
<p>• supportsMultipleInstantiation() matches component types which support multiple</p>
<p>instantiation.</p>
<p>• filterAdvanced(Closure) matches component types for which the given closure results</p>
<p>to true.</p>
<p>• and(Closure) combines the predicates inside the closure with a logical AND.</p>
<p>• or(Closure) combines the predicates inside the closure with a logical OR.</p>
<p>• not(Closure) negates the combination of predicates inside the closure.</p>
<p><b>Examples</b></p>
<p>scriptTask</p>
<p>( &quot; selectComponentTypeByName &quot; ,</p>
<p>DV_PROJECT</p>
<p>) {</p>
<p>code</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>selectedComponentTypes</p>
<p>=</p>
<p>selectComponentTypes</p>
<p>{</p>
<p>name</p>
<p>&quot; App1 &quot;</p>
<p>}. getComponentTypes ()</p>
<p>scriptLogger . infoFormat ( &quot; Selected</p>
<p>'{0} '</p>
<p>component</p>
<p>types . &quot; ,</p>
<p>selectedComponentTypes . size () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.230: Select component type by name</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>185 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>scriptTask</p>
<p>( &quot; selectNotInstantiatedComponentTypes &quot; ,</p>
<p>DV_PROJECT</p>
<p>){</p>
<p>code</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>selectedComponentTypes</p>
<p>=</p>
<p>selectComponentTypes</p>
<p>{</p>
<p>not</p>
<p>{</p>
<p>instantiated ()</p>
<p>}</p>
<p>}. getComponentTypes ()</p>
<p>scriptLogger . infoFormat ( &quot; Selected</p>
<p>'{0} '</p>
<p>component</p>
<p>types . &quot; ,</p>
<p>selectedComponentTypes . size () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.231: Select not instantiated component types</p>
<p><b>Instantiate Components</b></p>
<p>The use case of instantiating components is based on the selection</p>
<p>of component types.</p>
<p>createPrototype() creates a SwComponentPrototype in the FlatExtract for each selected</p>
<p>component type.</p>
<p>The names of</p>
<p>the created SwComponentPrototypes are derived from the</p>
<p>selected component types.</p>
<p><b>Examples for createPrototype()</b></p>
<p>scriptTask</p>
<p>( &quot; createComponentPrototypesForNotInstantiatedTypes &quot; ,</p>
<p>DV_PROJECT</p>
<p>) {</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>createdComponents</p>
<p>=</p>
<p>selectComponentTypes</p>
<p>{</p>
<p>not</p>
<p>{</p>
<p>instantiated ()</p>
<p>}</p>
<p>}. createPrototype ()</p>
<p>scriptLogger . infoFormat ( &quot; Created</p>
<p>'{0} '</p>
<p>component</p>
<p>prototypes . &quot; ,</p>
<p>createdComponents . size () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.232: Create component prototypes for not instantiated types</p>
<p><b>Specify the component prototype instantiation in createPrototypeWith(Closure)</b></p>
<p>IComponentPrototypeCreator provides an Api</p>
<p>to control</p>
<p>some aspects,</p>
<p>e.g.</p>
<p>the naming,</p>
<p>of</p>
<p>newly created components.</p>
<p>• name(Closure) computes a name for the component prototypes that should be created</p>
<p>for, by the IComponentTypeSelection provided, component types.</p>
<p>• count(int) defines how many component prototypes should be created for each selected</p>
<p>component type.</p>
<p>The default is 1.</p>
<p><b>Examples for customizing the instantiation</b></p>
<p>© 2018, Vector Informatik GmbH</p>
<p>186 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>import</b></p>
<p>com . vector . cfg . model . sysdesc . api . component . IComponentType</p>
<p>scriptTask</p>
<p>( &quot; specifyNameOfCreatedComponent &quot; ,</p>
<p>DV_PROJECT</p>
<p>){</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>createdComponents</p>
<p>=</p>
<p>selectComponentTypes</p>
<p>{</p>
<p>application ()</p>
<p>}. createPrototypeWith</p>
<p>{</p>
<p>name</p>
<p>{</p>
<p>//</p>
<p>define</p>
<p>the</p>
<p>naming</p>
<p>of</p>
<p>new</p>
<p>created</p>
<p>prototypes</p>
<p>IComponentType</p>
<p>type</p>
<p>-&gt;</p>
<p>type . getName ()</p>
<p>+</p>
<p>&quot; _postfix &quot;</p>
<p>}</p>
<p>}</p>
<p>scriptLogger . infoFormat ( &quot; Created</p>
<p>'{0} '</p>
<p>component</p>
<p>prototypes . &quot; ,</p>
<p>createdComponents . size () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.233: Specify name of created component</p>
<p><b>import</b></p>
<p>com . vector . cfg . model . sysdesc . api . component . IComponentType</p>
<p>scriptTask</p>
<p>( &quot; specifyNameOfCreatedComponent &quot; ,</p>
<p>DV_PROJECT</p>
<p>){</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>createdComponents</p>
<p>=</p>
<p>selectComponentTypes</p>
<p>{</p>
<p>name</p>
<p>~ &quot; App .* &quot;</p>
<p>}. createPrototypeWith</p>
<p>{</p>
<p>name</p>
<p>{</p>
<p>//</p>
<p>you</p>
<p>can</p>
<p>still</p>
<p>define</p>
<p>a</p>
<p>naming</p>
<p>pattern</p>
<p>IComponentType</p>
<p>type</p>
<p>-&gt;</p>
<p>type . getName ()</p>
<p>+</p>
<p>&quot; _CP &quot;</p>
<p>}</p>
<p>//</p>
<p>and</p>
<p>at</p>
<p>the</p>
<p>same</p>
<p>time</p>
<p>define</p>
<p>how</p>
<p>many</p>
<p>prototypes</p>
<p>should</p>
<p>be</p>
<p>created</p>
<p>for</p>
<p>each</p>
<p>component</p>
<p>type</p>
<p>count (3)</p>
<p>}</p>
<p>scriptLogger . infoFormat ( &quot; Created</p>
<p>'{0} '</p>
<p>component</p>
<p>prototypes . &quot; ,</p>
<p>createdComponents . size () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.234: Create more than 1 component prototype</p>
<p><b>4.10.4.4 Bridge between MDF and model</b></p>
<p><b>abstractions</b></p>
<p>The Runtime System Domain uses model abstractions to simplify the structure of the AUTO-</p>
<p>SAR model.</p>
<p>IModelAbstraction is the common super interface for all model abstractions (as e.g.</p>
<p>Object</p>
<p>for all</p>
<p>java classes).</p>
<p>It defines common functionality which all</p>
<p>model</p>
<p>abstractions provide for</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>187 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>generic handling of model abstractions.</p>
<p>On MDF level the base interface for AUTOSAR model objects is the MIObject.</p>
<p>It is possible to switch between model</p>
<p>abstractions and MDF objects.</p>
<p>This might be helpful</p>
<p>for advanced script tasks that extend the current scope of the model abstractions.</p>
<p>getModelAbstractionsForMdfObjects(Collection) is a method for an arbitrary access to all</p>
<p>model abstractions which correspond to the given collection of MDF objects.</p>
<p>getMdfObject() is a bridge from the IModelAbstraction to the underlying MDF object.</p>
<p>For</p>
<p>compound model</p>
<p>abstractions,</p>
<p>the main object will</p>
<p>be returned,</p>
<p>e.g.</p>
<p>returns the port for a</p>
<p>component port.</p>
<p><b>Example for navigating between MDF model and model abstractions</b></p>
<p>© 2018, Vector Informatik GmbH</p>
<p>188 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>import</b></p>
<p>com . vector . cfg . model . access . IReferrableAccess</p>
<p><b>import</b></p>
<p>java . util . Collections</p>
<p><b>import</b></p>
<p>com . vector . cfg . model . abstraction . api . IModelAbstraction</p>
<p><b>import</b></p>
<p>com . vector . cfg . model . sysdesc . api . com . IAbstractSignalInstance</p>
<p>scriptTask</p>
<p>( &quot; switchBetweenMdfAndModelAbstraction &quot; ,</p>
<p>DV_PROJECT</p>
<p>){</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p>//</p>
<p>--------------------------------------------------</p>
<p>//</p>
<p>get</p>
<p>a</p>
<p>model</p>
<p>abstraction</p>
<p>object</p>
<p>for</p>
<p>your</p>
<p>MDF</p>
<p>object</p>
<p>//</p>
<p>--------------------------------------------------</p>
<p><b>def</b></p>
<p>referrableAccess</p>
<p>=</p>
<p>ScriptApi . activeProject . getInstance (</p>
<p>IReferrableAccess )</p>
<p>//</p>
<p>get</p>
<p>some</p>
<p>MDF</p>
<p>objects</p>
<p>by</p>
<p>e. g.</p>
<p>using</p>
<p>the</p>
<p>referrable</p>
<p>access</p>
<p><b>def</b></p>
<p>mdfSystemSignal</p>
<p>=</p>
<p>referrableAccess . getReferrableByPath (&quot;/</p>
<p>VectorAutosarExplorerGeneratedObjects / SYSTEM_SIGNALS /</p>
<p>Element_1_b16df82332bcf915 &quot;)</p>
<p><b>def</b></p>
<p>mdfObjects</p>
<p>=</p>
<p>Collections . singletonList ( mdfSystemSignal )</p>
<p>//</p>
<p>get</p>
<p>the</p>
<p>model</p>
<p>abstractions</p>
<p>for</p>
<p>the</p>
<p>MDF</p>
<p>objects</p>
<p><b>def</b></p>
<p>modelAbstractions</p>
<p>=</p>
<p>getModelAbstractionsForMdfObjects (</p>
<p>mdfObjects )</p>
<p>//</p>
<p>for</p>
<p>the</p>
<p>system</p>
<p>signal</p>
<p>an</p>
<p>IAbstractSignalInstance</p>
<p>is</p>
<p>returned</p>
<p>,</p>
<p>if</p>
<p>it</p>
<p>is</p>
<p>referenced</p>
<p>by</p>
<p>at</p>
<p>least</p>
<p>one</p>
<p>ISignal</p>
<p>//</p>
<p>so</p>
<p>there</p>
<p>will</p>
<p>be</p>
<p>exactly</p>
<p>one</p>
<p>model</p>
<p>abstraction</p>
<p>in</p>
<p>the</p>
<p>collection</p>
<p>in</p>
<p>this</p>
<p>example</p>
<p><b>def</b></p>
<p>signalInstanceModelAbstraction</p>
<p><b>for</b></p>
<p>( IModelAbstraction</p>
<p>modelAbstraction</p>
<p>:</p>
<p>modelAbstractions )</p>
<p>{</p>
<p><b>if</b></p>
<p>( modelAbstraction</p>
<p><b>instanceof</b></p>
<p>IAbstractSignalInstance )</p>
<p>{</p>
<p>signalInstanceModelAbstraction</p>
<p>=</p>
<p>modelAbstraction</p>
<p>}</p>
<p>}</p>
<p><b>if</b></p>
<p>( signalInstanceModelAbstraction</p>
<p>==</p>
<p><b>null</b> )</p>
<p>{</p>
<p>scriptLogger . infoFormat (&quot; System</p>
<p>Signal</p>
<p>'{0} '</p>
<p>is</p>
<p>not</p>
<p>referenced</p>
<p>by</p>
<p>any</p>
<p>ISignals &quot; ,</p>
<p>mdfSystemSignal . getName () )</p>
<p>}</p>
<p>//</p>
<p>--------------------------------------------------</p>
<p>//</p>
<p>get</p>
<p>a</p>
<p>MDF</p>
<p>object</p>
<p>for</p>
<p>your</p>
<p>model</p>
<p>abstraction</p>
<p>object</p>
<p>//</p>
<p>--------------------------------------------------</p>
<p><b>def</b></p>
<p>mdfObject</p>
<p>=</p>
<p>signalInstanceModelAbstraction . getMdfObject ()</p>
<p>//</p>
<p>now</p>
<p>the</p>
<p>system</p>
<p>signal</p>
<p>can</p>
<p>be</p>
<p>used</p>
<p>on</p>
<p>MDF</p>
<p>level</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.235: Switch between MDF and model abstraction example</p>
<p><b>4.10.4.5 Task Mapping</b></p>
<p>The task mapping use case allows to map events (also called triggers) to tasks.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>189 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>Events</b></p>
<p>An event IEvent (called AbstractEvent in AUTOSAR) represents a RTEEvent or a</p>
<p>BswEvent.</p>
<p>Events are raised on different conditions and are used to implement application or</p>
<p>basic software in AUTOSAR. (Sometimes they are also called triggers.)</p>
<p><b>Executable Entities</b></p>
<p>An executable entity (IExecutableEntity) represents a RunnableEntity</p>
<p>or a BswSchedulableEntity.</p>
<p>Both are abstractions of executable code in AUTOSAR. (Sometimes</p>
<p>they are also called functions.)</p>
<p><b>Task Mappings</b></p>
<p>A task mapping (ITaskMapping) represents an IEvent (also called trigger)</p>
<p>that is mapped to a task in the context of a component prototype or a module configuration.</p>
<p>It corresponds to the task mapping container in the RTE configuration.</p>
<p>The entry point for the task mapping is either to select events (triggers) or executable entities</p>
<p>(functions).</p>
<p>After that a task can be selected and the task mappings customized.</p>
<p><b>Selecting and task mapping events</b></p>
<p>selectEvents(Closure) allows the selection of IEvents</p>
<p>using predicates.</p>
<p>Per default the predicates are combined via logical</p>
<p>AND.</p>
<p>To realize other combinations,</p>
<p>use</p>
<p>the ’or’,’not’ and ’and’ predicates.</p>
<p><b>Event Predicates</b></p>
<p>• name(String) matches events (triggers) with the given event name.</p>
<p>• name(Pattern) matches events (triggers) with the given event name pattern.</p>
<p>• asrPath(String) matches events (triggers) with the given event autosar path.</p>
<p>• asrPath(Pattern) matches events (triggers) with the given event autosar path pattern.</p>
<p>• component(String) matches events (triggers) which belong to components with the given</p>
<p>component name.</p>
<p>• component(Pattern) matches events (triggers) which belong to components which mat-</p>
<p>ches the given component name pattern.</p>
<p>• componentType(String) matches events (triggers) which are part of the internal behavior</p>
<p>of component types with the given component type name.</p>
<p>• componentType(Pattern) matches events (triggers) which are part of the internal beha-</p>
<p>vior of component types which matches the given component type name pattern.</p>
<p>• componentTypeAsrPath(String) matches events (triggers) which are part of the internal</p>
<p>behavior of component types with the given component type autosar path.</p>
<p>• componentTypeAsrPath(Pattern) matches events (triggers) which are part of the internal</p>
<p>behavior of</p>
<p>component types whose autosar path matches the given component type</p>
<p>autosar path pattern.</p>
<p>• moduleConfiguration(String) matches events (triggers) which belong to module confi-</p>
<p>gurations with the given module configuration name.</p>
<p>• moduleConfiguration(Pattern) matches events (triggers) which belong to module con-</p>
<p>figurations which matches the given module configuration name pattern.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>190 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>• moduleConfigurationAsrPath(String) matches events (triggers) which belong to mo-</p>
<p>dule configurations with the given module configuration autosar path.</p>
<p>• moduleConfigurationAsrPath(Pattern) matches events (triggers) which belong to mo-</p>
<p>dule configurations whose autosar path matches the given module configuration autosar</p>
<p>path pattern.</p>
<p>• task(String) matches events (triggers) which are mapped to a task with the given task</p>
<p>name.</p>
<p>• task(Pattern) matches events (triggers) which are mapped to a task whose name matches</p>
<p>the given task name pattern.</p>
<p>• bswEvent() matches events (triggers) which are bsw events.</p>
<p>• rteEvent() matches events (triggers) which are rte events.</p>
<p>• unmapped() matches unmapped events (triggers).</p>
<p>In case of multi</p>
<p>instantiated compo-</p>
<p>nents/modules matches if</p>
<p>unmapped at least in one context.</p>
<p>Use fullyUnmapped() to</p>
<p>determine whether an event is unmapped in all contexts.</p>
<p>• fullyUnmapped() matches events (triggers) which are not mapped in any context.</p>
<p>If no</p>
<p>multi instantiation is used, the result is the same as for unmapped().</p>
<p>• mapped() matches mapped events (triggers).</p>
<p>In case of multi instantiated components/-</p>
<p>modules matches if</p>
<p>mapped at least in one context.</p>
<p>Use fullyMapped() to determine</p>
<p>whether an event is mapped in all contexts.</p>
<p>• fullyMapped() matches events (triggers) which are mapped in every context.</p>
<p>If no multi</p>
<p>instantiation is used, the result is the same as for mapped().</p>
<p>• timing() matches events which are timing events (triggers).</p>
<p>• timing(BigDecimal) matches events (triggers) which are timing events with the given</p>
<p>period (seconds).</p>
<p>• init() matches events (triggers) which are init events.</p>
<p>• dataReception() matches events (triggers) which are data received events.</p>
<p>• dataReceptionError() matches events (triggers) which are data receive error events.</p>
<p>• dataSendCompletion() matches events (triggers) which are data send completed events.</p>
<p>• operationInvoked() matches events (triggers) which are operation invoked events.</p>
<p>• operationInvoked(String) matches operation invoked events (triggers) which are invo-</p>
<p>ked by an operation with the given operationName.</p>
<p>• serverCallReturns() matches events (triggers) which are asynchronous server call</p>
<p>re-</p>
<p>turns events.</p>
<p>• modeSwitch() matches events (triggers) which are mode switch events.</p>
<p>• modeEntry() matches events (triggers) which are mode switch events with activation kind</p>
<p>ON-ENTRY.</p>
<p>• modeExit() matches events (triggers) which are mode switch events with activation kind</p>
<p>ON-EXIT.</p>
<p>• modeTransition() matches events (triggers) which are mode switch events with activa-</p>
<p>tion kind ON-TRANSITION.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>191 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>• modeSwitchedAck() matches events (triggers) which are mode switched acknowledgement</p>
<p>events.</p>
<p>• externalTrigger() matches events (triggers) which are external trigger occured events.</p>
<p>• internalTrigger() matches events (triggers) which are internal trigger occured events.</p>
<p>• background() matches events (triggers) which are background events.</p>
<p>• mandatory() matches events (triggers) which must be mapped.</p>
<p>(The mapping of opera-</p>
<p>tion invoked events is optional, so this predicate filters all operation invoked events.)</p>
<p>• filterAdvanced(Closure) matches events (triggers) for which the given closure results</p>
<p>to true.</p>
<p>• and(Closure) combines the predicates inside the closure with a logical AND.</p>
<p>• or(Closure) combines the predicates inside the closure with a logical OR.</p>
<p>• not(Closure) negates the combination of predicates inside the closure.</p>
<p><b>Examples</b></p>
<p>scriptTask</p>
<p>( &quot; selectEvents &quot; ,</p>
<p>DV_PROJECT</p>
<p>){</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>selectedEvents</p>
<p>=</p>
<p>selectEvents</p>
<p>{</p>
<p>//</p>
<p>select</p>
<p>all</p>
<p>unmapped</p>
<p>events</p>
<p>of</p>
<p>component</p>
<p>' App1 '</p>
<p>unmapped ()</p>
<p>component ( &quot; App1 &quot; )</p>
<p>}. getEvents ()</p>
<p>scriptLogger . infoFormat ( &quot; Selected</p>
<p>'{0} '</p>
<p>events .&quot; ,</p>
<p>selectedEvents . size () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.236: Select events example</p>
<p><b>Selecting and task mapping executable entities</b></p>
<p>selectExecutableEntities(Closure) al-</p>
<p>lows the selection of</p>
<p>IExecutableEntitys using predicates.</p>
<p>Per default the predicates are combined via logical</p>
<p>AND.</p>
<p>To realize other combinations,</p>
<p>use</p>
<p>the ’or’,’not’ and ’and’ predicates.</p>
<p><b>Executable Entity Predicates</b></p>
<p>• symbol(String) matches runnable entities with the given symbol</p>
<p>and bsw schedulable</p>
<p>entities whose corresponding bsw module entry short name matches the given symbol.</p>
<p>• symbol(Pattern) matches runnable entities whose symbol</p>
<p>matches the given symbol</p>
<p>pattern and bsw schedulable entities whose corresponding bsw module entry short name</p>
<p>matches the given symbol pattern.</p>
<p>• name(String) matches executable entities (functions) with the given name.</p>
<p>• name(Pattern) matches executable entities (functions) with the given name pattern.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>192 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>• asrPath(String) matches executable entities (functions) with the given autosar path.</p>
<p>• asrPath(Pattern) matches executable entities (functions) with the given autosar path</p>
<p>pattern.</p>
<p>• component(String) matches executable entities (functions) which belong to components</p>
<p>with the given component name.</p>
<p>• component(Pattern) matches executable entities (functions) which belong to components</p>
<p>which matches the given component name pattern.</p>
<p>• componentType(String) matches executable entities (functions) which are part of</p>
<p>the</p>
<p>internal behavior of component types with the given component type name.</p>
<p>• componentType(Pattern) matches exectuable entities (functions) which are part of the</p>
<p>internal</p>
<p>behavior of</p>
<p>component types which matches the given component type name</p>
<p>pattern.</p>
<p>• componentTypeAsrPath(String) matches executable entities (functions) which are part</p>
<p>of the internal behavior of component types with the given component type autosar path.</p>
<p>• componentTypeAsrPath(Pattern) matches executable entities (functions) which are part</p>
<p>of the internal behavior of component types whose autosar path matches the given com-</p>
<p>ponent type autosar path pattern.</p>
<p>• moduleConfiguration(String) matches executable entities (functions) which belong to</p>
<p>module configurations with the given module configuration name.</p>
<p>• moduleConfiguration(Pattern) matches executable entities (functions) which belong to</p>
<p>module configurations which matches the given module configuration name pattern.</p>
<p>• moduleConfigurationAsrPath(String) matches executable entities (functions) which</p>
<p>belong to module configurations with the given module configuration autosar path.</p>
<p>• moduleConfigurationAsrPath(Pattern) matches executable entities (functions) which</p>
<p>belong to module configurations whose autosar path matches the given module configu-</p>
<p>ration autosar path pattern.</p>
<p>• task(String) matches executable entities (functions) which have at least one event (trig-</p>
<p>ger) that is mapped to a task with the given task name.</p>
<p>• task(Pattern) matches executable entities (functions) which have at least one event</p>
<p>(trigger) that is mapped to a task whose name matches the given task name pattern.</p>
<p>• bswSchedulableEntity() matches executable entities (functions) which are bsw schedu-</p>
<p>lable entities.</p>
<p>• runnableEntity() matches executable entities (functions) which are runnable entities.</p>
<p>• unmapped() matches executable entities (functions) with at least one unmapped event</p>
<p>(trigger).</p>
<p>• fullyUnmapped() matches executable entities (functions) with all of its events (triggers)</p>
<p>being not mapped in any context to a task.</p>
<p>• mapped() matches executable entities (functions) with at least one mapped event (trigger).</p>
<p>• fullyMapped() matches executable entities (functions) with all</p>
<p>of</p>
<p>its events (triggers)</p>
<p>being mapped in each context to a task.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>193 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>• filterAdvanced(Closure) matches executable entities (functions) for which the given</p>
<p>closure results to true.</p>
<p>• and(Closure) combines the predicates inside the closure with a logical AND.</p>
<p>• or(Closure) combines the predicates inside the closure with a logical OR.</p>
<p>• not(Closure) negates the combination of predicates inside the closure.</p>
<p><b>Examples</b></p>
<p>scriptTask</p>
<p>( &quot; selectExecutableEntities &quot; ,</p>
<p>DV_PROJECT</p>
<p>){</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>selectedExecutables</p>
<p>=</p>
<p>selectExecutableEntities</p>
<p>{</p>
<p>//</p>
<p>select</p>
<p>all</p>
<p>runnables</p>
<p>with</p>
<p>symbol</p>
<p>' MySymbol '</p>
<p>symbol (&quot; MySymbol &quot; )</p>
<p>runnableEntity ()</p>
<p>}. getExecutableEntities ()</p>
<p>scriptLogger . infoFormat ( &quot; Selected</p>
<p>'{0} '</p>
<p>executable</p>
<p>entities . &quot; ,</p>
<p>selectedExecutables . size () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.237: Select executable entities example</p>
<p><b>Mapping to a task</b></p>
<p>The task mapping is based on the selection of events (triggers) or execu-</p>
<p>table entities (functions).</p>
<p><b>Event selection</b> mapToTask(Closure) tries to perform a task mapping for the selection of</p>
<p>events (triggers).</p>
<p>Inside the closure the task mapping can be controlled, e.g.</p>
<p>selecting the task</p>
<p>to which the events should be mapped to and order the event’s positions.</p>
<p>Does not consider</p>
<p>events (triggers) which do not reference an executable entity (function).</p>
<p><b>ExecutableEntity selection</b> mapToTask(Closure) tries to perform a task mapping for the</p>
<p>selection of</p>
<p>executable entities (functions).</p>
<p>Inside the closure the task mapping can be con-</p>
<p>trolled, e.g.</p>
<p>selecting the task to which the events (triggers) of the selected executable entities</p>
<p>should be mapped to and order the event’s positions.</p>
<p><b>Select a task</b></p>
<p>Exactly one task has to be selected to perform a task mapping.</p>
<p>selectTask(Closure) allows to define predicates to select a task for the task mapping.</p>
<p>Per default the predicates are combined via logical</p>
<p>AND.</p>
<p>To realize other combinations,</p>
<p>use</p>
<p>the ’or’,’not’ and ’and’ predicates.</p>
<p><b>Task Predicates</b></p>
<p>• name(String) matches tasks with the given task name.</p>
<p>• name(Pattern) matches tasks with the given task name pattern.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>194 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>• core(String) matches tasks running on a core with the given name / number (whether</p>
<p>a core name or a core number is used,</p>
<p>depends on the OS,</p>
<p>if</p>
<p>core number is used the</p>
<p>String to be matched is ’Core&lt;number&gt;’, e.g.</p>
<p>’Core1’).</p>
<p>• core(Pattern) matches tasks running on a core with the given name pattern / number</p>
<p>pattern (whether a core name or a core number is used, depends on the OS, if core number</p>
<p>is used the String to be matched is ’Core&lt;number&gt;’, e.g.</p>
<p>’Core1’).</p>
<p>• application(String) matches tasks which belong to an application with the given name.</p>
<p>• application(Pattern) matches tasks which belong to an application whose name mat-</p>
<p>ches the given name pattern.</p>
<p>• numberOfTaskMappings(int) matches tasks which already have the given number of task</p>
<p>mappings.</p>
<p>The predicate can also be used to search for empty tasks with ’0’ as argument.</p>
<p>• priority(BigInteger) matches tasks with the given priority value.</p>
<p>• filterAdvanced(Closure) matches tasks for which the given closure results to true.</p>
<p>• and(Closure) combines the predicates inside the closure with a logical AND.</p>
<p>• or(Closure) combines the predicates inside the closure with a logical OR.</p>
<p>• not(Closure) negates the combination of predicates inside the closure.</p>
<p><b>Additional</b></p>
<p><b>comfort functions</b></p>
<p>The API provides some comfort functions listed below.</p>
<p><b>Combine via symbol</b></p>
<p>combineViaSymbol(boolean) determines whether the BswModuleEntities and the RunnableEn-</p>
<p>tities should be combined using their symbol.</p>
<p>That means they will</p>
<p>be mapped to the same</p>
<p>position on the same task.</p>
<p>It is enough to select only the RunnableEntity or only the BswMo-</p>
<p>duleEntity, when using this option both will be mapped.</p>
<p>The default is true.</p>
<p>The condition is that the symbol of a RunnableEntity and the BswModuleEntry short name of</p>
<p>a BswModuleEntity are equal.</p>
<p><b>Map events of a runnable entity together</b></p>
<p>mapAllEventsOfRunnableEntity(boolean, boolean) is a possibility to map all</p>
<p>events of</p>
<p>a</p>
<p>RunnableEntity to the same position on a task.</p>
<p>In case of</p>
<p>the selection of</p>
<p>events,</p>
<p>the task</p>
<p>mapping will be extended, by all events (triggers) of runnable entities (functions) for which at</p>
<p>least one event (trigger) is selected.</p>
<p>With help of the two boolean arguments, the behavior of ignoring already mapped events and</p>
<p>ignoring events whose mapping is optional can be controlled.</p>
<p><b>Specify an order</b></p>
<p>The order of the task mappings can be specified with the help of an internal structural element,</p>
<p>the so called position in task entry.</p>
<p>An IPositionInTaskEntry represents a position in task for the task mapping.</p>
<p>The entry is</p>
<p>able to combine several events that are mapped to one position (e.g.</p>
<p>needed when mapping a</p>
<p>main function of a service component and its corresponding schedulable entity).</p>
<p>order(Closure) allows to evaluate and change the order of the task mappings.</p>
<p>It provides a possibility to order the already existing task mappings of the selected task and</p>
<p>the new task mappings that should be created.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>195 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>Set Activation Offset</b></p>
<p>It is possible to set the value of the activation offset for the events/executable entities which</p>
<p>will be newly mapped.</p>
<p>setActivationOffset(BigDecimal) allows to set the activation offset at the created task</p>
<p>mappings.</p>
<p>The offset will</p>
<p>be set for all</p>
<p>created task mappings to the given offsetInSeconds</p>
<p>value.</p>
<p><b>Filter Task Mappings</b></p>
<p>filterTaskMappings(Closure) allows to filter the task mappings that should be created.</p>
<p>This</p>
<p>might be especially helpful to narrow down the task mappings after selecting events or executa-</p>
<p>ble entities when using multi instantiation (e.g.</p>
<p>to filter the task mappings for only one instance</p>
<p>of a multi instantiated component prototype).</p>
<p>Per default the predicates are combined via logical</p>
<p>AND.</p>
<p>To realize other combinations,</p>
<p>use</p>
<p>the ’or’,’not’ and ’and’ predicates.</p>
<p><b>Task Mapping Predicates</b></p>
<p>• component(String) matches task mappings whose event is part of the internal behavior</p>
<p>of a component with the given component name.</p>
<p>• component(Pattern) matches task mappings whose event is part of the internal behavior</p>
<p>of a component with the given component name pattern.</p>
<p>• moduleConfiguration(String) matches task mappings whose event is part of the inter-</p>
<p>nal behavior of a module configuration with the given module configuration name.</p>
<p>• moduleConfiguration(Pattern) matches task mappings whose event is part of the inter-</p>
<p>nal behavior of a module configuration with the given module configuration name pattern.</p>
<p>• moduleConfigurationAsrPath(String) matches task mappings whose event is part of</p>
<p>the internal behavior of a module configuration with the given module configuration au-</p>
<p>tosar path.</p>
<p>• moduleConfigurationAsrPath(Pattern) matches task mappings whose event is part</p>
<p>of the internal</p>
<p>behavior of a module configuration with the given module configuration</p>
<p>autosar path pattern.</p>
<p>• unmapped() matches task mappings which are not mapped to a task.</p>
<p>• mapped() matches task mappings which are mapped to a task.</p>
<p>• task(String) matches task mappings which are mapped to a task with the given task</p>
<p>name.</p>
<p>• task(Pattern) matches task mappings which are mapped to a task whose name matches</p>
<p>the given task name pattern.</p>
<p><b>Apply execution order constraints</b></p>
<p>An ExecutionOrderConstraint restricts the execution order of a set of ExecutableEntities.</p>
<p>The-</p>
<p>refore successor and direct successor relationships can be defined for executable entities (functi-</p>
<p>ons), but also for events (triggers).</p>
<p>selectExecutionOrderConstraints(Closure) allows to define predicates to select execution</p>
<p>order constraints that should be applied.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>196 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>Per default the predicates are combined via logical</p>
<p>AND.</p>
<p>To realize other combinations,</p>
<p>use</p>
<p>the ’or’,’not’ and ’and’ predicates.</p>
<p><b>Execution Order Constraint Predicates</b></p>
<p>• name(String) matches execution order constraints with the given execution order con-</p>
<p>straint name.</p>
<p>• name(Pattern) matches execution order constraints with the given execution order con-</p>
<p>straint name pattern.</p>
<p>• filterAdvanced(Closure) matches execution order constraints for which the given clo-</p>
<p>sure results to true.</p>
<p>• and(Closure) combines the predicates inside the closure with a logical AND.</p>
<p>• or(Closure) combines the predicates inside the closure with a logical OR.</p>
<p>• not(Closure) negates the combination of predicates inside the closure.</p>
<p><b>Keep existing task mappings on current position</b></p>
<p>queue() is an option that allows to keep the task mappings which are already mapped to the</p>
<p>selected task on the current position.</p>
<p>The new task mappings will</p>
<p>be placed in the defined</p>
<p>order into existing gaps.</p>
<p>That means they are mapped to the lowest free position.</p>
<p>Example:</p>
<p>The selected task ’Task1’ has already a TaskMappingA at position 1 and a TaskMap-</p>
<p>pingB at position 3.</p>
<p>The task mappings TaskMappingC,</p>
<p>TaskMappingD and TaskMappingE</p>
<p>(in that order) should be mapped to the same task using the queue() option.</p>
<p>The new task</p>
<p>mappings will be assigned in the defined order to the next free position on ’Task1’.</p>
<p>So the result will be:</p>
<p>0 -&gt; TaskMappingC (new1)</p>
<p>1 -&gt; TaskMappingA (old)</p>
<p>2 -&gt; TaskMappingD (new2)</p>
<p>3 -&gt; TaskMappingB (old)</p>
<p>4 -&gt; TaskMappingE (new3)</p>
<p>If the options mapAllEventsOfRunnableEntity(boolean, boolean) or combineViaSymbol(boolean)</p>
<p>needs to combine an existing mapping with other mappings, the combined task mapping is seen</p>
<p>as a new mapping.</p>
<p>Its position will</p>
<p>be assigned according to the rules of a new mapping ex-</p>
<p>plained above.</p>
<p>The old mapping which was not combined will</p>
<p>be removed.</p>
<p>In other words</p>
<p>combined task mappings are preferred over single task mappings.</p>
<p><b>Examples for mapToTask(Closure)</b></p>
<p>© 2018, Vector Informatik GmbH</p>
<p>197 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>import</b></p>
<p>com . vector . cfg . model . sysdesc . api . taskmapping . ITaskMapping</p>
<p>scriptTask</p>
<p>( &quot; doTaskMappingOfApp1 &quot; ,</p>
<p>DV_PROJECT</p>
<p>){</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>taskMappings</p>
<p>=</p>
<p>selectEvents</p>
<p>{</p>
<p>//</p>
<p>select</p>
<p>all</p>
<p>events</p>
<p>of</p>
<p>component</p>
<p>App1</p>
<p>component ( &quot; App1 &quot; )</p>
<p>}</p>
<p>mapToTask</p>
<p>{</p>
<p>selectTask</p>
<p>{</p>
<p>//</p>
<p>select</p>
<p>a</p>
<p>task</p>
<p>name ( &quot; OsTask &quot; )</p>
<p>}</p>
<p>}</p>
<p>scriptLogger . infoFormat ( &quot; Created</p>
<p>'{0} '</p>
<p>task</p>
<p>mappings . &quot; ,</p>
<p>taskMappings . size () )</p>
<p>//</p>
<p>let 's</p>
<p>print</p>
<p>more</p>
<p>information</p>
<p>to</p>
<p>check</p>
<p>the</p>
<p>created</p>
<p>task</p>
<p>mappings</p>
<p><b>for</b></p>
<p>( ITaskMapping</p>
<p>taskMapping</p>
<p>:</p>
<p>taskMappings )</p>
<p>{</p>
<p>scriptLogger . infoFormat (&quot; Mapped</p>
<p>'{0} '</p>
<p>triggered</p>
<p>by</p>
<p>'{1} '</p>
<p>to</p>
<p>position</p>
<p>'{2}</p>
<p>on</p>
<p>task</p>
<p>'{3} '. &quot; ,</p>
<p>taskMapping . getExecutableEntity () . getName () ,</p>
<p>taskMapping . getEvent () . getName () ,</p>
<p>taskMapping . getPositionInTask () ,</p>
<p>taskMapping . getMappedTask () . getName () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.238: Perform task mapping example</p>
<p>scriptTask</p>
<p>( &quot; combineViaSymbol &quot; ,</p>
<p>DV_PROJECT</p>
<p>){</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>taskMappings</p>
<p>=</p>
<p>selectEvents</p>
<p>{</p>
<p>component ( &quot; Service1 &quot;)</p>
<p>timing ()</p>
<p>}</p>
<p>mapToTask</p>
<p>{</p>
<p>selectTask</p>
<p>{</p>
<p>name ( &quot; OtherName &quot; )</p>
<p>}</p>
<p>//</p>
<p>the</p>
<p>default</p>
<p>is</p>
<p>true</p>
<p>//</p>
<p>call</p>
<p>this</p>
<p>if</p>
<p>you</p>
<p>do</p>
<p>not</p>
<p>want</p>
<p>to</p>
<p>combine</p>
<p>runnables</p>
<p>and</p>
<p>bsw</p>
<p>module</p>
<p>entities</p>
<p>via</p>
<p>their</p>
<p>symbol</p>
<p>combineViaSymbol (<b> false</b> )</p>
<p>}</p>
<p>scriptLogger . infoFormat ( &quot; Created</p>
<p>'{0} '</p>
<p>task</p>
<p>mappings . &quot; ,</p>
<p>taskMappings . size () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.239: Do not combine runnable and bsw module entity via symbol</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>198 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>scriptTask</p>
<p>( &quot; mapAllEventsOfRunnable &quot; ,</p>
<p>DV_PROJECT</p>
<p>) {</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>taskMappings</p>
<p>=</p>
<p>selectEvents</p>
<p>{</p>
<p>name ( &quot; background_event &quot; )</p>
<p>component ( &quot; App1_1 &quot;)</p>
<p>}</p>
<p>mapToTask</p>
<p>{</p>
<p>selectTask</p>
<p>{</p>
<p>name ( &quot; OsTask &quot; )</p>
<p>}</p>
<p>//</p>
<p>decide</p>
<p>whether</p>
<p>to</p>
<p>consider</p>
<p>only</p>
<p>unmapped</p>
<p>events</p>
<p>//</p>
<p>and</p>
<p>whether</p>
<p>to</p>
<p>consider</p>
<p>only</p>
<p>events</p>
<p>whose</p>
<p>mapping</p>
<p>is</p>
<p>mandatory</p>
<p>mapAllEventsOfRunnableEntity (<b> true</b> ,</p>
<p><b>false</b> )</p>
<p>}</p>
<p>scriptLogger . infoFormat ( &quot; Created</p>
<p>'{0} '</p>
<p>task</p>
<p>mappings . &quot; ,</p>
<p>taskMappings . size () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.240: Map all events of a runnable together</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>199 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>import</b></p>
<p>com . vector . cfg . model . sysdesc . api . taskmapping . IPositionInTaskEntry</p>
<p>scriptTask</p>
<p>( &quot; orderTaskMapppings &quot; ,</p>
<p>DV_PROJECT</p>
<p>) {</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>taskMappings</p>
<p>=</p>
<p>selectEvents</p>
<p>{</p>
<p>component ( &quot; App1 &quot; )</p>
<p>}</p>
<p>mapToTask</p>
<p>{</p>
<p>selectTask</p>
<p>{</p>
<p>name ( &quot; OtherName &quot; )</p>
<p>}</p>
<p>order</p>
<p>{</p>
<p>List &lt; IPositionInTaskEntry &gt;</p>
<p>entries</p>
<p>-&gt;</p>
<p><b>int</b></p>
<p>mappedIndex</p>
<p>=</p>
<p>0</p>
<p><b>int</b></p>
<p>index</p>
<p>=</p>
<p>10</p>
<p><b>for</b></p>
<p>( IPositionInTaskEntry</p>
<p>entry</p>
<p>:</p>
<p>entries )</p>
<p>{</p>
<p>//</p>
<p>identify</p>
<p>by</p>
<p>executable</p>
<p>entity</p>
<p>name</p>
<p><b>if</b></p>
<p>( entry . getTriggeredExecutableEntity () . equals ( &quot;</p>
<p>DataSendComp &quot; ))</p>
<p>{</p>
<p>entry . setPosition (9)</p>
<p><b>continue</b> ;</p>
<p>}</p>
<p>//</p>
<p>already</p>
<p>mapped</p>
<p>on</p>
<p>task</p>
<p><b>def</b></p>
<p>alreadyMapped</p>
<p>=</p>
<p>entry . getAssociatedTaskMappings</p>
<p>() . find</p>
<p>{</p>
<p>taskMapping</p>
<p>-&gt;</p>
<p>taskMapping . getMappedTask ()</p>
<p>!=</p>
<p><b>null</b></p>
<p>}</p>
<p><b>if</b></p>
<p>( alreadyMapped</p>
<p>!=</p>
<p><b>null</b> )</p>
<p>{</p>
<p>entry . setPosition ( mappedIndex )</p>
<p>mappedIndex ++</p>
<p><b>continue</b> ;</p>
<p>}</p>
<p>//</p>
<p>newly</p>
<p>mapped</p>
<p>entry . setPosition ( index )</p>
<p>index ++</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>scriptLogger . infoFormat ( &quot; Created</p>
<p>'{0} '</p>
<p>task</p>
<p>mappings . &quot; ,</p>
<p>taskMappings . size () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.241: Manually order the task mappings</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>200 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>import</b></p>
<p>com . vector . cfg . model . sysdesc . api . taskmapping . IPositionInTaskEntry</p>
<p>scriptTask</p>
<p>( &quot; orderTaskMapppingsOfOsTask &quot; ,</p>
<p>DV_PROJECT</p>
<p>){</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>taskMappings</p>
<p>=</p>
<p>selectEvents</p>
<p>{</p>
<p>task ( &quot; OsTask &quot; )</p>
<p>}</p>
<p>mapToTask</p>
<p>{</p>
<p>filterTaskMappings</p>
<p>{</p>
<p>task ( &quot; OsTask &quot; )</p>
<p>}</p>
<p>selectTask</p>
<p>{</p>
<p>name ( &quot; OsTask &quot; )</p>
<p>}</p>
<p>order</p>
<p>{</p>
<p>List &lt; IPositionInTaskEntry &gt;</p>
<p>entries</p>
<p>-&gt;</p>
<p>//</p>
<p>in</p>
<p>this</p>
<p>example</p>
<p>runnables</p>
<p>of</p>
<p>App1 ,</p>
<p>App2</p>
<p>and</p>
<p>App3</p>
<p>(</p>
<p>with</p>
<p>only</p>
<p>1</p>
<p>task</p>
<p>mapping )</p>
<p>are</p>
<p>mapped</p>
<p>on</p>
<p>OsTask</p>
<p>//</p>
<p>sort</p>
<p>the</p>
<p>runnables</p>
<p>by</p>
<p>owner</p>
<p><b>int</b></p>
<p>runnablesOfApp1</p>
<p>=</p>
<p>0</p>
<p><b>int</b></p>
<p>runnablesOfApp2</p>
<p>=</p>
<p>0</p>
<p><b>for</b></p>
<p>( IPositionInTaskEntry</p>
<p>entry</p>
<p>:</p>
<p>entries )</p>
<p>{</p>
<p><b>if</b></p>
<p>( entry . getOwner () . equals (&quot; Component</p>
<p>App1 &quot; ))</p>
<p>{</p>
<p>runnablesOfApp1 ++;</p>
<p>}</p>
<p><b>if</b></p>
<p>( entry . getOwner () . equals (&quot; Component</p>
<p>App2 &quot; ))</p>
<p>{</p>
<p>runnablesOfApp2 ++;</p>
<p>}</p>
<p>}</p>
<p>//</p>
<p>we</p>
<p>sort</p>
<p>in</p>
<p>this</p>
<p>example</p>
<p>first</p>
<p>runnables</p>
<p>of</p>
<p>' App1 '</p>
<p>//</p>
<p>followed</p>
<p>by</p>
<p>the</p>
<p>runnabels</p>
<p>of</p>
<p>' App2 '</p>
<p>//</p>
<p>and</p>
<p>last</p>
<p>but</p>
<p>not</p>
<p>least</p>
<p>the</p>
<p>runnable</p>
<p>of</p>
<p>' App3 '</p>
<p><b>int</b></p>
<p>maxIndex</p>
<p>=</p>
<p>entries . size ()</p>
<p>-</p>
<p>1</p>
<p><b>int</b></p>
<p>indexForApp1</p>
<p>=</p>
<p>0</p>
<p><b>int</b></p>
<p>indexForApp2</p>
<p>=</p>
<p>runnablesOfApp1</p>
<p><b>for</b></p>
<p>( IPositionInTaskEntry</p>
<p>entry</p>
<p>:</p>
<p>entries )</p>
<p>{</p>
<p>//</p>
<p>the</p>
<p>runnable</p>
<p>of</p>
<p>App3</p>
<p>should</p>
<p>be</p>
<p>mapped</p>
<p>to</p>
<p>the</p>
<p>last</p>
<p>position</p>
<p>on</p>
<p>OsTask</p>
<p><b>if</b></p>
<p>( entry . getOwner () . equals (&quot; Component</p>
<p>App3 &quot; ))</p>
<p>{</p>
<p>entry . setPosition ( maxIndex );</p>
<p>}</p>
<p><b>if</b></p>
<p>( entry . getOwner () . equals (&quot; Component</p>
<p>App1 &quot; ))</p>
<p>{</p>
<p>entry . setPosition ( indexForApp1 );</p>
<p>indexForApp1 ++</p>
<p>}</p>
<p><b>if</b></p>
<p>( entry . getOwner () . equals (&quot; Component</p>
<p>App2 &quot; ))</p>
<p>{</p>
<p>entry . setPosition ( indexForApp2 );</p>
<p>indexForApp2 ++</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>scriptLogger . infoFormat ( &quot; Created</p>
<p>'{0} '</p>
<p>task</p>
<p>mappings . &quot; ,</p>
<p>taskMappings . size () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.242: Order task mappings on OsTask</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>201 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>import</b></p>
<p>com . vector . cfg . model . sysdesc . api . eoc . IExecutionOrderConstraint</p>
<p>scriptTask</p>
<p>( &quot; applyEOC &quot; ,</p>
<p>DV_PROJECT</p>
<p>) {</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>selectedConstraints</p>
<p><b>def</b></p>
<p>taskMappings</p>
<p>=</p>
<p>selectExecutableEntities</p>
<p>{</p>
<p>component ( &quot; App1_1 &quot;)</p>
<p>}</p>
<p>mapToTask</p>
<p>{</p>
<p>selectTask</p>
<p>{</p>
<p>name ( &quot; OsTask &quot; )</p>
<p>}</p>
<p>//</p>
<p>select</p>
<p>execution</p>
<p>order</p>
<p>constraints</p>
<p>that</p>
<p>should</p>
<p>be</p>
<p>applied</p>
<p>selectExecutionOrderConstraints</p>
<p>{</p>
<p>name ( &quot; App1ExecutionOrderConstraint &quot; )</p>
<p>selectedConstraints</p>
<p>=</p>
<p>getSelectedExecutionOrderConstraints ()</p>
<p>}</p>
<p>}</p>
<p>scriptLogger . infoFormat ( &quot; Created</p>
<p>'{0} '</p>
<p>task</p>
<p>mappings . &quot; ,</p>
<p>taskMappings . size () )</p>
<p><b>for</b></p>
<p>( IExecutionOrderConstraint</p>
<p>eoc</p>
<p>:</p>
<p>selectedConstraints )</p>
<p>{</p>
<p>scriptLogger . infoFormat (&quot; Applied</p>
<p>execution</p>
<p>order</p>
<p>constraint</p>
<p>'{0} '. &quot; ,</p>
<p>eoc . getName () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.243: Use execution order constraints for the task mapping</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>202 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>scriptTask</p>
<p>( &quot; firstTaskMappings &quot; ,</p>
<p>DV_PROJECT</p>
<p>) {</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>taskMappings</p>
<p>=</p>
<p>selectExecutableEntities</p>
<p>{</p>
<p>componentType (&quot; App1 &quot; )</p>
<p>}</p>
<p>mapToTask</p>
<p>{</p>
<p>selectTask</p>
<p>{</p>
<p>name ( &quot; OsTask &quot; )</p>
<p>}</p>
<p>//</p>
<p>in</p>
<p>this</p>
<p>example</p>
<p>two</p>
<p>components</p>
<p>(' App1 '</p>
<p>and</p>
<p>' App1_1 ')</p>
<p>are</p>
<p>of</p>
<p>component</p>
<p>type</p>
<p>' App1 '</p>
<p>//</p>
<p>do</p>
<p>the</p>
<p>task</p>
<p>mapping</p>
<p>only</p>
<p>for</p>
<p>' App1_1 '</p>
<p>filterTaskMappings</p>
<p>{</p>
<p>component (&quot; App1_1 &quot;)</p>
<p>}</p>
<p>}</p>
<p>scriptLogger . infoFormat ( &quot; Created</p>
<p>'{0} '</p>
<p>task</p>
<p>mappings . &quot; ,</p>
<p>taskMappings . size () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.244: Filter task mappings</p>
<p>scriptTask</p>
<p>( &quot; queueExample &quot; ,</p>
<p>DV_PROJECT</p>
<p>){</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>taskMappings</p>
<p>=</p>
<p>selectExecutableEntities</p>
<p>{</p>
<p>componentType (&quot; App1 &quot; )</p>
<p>}</p>
<p>mapToTask</p>
<p>{</p>
<p>selectTask</p>
<p>{</p>
<p>name ( &quot; OsTask &quot; )</p>
<p>}</p>
<p>//</p>
<p>this</p>
<p>option</p>
<p>will</p>
<p>consider</p>
<p>the</p>
<p>existing</p>
<p>mappings</p>
<p>on</p>
<p>the</p>
<p>task</p>
<p>//</p>
<p>if</p>
<p>an</p>
<p>existing</p>
<p>task</p>
<p>mapping</p>
<p>is</p>
<p>not</p>
<p>combined</p>
<p>for</p>
<p>another</p>
<p>new</p>
<p>incoming</p>
<p>mapping ,</p>
<p>it</p>
<p>will</p>
<p>remain</p>
<p>on</p>
<p>its</p>
<p>current</p>
<p>position</p>
<p>queue ()</p>
<p>}</p>
<p>//</p>
<p>if</p>
<p>the</p>
<p>existing</p>
<p>task</p>
<p>mapping</p>
<p>was</p>
<p>combined</p>
<p>for</p>
<p>another</p>
<p>new</p>
<p>incoming</p>
<p>mapping ,</p>
<p>it</p>
<p>is</p>
<p>considered</p>
<p>as</p>
<p>a</p>
<p>new</p>
<p>mapping</p>
<p>and</p>
<p>will</p>
<p>appear</p>
<p>in</p>
<p>the</p>
<p>taskMappings</p>
<p>below</p>
<p>scriptLogger . infoFormat ( &quot; Created</p>
<p>'{0} '</p>
<p>task</p>
<p>mappings . &quot; ,</p>
<p>taskMappings . size () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.245: Use the queue option example</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>203 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>import</b></p>
<p>com . vector . cfg . model . sysdesc . api . taskmapping . IEvent</p>
<p><b>import</b></p>
<p>com . vector . cfg . model . mdf . ar4x . swcomponenttemplate . swcinternalbehavior .</p>
<p>rteevents . MIDataReceivedEvent</p>
<p>scriptTask</p>
<p>( &quot; advancedFilterForEvents &quot; ,</p>
<p>DV_PROJECT</p>
<p>) {</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>taskMappings</p>
<p>=</p>
<p>selectEvents</p>
<p>{</p>
<p>//</p>
<p>use</p>
<p>advanced</p>
<p>filter</p>
<p>if</p>
<p>you</p>
<p>cannot</p>
<p>find</p>
<p>a</p>
<p>suitable</p>
<p>predicate</p>
<p>filterAdvanced</p>
<p>{</p>
<p>IEvent</p>
<p>event</p>
<p>-&gt;</p>
<p>//</p>
<p>use</p>
<p>the</p>
<p>mdf</p>
<p>model</p>
<p>if</p>
<p>the</p>
<p>IEvent</p>
<p>does</p>
<p>not</p>
<p>offer</p>
<p>required</p>
<p>methods</p>
<p><b>def</b></p>
<p>mdfEvent</p>
<p>=</p>
<p>event . getMdfObject ()</p>
<p>//</p>
<p>for</p>
<p>example ,</p>
<p>filter</p>
<p>for</p>
<p>data</p>
<p>received</p>
<p>events</p>
<p>with</p>
<p>special</p>
<p>criteria</p>
<p><b>if</b></p>
<p>( mdfEvent</p>
<p><b>instanceof</b></p>
<p>MIDataReceivedEvent )</p>
<p>{</p>
<p>//</p>
<p>filter</p>
<p>here</p>
<p>for</p>
<p>the</p>
<p>special</p>
<p>criteria</p>
<p><b>return</b></p>
<p><b>true</b></p>
<p>}</p>
<p>//</p>
<p>do</p>
<p>not</p>
<p>select</p>
<p>other</p>
<p>events</p>
<p><b>return</b></p>
<p><b>false</b></p>
<p>}</p>
<p>}</p>
<p>mapToTask</p>
<p>{</p>
<p>selectTask</p>
<p>{</p>
<p>name ( &quot; OtherName &quot; )</p>
<p>}</p>
<p>}</p>
<p>scriptLogger . infoFormat ( &quot; Created</p>
<p>'{0} '</p>
<p>task</p>
<p>mappings . &quot; ,</p>
<p>taskMappings . size () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.246: Advanced Filter for Events</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>204 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>import</b></p>
<p>com . vector . cfg . model . sysdesc . api . taskmapping . IPositionInTaskEntry</p>
<p><b>import</b></p>
<p>com . vector . cfg . model . sysdesc . api . taskmapping . ITaskMapping</p>
<p>scriptTask</p>
<p>( &quot; orderTaskMapppingsSimple &quot; ,</p>
<p>DV_PROJECT</p>
<p>){</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>taskMappings</p>
<p>=</p>
<p>selectEvents</p>
<p>{</p>
<p>component ( &quot; App1 &quot; )</p>
<p>}</p>
<p>mapToTask</p>
<p>{</p>
<p>selectTask</p>
<p>{</p>
<p>name ( &quot; OsTask &quot; )</p>
<p>}</p>
<p>order</p>
<p>{</p>
<p>List &lt; IPositionInTaskEntry &gt;</p>
<p>entries</p>
<p>-&gt;</p>
<p><b>for</b></p>
<p>( IPositionInTaskEntry</p>
<p>entry</p>
<p>:</p>
<p>entries )</p>
<p>{</p>
<p>//</p>
<p>identify</p>
<p>by</p>
<p>executable</p>
<p>entity</p>
<p>name</p>
<p>and</p>
<p>set</p>
<p>the</p>
<p>position</p>
<p><b>if</b></p>
<p>( entry . getTriggeredExecutableEntity () . equals ( &quot;</p>
<p>DataSendComp &quot; ))</p>
<p>{</p>
<p>//</p>
<p>Runnable</p>
<p>' DataSendComp '</p>
<p>will</p>
<p>be</p>
<p>mapped</p>
<p>//</p>
<p>to</p>
<p>position</p>
<p>0</p>
<p>on</p>
<p>task</p>
<p>' OsTask '</p>
<p>entry . setPosition (0)</p>
<p><b>continue</b></p>
<p>}</p>
<p><b>else</b></p>
<p><b>if</b></p>
<p>( entry . getTriggeredExecutableEntity () .</p>
<p>equals ( &quot; Runnable1 &quot;))</p>
<p>{</p>
<p>entry . setPosition (1)</p>
<p><b>continue</b></p>
<p>}</p>
<p><b>else</b></p>
<p><b>if</b></p>
<p>( entry . getTriggeredExecutableEntity () .</p>
<p>equals ( &quot; Runnable2 &quot;))</p>
<p>{</p>
<p>entry . setPosition (2)</p>
<p><b>continue</b></p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>//</p>
<p>print</p>
<p>info</p>
<p>to</p>
<p>the</p>
<p>console</p>
<p>which</p>
<p>runnable</p>
<p>was</p>
<p>mapped</p>
<p>to</p>
<p>which</p>
<p>position</p>
<p><b>for</b></p>
<p>(<b> final</b></p>
<p>ITaskMapping</p>
<p>taskMapping</p>
<p>:</p>
<p>taskMappings )</p>
<p>{</p>
<p>scriptLogger . infoFormat (&quot; Mapped</p>
<p>runnable</p>
<p>{0}</p>
<p>to</p>
<p>position</p>
<p>{1}. &quot; ,</p>
<p>taskMapping . getExecutableEntity () . getName () ,</p>
<p>taskMapping . getPositionInTask () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.247: Simple example of ordering the task mappings</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>205 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>import</b></p>
<p>com . vector . cfg . model . sysdesc . api . taskmapping . ITaskMapping</p>
<p>scriptTask (&quot; mapAndSetActivationOffset &quot; ,</p>
<p>DV_PROJECT ) {</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>taskMappings</p>
<p>=</p>
<p>selectEvents</p>
<p>{</p>
<p>//</p>
<p>define</p>
<p>predicates</p>
<p>to</p>
<p>select</p>
<p>your</p>
<p>event</p>
<p>component (&quot; App1 &quot;)</p>
<p>init ()</p>
<p>}</p>
<p>mapToTask</p>
<p>{</p>
<p>//</p>
<p>map</p>
<p>the</p>
<p>event</p>
<p>to</p>
<p>task</p>
<p>' OsTask '</p>
<p>selectTask</p>
<p>{</p>
<p>name ( &quot; OsTask &quot; )</p>
<p>}</p>
<p>//</p>
<p>set</p>
<p>the</p>
<p>activation</p>
<p>offset</p>
<p>parameter</p>
<p>value</p>
<p>//</p>
<p>for</p>
<p>the</p>
<p>task</p>
<p>mapping</p>
<p>to</p>
<p>10</p>
<p>ms</p>
<p>setActivationOffset (0.01)</p>
<p>}</p>
<p>//</p>
<p>print</p>
<p>info</p>
<p>to</p>
<p>the</p>
<p>console</p>
<p>which</p>
<p>runnable</p>
<p>was</p>
<p>mapped</p>
<p>and</p>
<p>the</p>
<p>activation</p>
<p>offset</p>
<p><b>for</b></p>
<p>(<b> final</b></p>
<p>ITaskMapping</p>
<p>taskMapping</p>
<p>:</p>
<p>taskMappings )</p>
<p>{</p>
<p>scriptLogger . infoFormat ( &quot; Mapped</p>
<p>runnable</p>
<p>{0}</p>
<p>to</p>
<p>position</p>
<p>{1}</p>
<p>with</p>
<p>activation</p>
<p>offset</p>
<p>{2}. &quot; ,</p>
<p>taskMapping . getExecutableEntity () . getName () ,</p>
<p>taskMapping . getPositionInTask () ,</p>
<p>taskMapping . getActivationOffset () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.248: Set the activation offset while mapping to a task</p>
<p><b>Set Activation Offset</b></p>
<p>It is also possible to set the activation offset parameter value of a task</p>
<p>mapping using the event or the executable entity selection without mapping the events/execu-</p>
<p>table entities to a task.</p>
<p>You can use this option for example if you just want to set the activation</p>
<p>offset and do not care whether the event/executable is already mapped to a task or not.</p>
<p>setActivationOffset(BigDecimal) sets the activation offset at the task mapping containers</p>
<p>for the selected events.</p>
<p>If</p>
<p>the symbol</p>
<p>of</p>
<p>a schedulable entity matches a runnable name,</p>
<p>the</p>
<p>activation offset will be set for both,</p>
<p>even if only one of them is selected.</p>
<p>(Matching works as</p>
<p>for ITaskMapper.combineViaSymbol(boolean).)</p>
<p>setActivationOffset(BigDecimal) sets the activation offset at the task mapping containers</p>
<p>for the selected executable entities.</p>
<p><b>Examples</b></p>
<p>© 2018, Vector Informatik GmbH</p>
<p>206 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>import</b></p>
<p>com . vector . cfg . model . sysdesc . api . taskmapping . ITaskMapping</p>
<p>scriptTask (&quot; setActivationOffset &quot; ,</p>
<p>DV_PROJECT ) {</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>taskMappings</p>
<p>=</p>
<p>selectEvents</p>
<p>{</p>
<p>//</p>
<p>define</p>
<p>predicates</p>
<p>to</p>
<p>select</p>
<p>your</p>
<p>event</p>
<p>component (&quot; App1 &quot;)</p>
<p>timing ()</p>
<p>//</p>
<p>set</p>
<p>the</p>
<p>activation</p>
<p>offset</p>
<p>parameter</p>
<p>value</p>
<p>//</p>
<p>for</p>
<p>the</p>
<p>task</p>
<p>mapping</p>
<p>to</p>
<p>10</p>
<p>ms</p>
<p>}. setActivationOffset (0.01)</p>
<p>//</p>
<p>print</p>
<p>info</p>
<p>to</p>
<p>the</p>
<p>console</p>
<p>with</p>
<p>the</p>
<p>runnable</p>
<p>name</p>
<p>which</p>
<p>is</p>
<p>triggered</p>
<p>by</p>
<p>the</p>
<p>event</p>
<p>//</p>
<p>and</p>
<p>the</p>
<p>activation</p>
<p>offset</p>
<p>of</p>
<p>the</p>
<p>task</p>
<p>mapping</p>
<p><b>for</b></p>
<p>(<b> final</b></p>
<p>ITaskMapping</p>
<p>taskMapping</p>
<p>:</p>
<p>taskMappings )</p>
<p>{</p>
<p>scriptLogger . infoFormat ( &quot; TaskMapping</p>
<p>of</p>
<p>runnable</p>
<p>{0}</p>
<p>has</p>
<p>the</p>
<p>activation</p>
<p>offset</p>
<p>{1}. &quot; ,</p>
<p>taskMapping . getExecutableEntity () . getName () ,</p>
<p>taskMapping . getActivationOffset () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.249: Set the activation offset using the event selection</p>
<p><b>import</b></p>
<p>com . vector . cfg . model . sysdesc . api . taskmapping . ITaskMapping</p>
<p>scriptTask (&quot; setActivationOffset &quot; ,</p>
<p>DV_PROJECT ) {</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>taskMappings</p>
<p>=</p>
<p>selectExecutableEntities</p>
<p>{</p>
<p>//</p>
<p>define</p>
<p>predicates</p>
<p>to</p>
<p>select</p>
<p>your</p>
<p>runnable</p>
<p>component (&quot; App1 &quot;)</p>
<p>name (&quot; Runnable1 &quot;)</p>
<p>//</p>
<p>set</p>
<p>the</p>
<p>activation</p>
<p>offset</p>
<p>parameter</p>
<p>value</p>
<p>//</p>
<p>for</p>
<p>the</p>
<p>task</p>
<p>mapping</p>
<p>to</p>
<p>100</p>
<p>ms</p>
<p>}. setActivationOffset (0.1)</p>
<p>//</p>
<p>print</p>
<p>info</p>
<p>to</p>
<p>the</p>
<p>console</p>
<p>with</p>
<p>runnable</p>
<p>name</p>
<p>and</p>
<p>the</p>
<p>activation</p>
<p>offset</p>
<p><b>for</b></p>
<p>(<b> final</b></p>
<p>ITaskMapping</p>
<p>taskMapping</p>
<p>:</p>
<p>taskMappings )</p>
<p>{</p>
<p>scriptLogger . infoFormat ( &quot; TaskMapping</p>
<p>of</p>
<p>runnable</p>
<p>{0}</p>
<p>has</p>
<p>the</p>
<p>activation</p>
<p>offset</p>
<p>{1}. &quot; ,</p>
<p>taskMapping . getExecutableEntity () . getName () ,</p>
<p>taskMapping . getActivationOffset () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.250: Set the activation offset using the executable entity selection</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>207 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>4.10.4.6 Create Delegation Ports</b></p>
<p>The automation interface offers a possibility to create delegation ports at the ECU Compo-</p>
<p>sition of</p>
<p>the FlatExtract.</p>
<p>Therefore a port interface needs to be selected and a direction</p>
<p>specified.</p>
<p><b>Selecting port</b></p>
<p><b>interfaces to instantiate</b></p>
<p>The entry point is to select a collection of</p>
<p>port</p>
<p>interfaces.</p>
<p>After that the naming,</p>
<p>direction,</p>
<p>etc.</p>
<p>can be specified and the port prototypes</p>
<p>created.</p>
<p>selectPortInterfaces(Closure) allows the selection of</p>
<p>IPortInterfaces using predicates.</p>
<p><b>Predicates</b></p>
<p>To select the port interfaces predicates can be provided to narrow down the inter-</p>
<p>faces for which a delegation port should be created.</p>
<p>Per default the predicates are combined via logical</p>
<p>AND.</p>
<p>To realize other combinations,</p>
<p>use</p>
<p>the ’or’,’not’ and ’and’ predicates.</p>
<p><b>Port Interface Predicates</b></p>
<p>• name(String) matches port interfaces with the given port interface name.</p>
<p>• name(Pattern) matches port interfaces with the given port interface name pattern.</p>
<p>• asrPath(String) matches port interfaces with the given port interface autosar path.</p>
<p>• asrPath(Pattern) matches port interfaces with the given port interface autosar path</p>
<p>pattern.</p>
<p>• service() matches port interfaces which are service interfaces.</p>
<p>• application() matches port interfaces which are application interfaces.</p>
<p>• senderReceiver() matches port interfaces which are sender receiver interfaces.</p>
<p>• clientServer() matches port interfaces which are client server interfaces.</p>
<p>• modeSwitch() matches port interfaces which are mode switch interfaces.</p>
<p>• nvData() matches port interfaces which are NvData interfaces.</p>
<p>• trigger() matches port interfaces which are trigger interfaces.</p>
<p>• parameter() matches port interfaces which are parameter interfaces.</p>
<p>• componentType(String) first matches all</p>
<p>component types with the given component</p>
<p>type name, then retrieves all port interfaces of the component type’s port prototypes.</p>
<p>• componentType(Pattern) first matches all</p>
<p>component types with the given component</p>
<p>type name pattern,</p>
<p>then retrieves all</p>
<p>port interfaces of</p>
<p>the component type’s port pro-</p>
<p>totypes.</p>
<p>• componentTypeAsrPath(String) first matches all component types with the given com-</p>
<p>ponent type asr path,</p>
<p>then retrieves all</p>
<p>port interfaces of</p>
<p>the component type’s port</p>
<p>prototypes.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>208 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>• componentTypeAsrPath(Pattern) first matches all component types with the given com-</p>
<p>ponent type asr path pattern,</p>
<p>then retrieves all</p>
<p>port interfaces of the component type’s</p>
<p>port prototypes.</p>
<p>• component(String) first matches all components with the given component name, then</p>
<p>retrieves all port interfaces of the component’s ports.</p>
<p>• component(Pattern) first matches all components with the given component name pat-</p>
<p>tern, then retrieves all port interfaces of the component’s ports.</p>
<p>• componentPort(String) first matches all</p>
<p>IComponentPorts with the given name,</p>
<p>then</p>
<p>retrieves all port interfaces of the component ports.</p>
<p>• componentPort(Pattern) first matches all</p>
<p>IComponentPorts with the given name pat-</p>
<p>tern, then retrieves all port interfaces of the component ports.</p>
<p>• filterAdvanced(Closure) matches port interfaces for which the given closure results to</p>
<p>true.</p>
<p>• and(Closure) combines the predicates inside the closure with a logical AND.</p>
<p>• or(Closure) combines the predicates inside the closure with a logical OR.</p>
<p>• not(Closure) negates the combination of predicates inside the closure.</p>
<p><b>Examples</b></p>
<p>scriptTask (&quot; selectPortInterfacesByName &quot; ,</p>
<p>DV_PROJECT ){</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>selectedPortInterfaces</p>
<p>=</p>
<p>selectPortInterfaces</p>
<p>{</p>
<p>//</p>
<p>selects</p>
<p>all</p>
<p>sender</p>
<p>receiver</p>
<p>application</p>
<p>port</p>
<p>interfaces</p>
<p>with</p>
<p>the</p>
<p>name</p>
<p>' MyPortInterface '</p>
<p>senderReceiver ()</p>
<p>application ()</p>
<p>name</p>
<p>&quot; MyPortInterface &quot;</p>
<p>//</p>
<p>getPortInterfaces ()</p>
<p>will</p>
<p>filter</p>
<p>all</p>
<p>port</p>
<p>interfaces</p>
<p>for</p>
<p>the</p>
<p>given</p>
<p>predicates</p>
<p>//</p>
<p>so</p>
<p>in</p>
<p>our</p>
<p>example</p>
<p>we</p>
<p>will</p>
<p>receive</p>
<p>//</p>
<p>all</p>
<p>sender</p>
<p>receiver</p>
<p>application</p>
<p>port</p>
<p>interfaces</p>
<p>with</p>
<p>the</p>
<p>short</p>
<p>name</p>
<p>' MyPortInterface '</p>
<p>}</p>
<p>getPortInterfaces ()</p>
<p>scriptLogger . infoFormat ( &quot; Selected</p>
<p>{0}</p>
<p>port</p>
<p>interfaces .&quot; ,</p>
<p>selectedPortInterfaces . size () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.251: Select PortInterface by name and type</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>209 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>scriptTask (&quot; selectPortInterfacesByComponentPorts &quot; ,</p>
<p>DV_PROJECT ) {</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>selectedPortInterfaces</p>
<p>=</p>
<p>selectPortInterfaces</p>
<p>{</p>
<p>//</p>
<p>selects</p>
<p>the</p>
<p>port</p>
<p>interface</p>
<p>of</p>
<p>the</p>
<p>port</p>
<p>' pCSPort1 '</p>
<p>of</p>
<p>component</p>
<p>' App1 '</p>
<p>componentPort</p>
<p>&quot; App1 . pCSPort1 &quot;</p>
<p>}</p>
<p>getPortInterfaces ()</p>
<p>scriptLogger . infoFormat ( &quot; Selected</p>
<p>{0}</p>
<p>port</p>
<p>interfaces .&quot; ,</p>
<p>selectedPortInterfaces . size () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.252: Select PortInterfaces by component ports</p>
<p><b>Instantiate delegation port prototypes</b></p>
<p>The use case of instantiating delegation port prototy-</p>
<p>pes is based on the selection of port interfaces.</p>
<p>createPrototype(Closure) creates a PortPrototype on the ecu composition of</p>
<p>the FlatEx-</p>
<p>tract for each selected port interface.</p>
<p>If the naming is not specified,</p>
<p>the names of the created</p>
<p>delegation ports are derived from the selected port interfaces.</p>
<p>The direction of the ports has to</p>
<p>be specified.</p>
<p><b>Specify the delegation port prototype instantiation</b></p>
<p>IDelegationPortCreator provides an Api</p>
<p>to control</p>
<p>some aspects,</p>
<p>e.g.</p>
<p>the naming or the</p>
<p>direction, of newly created delegation ports.</p>
<p>• name(Closure) computes a name for the delegation port prototypes that should be cre-</p>
<p>ated for port interfaces, which are provided by the IPortInterfaceSelection.</p>
<p>• direction(EDirection) defines the direction of the port prototype that should be crea-</p>
<p>ted.</p>
<p>EDirection.Tx will create provided ports, EDirection.Rx will create required ports.</p>
<p>Delegation provided-required ports are not supported.</p>
<p>• count(int) defines how many delegation port prototypes should be created for each</p>
<p>selected port interface.</p>
<p>The default is 1.</p>
<p><b>Examples</b></p>
<p>© 2018, Vector Informatik GmbH</p>
<p>210 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>import</b></p>
<p>com . vector . cfg . model . sysdesc . api . com . EDirection</p>
<p>scriptTask (&quot; createDelegationPortSimple &quot; ,</p>
<p>DV_PROJECT ){</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>createdComponentPorts</p>
<p>=</p>
<p>selectPortInterfaces</p>
<p>{</p>
<p>//</p>
<p>select</p>
<p>all</p>
<p>client</p>
<p>server</p>
<p>application</p>
<p>port</p>
<p>interfaces</p>
<p>of</p>
<p>component</p>
<p>' App3 '</p>
<p>componentType</p>
<p>&quot; App3 &quot;</p>
<p>clientServer ()</p>
<p>application ()</p>
<p>}</p>
<p>createPrototype</p>
<p>{</p>
<p>//</p>
<p>EDirection . Tx</p>
<p>to</p>
<p>create</p>
<p>a</p>
<p>PPort</p>
<p>and</p>
<p>EDirection . Rx</p>
<p>to</p>
<p>create</p>
<p>a</p>
<p>RPort</p>
<p>direction ( EDirection . Tx )</p>
<p>//</p>
<p>if</p>
<p>no</p>
<p>name</p>
<p>is</p>
<p>specified ,</p>
<p>the</p>
<p>name</p>
<p>of</p>
<p>the</p>
<p>port</p>
<p>interface</p>
<p>will</p>
<p>be</p>
<p>taken</p>
<p>for</p>
<p>the</p>
<p>port</p>
<p>}</p>
<p>scriptLogger . infoFormat ( &quot; Created</p>
<p>{0}</p>
<p>delegation</p>
<p>ports .&quot; ,</p>
<p>createdComponentPorts . size () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.253: Create delegation port simple</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>211 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>import</b></p>
<p>com . vector . cfg . model . sysdesc . api . com . EDirection</p>
<p><b>import</b></p>
<p>com . vector . cfg . model . sysdesc . api . port . IPortInterface</p>
<p>scriptTask (&quot; createDelegationPortCustomized &quot; ,</p>
<p>DV_PROJECT ) {</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p><b>def</b></p>
<p>createdComponentPorts</p>
<p>=</p>
<p>selectPortInterfaces</p>
<p>{</p>
<p>//</p>
<p>select</p>
<p>the</p>
<p>port</p>
<p>interface</p>
<p>of</p>
<p>' App1 . ppFirst '</p>
<p>and</p>
<p>the</p>
<p>port</p>
<p>interface</p>
<p>named</p>
<p>' Second '</p>
<p>or</p>
<p>{</p>
<p>componentPort</p>
<p>&quot; App1 . ppFirst &quot;</p>
<p>name</p>
<p>&quot; Second &quot;</p>
<p>}</p>
<p>}</p>
<p>createPrototype</p>
<p>{</p>
<p>name</p>
<p>{</p>
<p>//</p>
<p>specify</p>
<p>the</p>
<p>naming</p>
<p>of</p>
<p>the</p>
<p>new</p>
<p>ports</p>
<p>IPortInterface</p>
<p>portInterface</p>
<p>-&gt;</p>
<p>&quot; pp &quot;</p>
<p>+</p>
<p>portInterface .</p>
<p>getName ()</p>
<p>+</p>
<p>&quot; _new &quot;</p>
<p>}</p>
<p>//</p>
<p>EDirection . Rx</p>
<p>is</p>
<p>leading</p>
<p>to</p>
<p>the</p>
<p>creation</p>
<p>of</p>
<p>required</p>
<p>ports</p>
<p>direction ( EDirection . Rx )</p>
<p>//</p>
<p>for</p>
<p>each</p>
<p>selected</p>
<p>port</p>
<p>interface</p>
<p>two</p>
<p>delegation</p>
<p>ports</p>
<p>will</p>
<p>be</p>
<p>created</p>
<p>count (2)</p>
<p>}</p>
<p>scriptLogger . infoFormat ( &quot; Created</p>
<p>{0}</p>
<p>delegation</p>
<p>ports .&quot; ,</p>
<p>createdComponentPorts . size () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.254: Create delegation port customized</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>212 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>import</b></p>
<p>com . vector . cfg . model . sysdesc . api . com . EDirection</p>
<p><b>import</b></p>
<p>com . vector . cfg . model . sysdesc . api . port . IPortInterface</p>
<p>scriptTask (&quot; createDelegationPortWithNameOfOtherPort &quot; ,</p>
<p>DV_PROJECT ){</p>
<p>code</p>
<p>{</p>
<p>transaction</p>
<p>{</p>
<p>domain . runtimeSystem</p>
<p>{</p>
<p>//</p>
<p>in</p>
<p>this</p>
<p>example</p>
<p>we</p>
<p>want</p>
<p>to</p>
<p>create</p>
<p>a</p>
<p>delegation</p>
<p>port</p>
<p>//</p>
<p>for</p>
<p>a</p>
<p>port</p>
<p>of</p>
<p>component</p>
<p>' App1 '</p>
<p>//</p>
<p>and</p>
<p>name</p>
<p>the</p>
<p>delegation</p>
<p>port</p>
<p>as</p>
<p>the</p>
<p>port</p>
<p>of</p>
<p>' App1 '</p>
<p>//</p>
<p>select</p>
<p>ports</p>
<p>using</p>
<p>the</p>
<p>component</p>
<p>port</p>
<p>selection</p>
<p>API</p>
<p><b>def</b></p>
<p>selectedComponentPorts</p>
<p>=</p>
<p>selectComponentPorts</p>
<p>{</p>
<p>unconnected ()</p>
<p>senderReceiver ()</p>
<p>component ( &quot; App1 &quot;)</p>
<p>}</p>
<p>getComponentPorts ()</p>
<p>//</p>
<p>get</p>
<p>the</p>
<p>first</p>
<p>port</p>
<p>//</p>
<p>we</p>
<p>are</p>
<p>sure</p>
<p>that</p>
<p>the</p>
<p>first</p>
<p>port</p>
<p>is</p>
<p>the</p>
<p>correct</p>
<p>one</p>
<p>in</p>
<p>this</p>
<p>example ,</p>
<p>to</p>
<p>keep</p>
<p>the</p>
<p>example</p>
<p>simple</p>
<p><b>def</b></p>
<p>myPort</p>
<p>=</p>
<p>selectedComponentPorts . get (0)</p>
<p>//</p>
<p>now</p>
<p>create</p>
<p>a</p>
<p>new</p>
<p>delegation</p>
<p>port</p>
<p>//</p>
<p>use</p>
<p>port</p>
<p>interface</p>
<p>and</p>
<p>name</p>
<p>of</p>
<p>the</p>
<p>port</p>
<p>you</p>
<p>have</p>
<p>just</p>
<p>selected</p>
<p><b>def</b></p>
<p>componentPorts</p>
<p>=</p>
<p>selectPortInterfaces</p>
<p>{</p>
<p>//</p>
<p>use</p>
<p>the</p>
<p>port</p>
<p>interface 's</p>
<p>path</p>
<p>of</p>
<p>your</p>
<p>selected</p>
<p>port</p>
<p>asrPath ( myPort . getPortInterface () . getAutosarPath () )</p>
<p>}</p>
<p>createPrototype</p>
<p>{</p>
<p>name</p>
<p>{</p>
<p>//</p>
<p>just</p>
<p>ignore</p>
<p>the</p>
<p>port</p>
<p>interface</p>
<p>parameter</p>
<p>when</p>
<p>naming</p>
<p>the</p>
<p>new</p>
<p>port</p>
<p>//</p>
<p>you</p>
<p>do</p>
<p>not</p>
<p>have</p>
<p>to</p>
<p>use</p>
<p>it</p>
<p>//</p>
<p>instead</p>
<p>use</p>
<p>the</p>
<p>name</p>
<p>of</p>
<p>our</p>
<p>existing</p>
<p>port</p>
<p>myPort . getPortName ()</p>
<p>}</p>
<p>direction ( EDirection . Tx )</p>
<p>}</p>
<p>//</p>
<p>since</p>
<p>the</p>
<p>short</p>
<p>names</p>
<p>of</p>
<p>the</p>
<p>ports</p>
<p>will</p>
<p>be</p>
<p>equal</p>
<p>now</p>
<p>//</p>
<p>we</p>
<p>can</p>
<p>for</p>
<p>example</p>
<p>connect</p>
<p>them</p>
<p>easier</p>
<p>//</p>
<p>because</p>
<p>we</p>
<p>make</p>
<p>sure</p>
<p>the</p>
<p>name</p>
<p>matching</p>
<p>algorithm</p>
<p>//</p>
<p>finds</p>
<p>the</p>
<p>port</p>
<p>pair</p>
<p>which</p>
<p>should</p>
<p>be</p>
<p>connected</p>
<p>scriptLogger . infoFormat ( &quot; Created</p>
<p>{0}</p>
<p>component</p>
<p>ports .&quot; ,</p>
<p>componentPorts . size () )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.255: Create delegation port with name of other port</p>
<p><b>4.10.4.7 Retrieving short name paths and fully qualified names from the GUI</b></p>
<p>The runtime system automation API requires/allows to use short name paths and fully qualified</p>
<p>names to select elements.</p>
<p>This chapter describes how these can be retrieved.</p>
<p>In general you can find a ’Copy’ -&gt; ’Copy Short Name Path’ command in the context menu for</p>
<p>most elements.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>213 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>Path of</b></p>
<p><b>Port Interface Mapping</b></p>
<p>If</p>
<p>you have already connected two ports and use a port</p>
<p>interface mapping for the connection,</p>
<p>you can search for your connector in the ECU Software</p>
<p>Components Editor.</p>
<p>You can find it in the Application Ports grid or the Service Mappings</p>
<p>grid under the ECU Composition node or under the Application or Service Ports node of your</p>
<p>application or service component.</p>
<p>’Copy’ -&gt; ’Copy Short Name Path’ in the context menu available in the Port Interface Mapping</p>
<p>column for a given connection copies the short name path of</p>
<p>the connection’s port interface</p>
<p>mapping to the clip board.</p>
<p>If you have no connection yet which uses the port interface mapping, search for the port interface</p>
<p>mapping in another way.</p>
<p>Expand the Port Interface Mapping Sets node of the ECU Software</p>
<p>Components Editor and the node of</p>
<p>the set which contains your mapping.</p>
<p>Now you can do</p>
<p>the ’Copy’ -&gt; ’Copy Short Name Path’ command in the context menu of the tree node which</p>
<p>belongs to the port interface mapping your were looking for.</p>
<p><b>Paths of System Signals and System Signal</b></p>
<p><b>Groups</b></p>
<p>If you have already used your signal /</p>
<p>signal</p>
<p>group for a data mapping,</p>
<p>you can find the data mapping in the Data Mapping or the</p>
<p>Application Ports grid under the ECU Composition node.</p>
<p>Once you found your mapping you</p>
<p>can retrieve the short name path of</p>
<p>the signal</p>
<p>/ signal</p>
<p>group via the ’Copy’</p>
<p>-&gt; ’Copy Short</p>
<p>Name Path’</p>
<p>context menu on the cell</p>
<p>of the Signal</p>
<p>column in the Data Mapping grid or the</p>
<p>Mapped Signal column of the Application Ports grid.</p>
<p><b>Fully Qualified Name of</b></p>
<p><b>Communication Elements</b></p>
<p>Communication elements are used for</p>
<p>data mappings.</p>
<p>Their fully qualified name is build out of three parts (in general,</p>
<p>children of</p>
<p>complex communication elements might have more).</p>
<p>The name of the component,</p>
<p>the name</p>
<p>of the port and the name of the data element/operation/trigger itself.</p>
<p>In case of a delegation</p>
<p>port you can use ’ECU Composition’ or ’COMPOSITIONTYPE’ as component name.</p>
<p><b>Examples</b></p>
<p>Communication element of non-delegation port:</p>
<p>’ComponentName.PortName.DataElementName’</p>
<p>Communication element of delegation port:</p>
<p>’ECU Composition.DelegationPortName.DataElementName’</p>
<p>Complex communication element (record element of a record):</p>
<p>’ComponentName.PortName.RecordName.RecordElement1Name’</p>
<p>Complex communication element (array element at certain index):</p>
<p>’ComponentName.PortName.ArrayName[0]’</p>
<p>Open the data mapping assistant.</p>
<p>You can find it in the navigation view under Runtime</p>
<p>System -&gt; Add Data Mapping or as hyperlink above grids which shows data mappings.</p>
<p>Select</p>
<p>the direction ’Find matching signals for the communication elements’</p>
<p>on the first page and</p>
<p>after that your communication elements on the second page.</p>
<p>Now on the third page (Confirm</p>
<p>page) you can open a context menu on the cell in the Communication Element column of your</p>
<p>communication element and select copy fully qualified name.</p>
<p>The name will be copied into the</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>214 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>clip board.</p>
<p>If you need the name of a child communication element which is not shown yet, you</p>
<p>might have map the parent to a signal group first.</p>
<p>You can also just use the examples above and replace the names with the names of</p>
<p>your</p>
<p>component, port and communication element.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>215 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>4.11 Persistency</b></p>
<p>The persistency API provides methods which allow to import and export model</p>
<p>data from</p>
<p>and to files.</p>
<p>The files are normally in the AUTOSAR .arxml format.</p>
<p><b>4.11.1 Model</b></p>
<p><b>Export</b></p>
<p>The modelExporty allows to export MDF model data into .arxml files.</p>
<p>To access the export functionality use one of the getModelExport() or modelExport(Closure)</p>
<p>methods.</p>
<p>//</p>
<p>You</p>
<p>can</p>
<p>access</p>
<p>the</p>
<p>API</p>
<p>in</p>
<p>every</p>
<p>active</p>
<p>project</p>
<p><b>def</b></p>
<p>exportApi</p>
<p>=</p>
<p>persistency . modelExport</p>
<p>// Or</p>
<p>you</p>
<p>use</p>
<p>a</p>
<p>closure</p>
<p>persistency . modelExport</p>
<p>{</p>
<p>}</p>
<p>Listing 4.256: Accessing the model export persistency API</p>
<p><b>4.11.1.1 Export ActiveEcuc</b></p>
<p>The method exportActiveEcucToFile(Object) exports the whole ActiveEcuC configuration</p>
<p>into a single file of type Path specified by the user.</p>
<p>scriptTask ( ' taskName ')</p>
<p>{</p>
<p>code</p>
<p>{</p>
<p><b>def</b></p>
<p>destinationFile</p>
<p>//</p>
<p>Define</p>
<p>the</p>
<p>file</p>
<p>to</p>
<p>export</p>
<p>into ...</p>
<p>persistency . modelExport . exportActiveEcucToFile ( destinationFile )</p>
<p>}</p>
<p>}</p>
<p>Listing 4.257: Export the ActiveEcuc to a file</p>
<p>The method exportActiveEcuc(Object) exports the whole ActiveEcuC configuration into a</p>
<p>single file of type Path.</p>
<p>scriptTask ( ' taskName ')</p>
<p>{</p>
<p>code</p>
<p>{</p>
<p><b>def</b></p>
<p>tempExportFolder</p>
<p>=</p>
<p>paths . resolveTempPath (&quot; .&quot; )</p>
<p><b>def</b></p>
<p>resultFile</p>
<p>=</p>
<p>persistency . modelExport . exportActiveEcuc (</p>
<p>tempExportFolder )</p>
<p>}</p>
<p>}</p>
<p>Listing 4.258: Export the ActiveEcuc into a folder</p>
<p><b>4.11.1.2 Export PostBuild Variants (Post-build selectable)</b></p>
<p>The method exportPostBuildVariants(Object) exports the PostBuild variants info.</p>
<p>This will</p>
<p>export the ActiveEcuc and miscellaneous data.</p>
<p>The ActiveEcuC is exported into one file (even</p>
<p>for split DPA-projects) per variant into &lt;project-name&gt;.&lt;variant-name&gt;.ecuc.arxml.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>216 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>Miscellaneous data is exported into one file per variant.</p>
<p>The files contain all data of the project</p>
<p>except:</p>
<p>• ModuleConfigurations, ModuleDefinitions</p>
<p>• BswImplementations, EcuConfigurations</p>
<p>• Variant information like EvaluatedVariantSet</p>
<p>The created files are &lt;project-name&gt;.&lt;variant-name&gt;.misc.arxml.</p>
<p>The method returns a List&lt;Path&gt; of exported files.</p>
<p>scriptTask ( ' taskName ')</p>
<p>{</p>
<p>code</p>
<p>{</p>
<p>persistency . modelExport</p>
<p>{</p>
<p><b>def</b></p>
<p>tempExportFolder</p>
<p>=</p>
<p>paths . resolveTempPath (&quot; . &quot; )</p>
<p><b>def</b></p>
<p>fileList</p>
<p>=</p>
<p>exportPostBuildVariants ( tempExportFolder )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.259: Export a PostBuild project into files per predefined variant</p>
<p><b>4.11.1.3 Export PreBuild Variants</b></p>
<p>The method exportPreBuildVariants(Object) exports the PreBuild variants info.</p>
<p>This will</p>
<p>export the ActiveEcuc and miscellaneous data.</p>
<p>The ActiveEcuC is exported into one file (even</p>
<p>for split DPA-projects) per variant into &lt;project-name&gt;.&lt;variant-name&gt;.ecuc.arxml.</p>
<p>Miscellaneous data is exported into one file per variant.</p>
<p>The files contain all data of the project</p>
<p>except:</p>
<p>• ModuleConfigurations, ModuleDefinitions</p>
<p>• BswImplementations, EcuConfigurations</p>
<p>The created files are &lt;project-name&gt;.&lt;variant-name&gt;.misc.arxml.</p>
<p>The method returns a List&lt;Path&gt; of exported files.</p>
<p>scriptTask ( ' taskName ')</p>
<p>{</p>
<p>code</p>
<p>{</p>
<p>persistency . modelExport</p>
<p>{</p>
<p><b>def</b></p>
<p>tempExportFolder</p>
<p>=</p>
<p>paths . resolveTempPath (&quot; . &quot; )</p>
<p><b>def</b></p>
<p>fileList</p>
<p>=</p>
<p>exportPreBuildVariants ( tempExportFolder );</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.260: Export a PreBuild project into files per predefined variant</p>
<p><b>4.11.1.4 Advanced Exports</b></p>
<p>The advanced export use case provides access to multiple IModelExporter for special</p>
<p>export</p>
<p>use cases like export the system description for the RTE.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>217 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>Normally you would retrieve an IModelExporter by its ID via getExporter(String).</p>
<p>On this</p>
<p>exporter you can call:</p>
<p>• IModelExporter.export(Object) to export the model</p>
<p>• IModelExporter.exportAsPostBuildVariants(Object) to export</p>
<p>the model</p>
<p>divided</p>
<p>into files per PostBuild predefined variant.</p>
<p>You can retrieve a list of</p>
<p>supported exporters from getAvailableExporter().</p>
<p>The list can</p>
<p>differ from data loaded in your project.</p>
<p>scriptTask ( ' taskName ')</p>
<p>{</p>
<p>code</p>
<p>{</p>
<p><b>def</b></p>
<p>tempExportFolder</p>
<p>=</p>
<p>paths . resolveTempPath (&quot; .&quot; )</p>
<p>//</p>
<p>Export</p>
<p>with</p>
<p>an</p>
<p>exporter</p>
<p>in</p>
<p>one</p>
<p>line</p>
<p>persistency . modelExport [ &quot; activeEcuc &quot; ]. export ( tempExportFolder )</p>
<p>}</p>
<p>}</p>
<p>Listing 4.261: Export the project with an exporter into a folder</p>
<p>scriptTask ( ' taskName ')</p>
<p>{</p>
<p>code</p>
<p>{</p>
<p><b>def</b></p>
<p>tempExportFolder</p>
<p>=</p>
<p>paths . resolveTempPath (&quot; .&quot; )</p>
<p><b>def</b></p>
<p>fileList</p>
<p>// Switch</p>
<p>to</p>
<p>the</p>
<p>persistency</p>
<p>export</p>
<p>API</p>
<p>persistency . modelExport {</p>
<p>//</p>
<p>The</p>
<p>getAvailableExporter ()</p>
<p>returns</p>
<p>all</p>
<p>exporters</p>
<p>in</p>
<p>the</p>
<p>system</p>
<p><b>def</b></p>
<p>exporterList</p>
<p>=</p>
<p>getAvailableExporter ()</p>
<p>//</p>
<p>Select</p>
<p>an</p>
<p>exporter</p>
<p>by</p>
<p>its</p>
<p>ID</p>
<p><b>def</b></p>
<p>exporterOpt</p>
<p>=</p>
<p>getExporter (&quot; activeEcuc &quot; )</p>
<p>exporterOpt . ifPresent</p>
<p>{</p>
<p>exporter</p>
<p>-&gt;</p>
<p>//</p>
<p>Export</p>
<p>into</p>
<p>folder ,</p>
<p>when</p>
<p>exporter</p>
<p>exists</p>
<p>fileList</p>
<p>=</p>
<p>exporter . export ( tempExportFolder )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.262: Export the project with an exporter and checks</p>
<p><b>Export an Model</b></p>
<p><b>Tree</b></p>
<p>The method exportModelTreeToFile(Object, MIObject) exports</p>
<p>the specified model</p>
<p>object and the subtree into a single file of</p>
<p>type Path specified by the</p>
<p>user.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>218 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>scriptTask ( ' taskName ')</p>
<p>{</p>
<p>code</p>
<p>{</p>
<p><b>def</b></p>
<p>destinationFile</p>
<p>//</p>
<p>Define</p>
<p>the</p>
<p>file</p>
<p>to</p>
<p>export</p>
<p>into ...</p>
<p>MIARPackage</p>
<p>autosarPkg</p>
<p>=</p>
<p>mdfModel ( AsrPath . create ( &quot;/ MICROSAR &quot; ))</p>
<p>persistency . modelExport {</p>
<p>exportModelTreeToFile ( destinationFile ,</p>
<p>autosarPkg )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.263: Export an AUTOSAR package into a file</p>
<p>The method exportModelTree(Object, MIObject) exports the specified model object and the</p>
<p>subtree into a single file of type Path.</p>
<p>scriptTask ( ' taskName ')</p>
<p>{</p>
<p>code</p>
<p>{</p>
<p><b>def</b></p>
<p>exportFolder</p>
<p>=</p>
<p>paths . resolveTempPath ( &quot;. &quot;)</p>
<p>MIARPackage</p>
<p>autosarPkg</p>
<p>=</p>
<p>mdfModel ( AsrPath . create ( &quot;/ MICROSAR &quot; ))</p>
<p><b>def</b></p>
<p>resultFile</p>
<p>=</p>
<p>persistency . modelExport . exportModelTree ( exportFolder ,</p>
<p>autosarPkg )</p>
<p>}</p>
<p>}</p>
<p>Listing 4.264: Export an AUTOSAR package into a folder</p>
<p><b>Export an Model</b></p>
<p><b>Tree including all</b></p>
<p><b>referenced Elements</b></p>
<p>You could also export model trees</p>
<p>including all referenced elements with the exporter modelTreeClosure:</p>
<p>scriptTask ( ' taskName ')</p>
<p>{</p>
<p>code</p>
<p>{</p>
<p><b>def</b></p>
<p>exportFolder</p>
<p>=</p>
<p>paths . resolveTempPath ( &quot;. &quot;)</p>
<p>MIARPackage</p>
<p>microsarPkg</p>
<p>=</p>
<p>mdfModel ( AsrPath . create (&quot; / MICROSAR &quot;) )</p>
<p>MIARPackage</p>
<p>autosarPkg</p>
<p>=</p>
<p>mdfModel ( AsrPath . create ( &quot;/ AUTOSAR &quot;) )</p>
<p>persistency . modelExport [ &quot; modelTreeClosure &quot; ]. export ( exportFolder ,</p>
<p>autosarPkg ,</p>
<p>microsarPkg )</p>
<p>}</p>
<p>}</p>
<p>Listing 4.265: Exports two elements and all references elements</p>
<p><b>Usage of</b></p>
<p><b>Exporter Arguments</b></p>
<p>You can use withExporterArgs(Map, Closure) to specify</p>
<p>exporter arguments like in the command line with –exporterArgs argument.</p>
<p>The key is the</p>
<p>exporter ID,</p>
<p>the value are the arguments to the exporter.</p>
<p>See command line help for de-</p>
<p>tails.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>219 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>persistency . modelExport {</p>
<p>//</p>
<p>Specify</p>
<p>the</p>
<p>arguments</p>
<p>with</p>
<p>exporterId :</p>
<p>&quot; arguments &quot;</p>
<p>withExporterArgs ( modelTree :</p>
<p>&quot; -- element</p>
<p>/ MICROSAR &quot;){</p>
<p>//</p>
<p>Call</p>
<p>any</p>
<p>export</p>
<p>code</p>
<p>with</p>
<p>the</p>
<p>active</p>
<p>arguments .</p>
<p>getExporter ( &quot; modelTree &quot; ) . get () . exportToFile ( destinationFile )</p>
<p>}</p>
<p>}</p>
<p>Listing 4.266: Use exporter arguments like in the commandline</p>
<p><b>4.11.2 Model</b></p>
<p><b>Import</b></p>
<p>To access the import functionality use one of the getModelImport() or modelImport(Closure)</p>
<p>methods.</p>
<p>//</p>
<p>You</p>
<p>can</p>
<p>access</p>
<p>the</p>
<p>API</p>
<p>in</p>
<p>every</p>
<p>active</p>
<p>project</p>
<p><b>def</b></p>
<p>importApi</p>
<p>=</p>
<p>persistency . modelImport</p>
<p>// Or</p>
<p>you</p>
<p>use</p>
<p>a</p>
<p>closure</p>
<p>persistency . modelImport</p>
<p>{</p>
<p>}</p>
<p>Listing 4.267: Accessing the model import persistency API</p>
<p><b>4.11.2.1 Module Configuration Import</b></p>
<p>To access the module import functionality use one of the importModuleConfigurations(List)</p>
<p>methods.</p>
<p>//</p>
<p>You</p>
<p>can</p>
<p>access</p>
<p>the</p>
<p>API</p>
<p>inside</p>
<p>the</p>
<p>closure</p>
<p>persistency . modelImport</p>
<p>{</p>
<p>importModuleConfigurations ( importFile )</p>
<p>}</p>
<p>Listing 4.268: Accessing the import module configuration persistency API</p>
<p>The method importModuleConfigurations(Path, Closure) imports MIModuleConfigura-</p>
<p>tion from the specified .arxml file into the current ActiveEcuC.</p>
<p>The Closure can be used to</p>
<p>specify the import mode and filter if necessary.</p>
<p>The method importModuleConfigurations(Path) imports MIModuleConfiguration from the</p>
<p>specified .arxml file into the current ActiveEcuC.</p>
<p>The method importModuleConfigurations(List) imports MIModuleConfiguration from the</p>
<p>specified .arxml files into the current ActiveEcuC.</p>
<p>The method importModuleConfigurations(List, Closure) imports MIModuleConfigura-</p>
<p>tion from the specified .arxml files into the current ActiveEcuC. The Closure can be used to</p>
<p>specify the import mode and filter if necessary.</p>
<p>Note:</p>
<p>If a module configuration is contained in several files a PersistencyImportException is</p>
<p>thrown.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>220 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>4.11.2.2 Specify import mode and module filter</b></p>
<p>To specify an import mode use the method addToModel(Closure) to add the imported modules</p>
<p>to the ActiveEcuC or use the method replaceInModel(Closure)<i> (this is the default mode)</i> to</p>
<p>replace already existing module configurations with the imported one.</p>
<p>To specify a filter for the module configurations to import use one of the methods:</p>
<p>• module(DefRef) Use a single DefRef</p>
<p>• module(List) Use a list of</p>
<p>DefRef or Autosar Paths as String</p>
<p>• module(AsrPath) Use a single AsrPath</p>
<p>• module(String) Use a single Autosar Path as String</p>
<p>//</p>
<p>You</p>
<p>can</p>
<p>access</p>
<p>the</p>
<p>API</p>
<p>inside</p>
<p>the</p>
<p>closure</p>
<p><b>def</b></p>
<p>importFile</p>
<p>=</p>
<p>paths . resolvePath (&quot; ./ ImportFile . arxml &quot;)</p>
<p>persistency . modelImport</p>
<p>{</p>
<p>importModuleConfigurations ( importFile )</p>
<p>{</p>
<p>addToModel () {</p>
<p>//</p>
<p>Use</p>
<p>' addToModel ()</p>
<p>to</p>
<p>add</p>
<p>the</p>
<p>imported</p>
<p>module</p>
<p>configuration</p>
<p>to</p>
<p>the</p>
<p>current</p>
<p>ActiveEcuC .</p>
<p>If</p>
<p>a</p>
<p>module</p>
<p>configuration</p>
<p>with</p>
<p>the</p>
<p>same</p>
<p>name</p>
<p>already</p>
<p>exists ,</p>
<p>the</p>
<p>module</p>
<p>configuration</p>
<p>is</p>
<p>ignored .</p>
<p>module (&quot;/ MICROSAR / LinIf &quot; )</p>
<p>//</p>
<p>-&gt;</p>
<p>DefRef</p>
<p>as</p>
<p>String</p>
<p>module (&quot;/ ActiveEcuC / LinNm &quot;)</p>
<p>//</p>
<p>-&gt;</p>
<p>Autosar</p>
<p>path</p>
<p>as</p>
<p>String</p>
<p>}</p>
<p>replaceInModel () {</p>
<p>//</p>
<p>Use</p>
<p>' replaceInModel () '</p>
<p>to</p>
<p>replace</p>
<p>already</p>
<p>existing</p>
<p>module</p>
<p>configurations</p>
<p>in</p>
<p>the</p>
<p>current</p>
<p>ActiveEcuC .</p>
<p>List &lt; String &gt;</p>
<p>modulesToImport</p>
<p>=</p>
<p>Arrays . asList (&quot;/ MICROSAR / LinSM &quot;)</p>
<p>module ( modulesToImport )</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>Listing 4.269: Specify the module configuration import mode and filter</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>221 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>4.12 Utilities</b></p>
<p><b>4.12.1 Constraints</b></p>
<p>Constraints provides general purpose constraints for checking given parameter values throug-</p>
<p>hout the automation interface.</p>
<p>These constraints are referenced from the AutomationInterface</p>
<p>documentation wherever they apply.</p>
<p>The AutomationInterface takes a fail</p>
<p>fast approach ve-</p>
<p>rifying provided parameter values as early as possible and throwing appropriate exceptions if</p>
<p>values violate the corresponding constraints.</p>
<p>The following constraints are provided:</p>
<p><b>IS_NOT_NULL</b></p>
<p>Ensures that the given Object is not null.</p>
<p><b>IS_NON_EMPTY_STRING</b></p>
<p>Ensures that the given String is not empty.</p>
<p><b>IS_VALID_FILE_NAME</b></p>
<p>Ensures that the given String can be used as a file name.</p>
<p><b>IS_VALID_PROJECT_NAME</b></p>
<p>Ensures that the given String can be used as a name for a</p>
<p>project.</p>
<p>A valid project name starts with a letter [a-zA-Z]</p>
<p>contains otherwise only characters</p>
<p>matching [a-zA-Z0-9_] and is at most 128 characters long.</p>
<p><b>IS_NON_EMPTY_ITERABLE</b></p>
<p>Ensures that the given Iterable is not empty.</p>
<p><b>IS_VALID_AUTOSAR_SHORT_NAME</b></p>
<p>Ensures that the given String conforms to the</p>
<p>syntactical requirements for AUTOSAR short names.</p>
<p><b>IS_VALID_AUTOSAR_SHORT_NAME_PATH</b> Ensures that the given String conforms</p>
<p>to the syntactical requirements for AUTOSAR short name paths.</p>
<p><b>IS_WRITABLE</b></p>
<p>Ensures that the file or folder represented by the given Path exists and can</p>
<p>be written to.</p>
<p><b>IS_READABLE</b></p>
<p>Ensures that the file or folder represented by the given Path exists and can</p>
<p>be read.</p>
<p><b>IS_EXISTING_FOLDER</b></p>
<p>Ensures that the given Path points to an existing folder.</p>
<p><b>IS_EXISTING_FILE</b></p>
<p>Ensures that the given Path points to an existing file.</p>
<p><b>IS_CREATABLE_FOLDER</b></p>
<p>Ensures that the given Path either points to an existing folder</p>
<p>which can be written to or points to a location at which a corresponding folder could be</p>
<p>created.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>222 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>IS_DCF_FILE</b></p>
<p>Ensures that the given Path points to a DaVinci</p>
<p>Developer workspace file</p>
<p>(.dcf file).</p>
<p><b>IS_DPA_FILE</b></p>
<p>Ensures that the given Path points to a DaVinci project file (.dpa file).</p>
<p><b>IS_ARXML_FILE</b></p>
<p>Ensures that the given Path points to an .arxml file.</p>
<p><b>IS_SYSTEM_DESCRIPTION_FILE</b></p>
<p>Ensures that the given Path points to a system des-</p>
<p>cription input file (.arxml, .dbc, .ldf, .xml or .vsde file).</p>
<p><b>4.12.2 Converters</b></p>
<p>General</p>
<p>purpose converters (java.util.Functions) for performing value conversions throug-</p>
<p>hout the automation interface are provided.</p>
<p>These converters are referenced from the Automa-</p>
<p>tionInterface documentation wherever they apply.</p>
<p>The AutomationInterface is typed strongly.</p>
<p>In some cases,</p>
<p>however,</p>
<p>e.g.</p>
<p>when specifying file locations,</p>
<p>it is desirable to allow for a range</p>
<p>of</p>
<p>possibly parameter types.</p>
<p>This is achieved by accepting parameters of</p>
<p>type Object and</p>
<p>converting the given parameters to the desired type.</p>
<p>The following converters are provided:</p>
<p><b>ScriptConverters.TO_PATH</b> Attempts to convert arbitrary Objects to Paths using</p>
<p>IAutomationPathsApi.resolvePath(Object) 4.4.3.2 on page 38.</p>
<p><b>ScriptConverters.TO_SCRIPT_PATH</b> Attempts to convert arbitrary Objects to Paths using</p>
<p>IAutomationPathsApi.resolveScriptPath(Object) 4.4.3.3 on page 39.</p>
<p><b>ScriptConverters.TO_VERSION</b> Attempts to convert arbitrary Objects to IVersions.</p>
<p>The</p>
<p>following conversions are implemented:</p>
<p>• For null or IVersion arguments the given argument is returned.</p>
<p>No conversion is applied.</p>
<p>• Strings are converted using Version.valueOf(String).</p>
<p>• Numbers are converted by converting the int obtained from Number.intValue() using</p>
<p>Version.valueOf(int).</p>
<p>• All other Objects are converted by converting the String obtained from Object.toString().</p>
<p><b>ScriptConverters.TO_BIG_INTEGER</b></p>
<p>Attempts to convert arbitrary Objects to BigInte-</p>
<p>gers.</p>
<p>The following conversions are implemented:</p>
<p>• For null or BigInteger arguments the given argument is returned.</p>
<p>No conversion is</p>
<p>applied.</p>
<p>• Integers, Longs, Shorts and Bytes are converted using BigInteger.valueOf(long).</p>
<p>• All</p>
<p>other types of objects are interpreted as Strings (Object.toString()) and passed</p>
<p>to BigInteger.BigInteger(String).</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>223 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>ScriptConverters.TO_BIG_DECIMAL</b></p>
<p>Attempts to convert arbitrary Objects to BigDeci-</p>
<p>mals.</p>
<p>The following conversions are implemented:</p>
<p>• For null or BigDecimal arguments the given argument is returned.</p>
<p>No conversion is</p>
<p>applied.</p>
<p>• Floats and Doubles, are converted using BigDecimal.valueOf(double).</p>
<p>• Integers, Longs, Shorts and Bytes are converted using BigDecimal.valueOf(long).</p>
<p>• All</p>
<p>other types of objects are interpreted as Strings (Object.toString()) and passed</p>
<p>to BigDecimal.BigDecimal(String).</p>
<p><b>ModelConverters.TO_MDF</b></p>
<p>Attempts to convert arbitrary Objects to MDFObjects.</p>
<p>The</p>
<p>following conversions are implemented:</p>
<p>• For null or MDFObject arguments the given argument is returned.</p>
<p>No conversion is</p>
<p>applied.</p>
<p>• IHasModelObjects are converted using their getMdfModelElement() method.</p>
<p>• IViewedModelObjects are converted using their getMdfObject() method.</p>
<p>• For all other Objects ClassCastExceptions are thrown.</p>
<p>For thrown Exceptions see the used functions described above.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>224 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>4.13 Advanced Topics</b></p>
<p>This chapter contains advanced use cases and classes for special tasks.</p>
<p>For a normal script these</p>
<p>items are not relevant.</p>
<p><b>4.13.1 Java Development</b></p>
<p>It is also possible to write automation scripts in plain Java code, but this is not recommended.</p>
<p>There are some items in the API, which need a different usage in Java code.</p>
<p>This chapter describes the differences in the Automation API when used from Java code.</p>
<p><b>4.13.1.1 Script Task Creation in Java Code</b></p>
<p>Java code could not use the Groovy syntax to provide script tasks.</p>
<p>So another way is needed</p>
<p>for this.</p>
<p>The IScriptFactory interface provides the entry point that Java code could provide</p>
<p>script tasks.</p>
<p>The createScript(IScriptCreationApi) method is called when the script is</p>
<p>loaded.</p>
<p>This interface is<b> not</b> necessary for Groovy clients.</p>
<p><b>public</b></p>
<p><b>class</b></p>
<p>MyScriptFactoryAsJavaCode</p>
<p><b>implements</b></p>
<p>IScriptFactory</p>
<p>{</p>
<p>@Override</p>
<p><b>public</b></p>
<p><b>void</b></p>
<p>createScript ( IScriptCreationApi</p>
<p>creation )</p>
<p>{</p>
<p>creation . scriptTask ( &quot; TaskFromFactory &quot; ,</p>
<p>IScriptTaskTypeApi .</p>
<p>DV_APPLICATION ,</p>
<p>( taskBuilder )</p>
<p>-&gt;</p>
<p>{</p>
<p>taskBuilder . code (</p>
<p>( scriptExecutionContext ,</p>
<p>taskArgs )</p>
<p>-&gt;</p>
<p>{</p>
<p>//</p>
<p>Your</p>
<p>script</p>
<p>task</p>
<p>code</p>
<p>here</p>
<p><b>return</b></p>
<p><b>null</b> ;</p>
<p>}) ;</p>
<p>}) ;</p>
<p>creation . scriptTask ( &quot; Task2 &quot; ,</p>
<p>IScriptTaskTypeApi . DV_PROJECT ,</p>
<p>( taskBuilder )</p>
<p>-&gt;</p>
<p>{</p>
<p>taskBuilder . code (</p>
<p>( scriptExecutionContext ,</p>
<p>taskArgs )</p>
<p>-&gt;</p>
<p>{</p>
<p>//</p>
<p>Your</p>
<p>script</p>
<p>task</p>
<p>code</p>
<p>for</p>
<p>Task2</p>
<p>here</p>
<p><b>return</b></p>
<p><b>null</b> ;</p>
<p>}) ;</p>
<p>}) ;</p>
<p>}</p>
<p>}</p>
<p>Listing 4.270: Java code usage of the IScriptFactory to contribute script tasks</p>
<p>You should try to use Groovy when possible,</p>
<p>because it is more concise than the Java code,</p>
<p>without any difference at script task creation and execution.</p>
<p><b>4.13.1.2 Java Code accessing Groovy API</b></p>
<p>Most of the Automation API is usable from both languages Java and Groovy, but some methods</p>
<p>are written for Groovy clients.</p>
<p>To use it from Java you have to write some glue code.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>225 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>Differences are:</p>
<p>• Accessing Properties</p>
<p>• Using API entry points.</p>
<p>• Creating Closures</p>
<p><b>Accessing Properties</b></p>
<p>Properties are not supported by Java so you have to use the getter/setter</p>
<p>methods instead.</p>
<p><b>API</b></p>
<p><b>Entry Points</b></p>
<p>Most of</p>
<p>the Automation API</p>
<p>is added to the object by so called Dy-</p>
<p>namicObjects.</p>
<p>This</p>
<p>is</p>
<p>not</p>
<p>available in Java,</p>
<p>so you have to call</p>
<p>IScriptExecutionCon-</p>
<p>text.getInstance(Class) instead.</p>
<p>So if</p>
<p>you want to access The IWorkflowApi</p>
<p>you have</p>
<p>to write:</p>
<p>// Java</p>
<p>code :</p>
<p>IScriptExecutionContext</p>
<p>scriptCtx</p>
<p>=</p>
<p>...;</p>
<p>IWorkflowApi</p>
<p>workflow</p>
<p>=</p>
<p>scriptCtx . getInstance ( IWorkflowApiEntryPoint .<b> class</b> ).</p>
<p>getWorkflow ()</p>
<p>// Instead</p>
<p>of</p>
<p>Groovy</p>
<p>code :</p>
<p>workflow {</p>
<p>}</p>
<p>Listing 4.271: Accessing WorkflowAPI in Java code</p>
<p><b>Creating Closure instances from Java lambdas</b></p>
<p>The class Closures provides API to create</p>
<p>Closure instances from Java FunctionalInterfaces.</p>
<p>The from() methods could be used to call Groovy API from Java classes, which only accepts</p>
<p>Closure instances.</p>
<p>Sample:</p>
<p>Closure &lt;? &gt;</p>
<p>c</p>
<p>=</p>
<p>Closures . from (( param )</p>
<p>-&gt;</p>
<p>{</p>
<p>//</p>
<p>Java</p>
<p>lambda</p>
<p>}) ;</p>
<p>Listing 4.272: Java Closure creation sample</p>
<p><b>Creating Closure Instances from Java Methods</b></p>
<p>You could also create arbitrary Closures</p>
<p>from any Java method with the class MethodClosure.</p>
<p>This is describe in:</p>
<p>http://melix.github.io/blog/2010/04/19/coding_a_groovy_closure_in.html</p>
<p>1</p>
<p><b>4.13.1.3 Java Code in dvgroovy Scripts</b></p>
<p>It is not possible to write Java classes when using the .dvgroovy script file.</p>
<p>You have to create</p>
<p>an automation script project, see chapter 7 on page 274.</p>
<p>1</p>
<p>Last accessed 2016-05-24</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>226 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>4.13.2 Unit testing API</b></p>
<p>The Automation Interface provides an connector to execute unit tests as script task.</p>
<p>This is</p>
<p>helpful, if you want to write tests for:</p>
<p>• Generators</p>
<p>• Validations</p>
<p>• Workflow rules</p>
<p>• ...</p>
<p>Normally a script task executes it’s code block, but the unit test task will execute all contained</p>
<p>unit tests instead.</p>
<p><b>4.13.2.1 JUnit4 Integration</b></p>
<p>The AutomationInterface can execute JUnit 4 test cases and test suites.</p>
<p><b>Execution of JUnit Test Classes</b></p>
<p>A simple unit test class will look like:</p>
<p><b>import</b></p>
<p>org . junit . Test ;</p>
<p><b>public</b></p>
<p><b>class</b></p>
<p>ScriptJUnitTest</p>
<p>{</p>
<p>@Test</p>
<p><b>public</b></p>
<p><b>void</b></p>
<p>testYourLogic ()</p>
<p>{</p>
<p>//</p>
<p>Write</p>
<p>your</p>
<p>test</p>
<p>code</p>
<p>here</p>
<p>}</p>
<p>Listing 4.273: Run all JUnit tests from one class</p>
<p>You can access the Automation API with the ScriptApi class.</p>
<p>See chapter 4.4.8 on page 48</p>
<p>for details.</p>
<p><b>Execution of multiple Tests with JUnit Suite</b></p>
<p>To execute multiple tests you have to group</p>
<p>the tests into a test suite.</p>
<p><b>import</b></p>
<p>org . junit . runner . RunWith ;</p>
<p><b>import</b></p>
<p>org . junit . runners . Suite ;</p>
<p><b>import</b></p>
<p>org . junit . runners . Suite . SuiteClasses ;</p>
<p>@RunWith ( Suite .<b> class</b> )</p>
<p>@SuiteClasses ({</p>
<p>//</p>
<p>Two</p>
<p>test</p>
<p>classes</p>
<p>ScriptJUnitTest .<b> class</b> ,</p>
<p>ScriptSpockTest .<b> class</b> ,</p>
<p>//</p>
<p>Another</p>
<p>JUnit</p>
<p>suite</p>
<p>InnerSuiteScriptJUnitTests .<b> class</b> ,</p>
<p>})</p>
<p><b>public</b></p>
<p><b>class</b></p>
<p>AllMyScriptJUnitTests</p>
<p>{</p>
<p>Listing 4.274: Run all JUnit tests using a Suite</p>
<p>You can also group test suites in test suites and so on.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>227 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p><b>4.13.2.2 Execution of Spock Tests</b></p>
<p>The AutomationInterface can also execute Spock tests.</p>
<p>See:</p>
<p>• Homepage:</p>
<p>https://github.com/spockframework/spock</p>
<p>2</p>
<p>• Documentation:</p>
<p>http://spockframework.github.io/spock/docs/1.0/index.html</p>
<p>3</p>
<p>It is also possible to group multiple Spock test into a JUnit Test Suite.</p>
<p>Usage sample:</p>
<p><b>import</b></p>
<p>spock . lang . Specification</p>
<p><b>class</b></p>
<p>ScriptSpockTest</p>
<p><b>extends</b></p>
<p>Specification</p>
<p>{</p>
<p><b>def</b></p>
<p>&quot; Simple</p>
<p>Spock</p>
<p>test &quot; () {</p>
<p>when :</p>
<p>// Add</p>
<p>your</p>
<p>test</p>
<p>logic</p>
<p>here</p>
<p><b>def</b></p>
<p>myExpectedString</p>
<p>=</p>
<p>&quot; Expected &quot;</p>
<p>then :</p>
<p>myExpectedString</p>
<p>==</p>
<p>&quot; Expected &quot;</p>
<p>}</p>
<p>}</p>
<p>Listing 4.275: Run unit test with the Spock framework</p>
<p>You can access the Automation API with the ScriptApi class.</p>
<p>See chapter 4.4.8 on page 48</p>
<p>for details.</p>
<p>You have to add a Spock dependency in your build.gradle file:</p>
<p>dependencies {</p>
<p>compileOnly &quot;org.spockframework:spock-core:1.0-groovy-2.4&quot;</p>
<p>}</p>
<p>Note:</p>
<p>after the change you have to call Gradle to update the IntelliJ IDEA project.</p>
<p>gradlew idea</p>
<p><b>4.13.2.3 Registration of Unit Tests in Scripts</b></p>
<p>A test or the root suite class has to be registered in a script to be executable.</p>
<p>The first argument</p>
<p>is the taskName for the UnitTests the second is the class of the tests.</p>
<p>//</p>
<p>You</p>
<p>can</p>
<p>add</p>
<p>a</p>
<p>unit</p>
<p>test</p>
<p>inside</p>
<p>a</p>
<p>script</p>
<p>unitTestTask ( &quot; MyUnitTest &quot; ,</p>
<p>AllMyScriptJUnitTests .<b> class</b> )</p>
<p>Listing 4.276: Add a UnitTest task with name MyUnitTest</p>
<p>It is also possible to reference the test/suite class directly as a script inside of a script project.</p>
<p>So you don’t have to create a script as a wrapper.</p>
<p>2</p>
<p>Last accessed 2016-05-24</p>
<p>3</p>
<p>Last accessed 2016-05-24</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>228 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 4.</b></p>
<p><b>AutomationInterface API Reference</b></p>
<p>project . ext . automationClasses</p>
<p>=</p>
<p>[</p>
<p>&quot; sample . MyScript &quot; ,</p>
<p>&quot; sample . MyUnitTestSuite &quot; ,</p>
<p>//</p>
<p>This</p>
<p>is</p>
<p>a</p>
<p>test</p>
<p>suite</p>
<p>//</p>
<p>Add</p>
<p>here</p>
<p>your</p>
<p>test</p>
<p>or</p>
<p>suite</p>
<p>class</p>
<p>with</p>
<p>full</p>
<p>qualified</p>
<p>name</p>
<p>]</p>
<p>Listing 4.277: The projectConfig.gradle file content for unit tests</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>229 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>5 Data models in detail</b></p>
<p>This chapter describes several details and concepts of the involved data models.</p>
<p>Be aware that</p>
<p>the information here is focused on the Java API. In most cases it is more convenient using the</p>
<p>Groovy APIs described in 4.6 on page 71.</p>
<p>So, whenever possible use the Groovy API and read</p>
<p>this chapter only to get background information when required.</p>
<p><b>5.1 MDF model</b></p>
<p><b>- the raw AUTOSAR data</b></p>
<p>The MDF model</p>
<p>is being used to store the AUTOSAR model</p>
<p>loaded from several</p>
<p>ARXML</p>
<p>files.</p>
<p>It consists of Java interfaces and classes which are generated from the AUTOSAR meta-</p>
<p>model.</p>
<p><b>5.1.1 Naming</b></p>
<p>The MDF interfaces have the prefix MI followed by the AUTOSAR meta-model name of the class</p>
<p>they represent.</p>
<p>For example,</p>
<p>the MDF interface related to the meta-model</p>
<p>class ARPackage</p>
<p>(AUTOSAR package in the top-level structure of the meta-model) is MIARPackage.</p>
<p><b>5.1.2 The models inheritance hiearchy</b></p>
<p>The MDF model therefore implements (nearly) the same inheritance hierarchy and associations</p>
<p>as defined by the AUTOSAR model.</p>
<p>These interfaces provide access to the data stored in the</p>
<p>model.</p>
<p>See figure 5.1 on the following page shows the (simplified) inheritance hierarchy of the ECUC</p>
<p>container type MIContainer.</p>
<p>What we can see in this example:</p>
<p>• A container is an MIIdentifiable which again is a MIReferrable.</p>
<p>The MIReferrable</p>
<p>is the type which holds the shortname (getName()).</p>
<p>All</p>
<p>types which inherit from the</p>
<p>MIReferrable have a shortname (MIARPackage, MIModuleConfiguration, ...)</p>
<p>• A container is also a MIHasContainer.</p>
<p>This is an artificial</p>
<p>base class (not part of</p>
<p>the</p>
<p>AUTOSAR meta-model) which provides all features of types which have sub-containers.</p>
<p>The MIModuleConfiguration therefore has the same base type</p>
<p>• A container also inherits from MIHasDefinition.</p>
<p>This is an artificial</p>
<p>base class (not</p>
<p>part of the AUTOSAR meta-model) which provides all</p>
<p>features of types which have an</p>
<p>AUTOSAR definition.</p>
<p>The MIModuleConfiguration and MIParameterValue therefore</p>
<p>has the same base type</p>
<p>• All MIIdentifiables can hold ADMIN-DATA and ANNOTATIONs</p>
<p>• All MDF objects in the AUTOSAR model tree inherit from MIObject which is again an</p>
<p>MIObject</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>230 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 5.</b></p>
<p><b>Data models in detail</b></p>
<p>Figure 5.1: ECUC container type inheritance</p>
<p><b>5.1.2.1 MIObject and MDFObject</b></p>
<p>The MIObject is the base interface for all AUTOSAR model objects in the DaVinci Configurator</p>
<p>data model.</p>
<p>It extends MDFObject which is the base interface of</p>
<p>all</p>
<p>model</p>
<p>objects.</p>
<p>Your</p>
<p>client code shall</p>
<p>always use MIObject,</p>
<p>when AUTOSAR model</p>
<p>objects are used,</p>
<p>instead of</p>
<p>MDFObject.</p>
<p>The figure 5.2 on the next page describes the class hierarchy of the MIObject.</p>
<p><b>5.1.3 The models containment tree</b></p>
<p>The root node of the AUTOSAR model is MIAUTOSAR. Starting at this object the complete model</p>
<p>tree can be traversed.</p>
<p>MIAUTOSAR.getSubPackage() for example returns a list of MIARPackage</p>
<p>objects which again have child objects and so on.</p>
<p>Figure 5.3 on the following page shows a simple example of an MDF object containment hier-</p>
<p>archy.</p>
<p>This example contains two AUTOSAR packages with module configurations below.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>231 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 5.</b></p>
<p><b>Data models in detail</b></p>
<p>Figure 5.2: MIObject class hierarchy and base interfaces</p>
<p>Figure 5.3: Autosar package containment</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>232 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 5.</b></p>
<p><b>Data models in detail</b></p>
<p>In general, objects which have child objects provide methods to retrieve them.</p>
<p>• MIAUTOSAR.getSubPackage() for example returns a list of child packages</p>
<p>• MIContainer.getSubContainer() returns the list of sub-containers and</p>
<p>MIContainer.getParameter() all parameter-values and reference-values of a container</p>
<p><b>5.1.4 The ECUC model</b></p>
<p>The interfaces and classes which represent the ECUC model don’t exactly follow the AUTOSAR</p>
<p>meta-model naming.</p>
<p>because they are designed to store AUTOSAR 3 and AUTOSAR 4 models</p>
<p>as well.</p>
<p>Affected interfaces are:</p>
<p>• MIModuleConfiguration and its child objects (containers, parameters, . . . )</p>
<p>• MIModuleDef and its child objects (containers definitions, parameter definitions, . . . )</p>
<p>The ECUC model also unifies the handling of parameter- and reference-values.</p>
<p>Both, parameter-</p>
<p>values and reference-values of a container,</p>
<p>are represented as MIParameterValue in the MDF</p>
<p>model.</p>
<p><b>5.1.5 Order of child objects</b></p>
<p>Child object lists in the MDF model have the same order as the data specified in the ARXML</p>
<p>files.</p>
<p>So, loading model objects from AXRML doesn’t change the order.</p>
<p><b>5.1.6 AUTOSAR references</b></p>
<p>All AUTOSAR reference objects in the MDF model have the base interface MIARRef.</p>
<p>Figure 5.4 shows this type hierarchy for the definition reference of an ECUC container.</p>
<p>Figure 5.4: The ECUC container definition reference</p>
<p>In ARXML, such a reference can be specified as:</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>233 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 5.</b></p>
<p><b>Data models in detail</b></p>
<p>&lt;DEFINITION-REF DEST=&quot;ECUC-PARAM-CONF-CONTAINER-DEF&quot;&gt;</p>
<p>/MICROSAR/Com/ComGeneral</p>
<p>&lt;/DEFINITION-REF&gt;</p>
<p>• MIARRef.getValue() returns the AUTOSAR path of the object, the reference points to</p>
<p>(as specified in the ARXML file).</p>
<p>In the example above &quot;/MIRCOSAR/Com/ComGeneral&quot;</p>
<p>would be this value</p>
<p>• MIContainerDefARRef.getRefTarget() on the other hand returns the referenced MDF</p>
<p>object if it exists.</p>
<p>This method is located in a specific, typesafe (according to the type it</p>
<p>points to) reference interface which extends MIARRef.</p>
<p>So, if an object with the AUTOSAR</p>
<p>path &quot;/MIRCOSAR/Com/ComGeneral&quot; exists in the model, this method will return it</p>
<p><b>5.1.7 Model</b></p>
<p><b>changes</b></p>
<p><b>5.1.7.1 Transactions</b></p>
<p>The MDF model</p>
<p>provides model</p>
<p>change transactions for grouping several</p>
<p>model</p>
<p>changes into</p>
<p>one atomic change.</p>
<p>A solving action, for example, is being executed within a transaction for being able to change</p>
<p>model</p>
<p>content.</p>
<p>Validation and generator developers don’t need to care for transactions.</p>
<p>The</p>
<p>tools framework mechanisms guarantee that their code is being executed in a transaction were</p>
<p>required.</p>
<p>The tool</p>
<p>guarantees that model</p>
<p>changes cannot be executed outside of</p>
<p>transactions.</p>
<p>So,</p>
<p>for</p>
<p>example,</p>
<p>during validation of</p>
<p>model</p>
<p>content the model</p>
<p>cannot be changed.</p>
<p>A model</p>
<p>change</p>
<p>here would lead to a runtime exception.</p>
<p><b>5.1.7.2 Undo/redo</b></p>
<p>On basis of</p>
<p>model</p>
<p>change transactions,</p>
<p>MDF provides means to undo and redo all</p>
<p>changes</p>
<p>made within one transaction.</p>
<p>The tools GUI allows the user to execute undo/redo on this</p>
<p>granularity.</p>
<p><b>5.1.7.3 Event handling</b></p>
<p>MDF also supports model change events.</p>
<p>All changes made in the model are reported by this</p>
<p>asynchronous event mechanism.</p>
<p>Validations,</p>
<p>for example,</p>
<p>detect this way which areas of the</p>
<p>model need to be re-validated.</p>
<p>The GUI listens to events to update its editors and views when</p>
<p>model content changes.</p>
<p><b>5.1.7.4 Deleting model</b></p>
<p><b>objects</b></p>
<p>Model objects must be deleted by a special service API. In Java code that’s:</p>
<p>IModelOperationsPublished.deleteFromModel(MDFObject).</p>
<p>Deleting an object means:</p>
<p>• All associations of the object are deleted.</p>
<p>The connection to its parent object, for example,</p>
<p>is being deleted which means that the object is not a member of the model tree anymore</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>234 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 5.</b></p>
<p><b>Data models in detail</b></p>
<p>• The object itself is being deleted.</p>
<p>In fact, it is not really deleted (and garbage collected)</p>
<p>as a Java object but only marked as removed.</p>
<p>Undo of the transaction, which deleted this</p>
<p>object, removes this marker and restores the deleted associations</p>
<p><b>5.1.7.5 Access to deleted objects</b></p>
<p>All</p>
<p>subsequent access to content of deleted objects throws a runtime exception.</p>
<p>Reading the</p>
<p>shortname of an MIContainer, for example.</p>
<p><b>5.1.7.6 Set-methods</b></p>
<p>Model interfaces provide get-methods to read model content.</p>
<p>MDF also offers set-methods for</p>
<p>fields and child objects with multiplicity 0..1 or 1..1.</p>
<p>These set-methods can be used to change model content.</p>
<p>• MIARRef.getValue() for example returns a references AUTOSAR path</p>
<p>• MIARRef.setValue(String newValue) sets a new path</p>
<p><b>5.1.7.7 Changing child list content</b></p>
<p>MDF doesn’t offer set-methods for fields and child objects with multiplicity 0..* or 1..*.</p>
<p>MIContainer.getSubContainer(), for example, returns the list of sub-containers but there is</p>
<p>no MIContainer.setSubContainer() method to change the sub-containers.</p>
<p>Changing child lists means changing the list itself.</p>
<p>• To add a new object to a child list, client code must use the lists add() method.</p>
<p>MIContai-</p>
<p>ner.getSubContainer().add(container),</p>
<p>for example,</p>
<p>adds a container as additional</p>
<p>sub-container.</p>
<p>This added object is being appended at the end of the list</p>
<p>• Removing child list objects is a side-effect of deleting this object.</p>
<p>The delete operation</p>
<p>removes it from the list automatically</p>
<p><b>5.1.7.8 Change restrictions</b></p>
<p>The tools transaction handling implements some model consistency checks to avoid model chan-</p>
<p>ges which shall be avoided.</p>
<p>Such changes are, for example:</p>
<p>• Creating duplicate shortnames below one parent object (e.g.</p>
<p>two sub-containers with the</p>
<p>same shortname)</p>
<p>• Changing or deleting pre-configured parameters</p>
<p>When client code tries to change the model</p>
<p>this way,</p>
<p>the related model</p>
<p>change transaction is</p>
<p>being canceled and the model changes are reverted (unconditional undo of the transaction).</p>
<p>A</p>
<p>special case here are solving actions.</p>
<p>When a solving action inconsistently changes the model,</p>
<p>only the changes made by this solving action are reverted (partial</p>
<p>transaction undo of</p>
<p>one</p>
<p>solving action execution).</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>235 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 5.</b></p>
<p><b>Data models in detail</b></p>
<p><b>5.2 Post-build selectable</b></p>
<p><b>5.2.1 Model</b></p>
<p><b>views</b></p>
<p><b>5.2.1.1 What model</b></p>
<p><b>views are</b></p>
<p>After project load,</p>
<p>the MDF model</p>
<p>contains all</p>
<p>objects found in the ARXML files.</p>
<p>Variation</p>
<p>points are just data structures in the model without any special meaning in MDF.</p>
<p>If you want to deal with variants you must use model views.</p>
<p>A model view filters access to the</p>
<p>MDF model based on the variant definition and the variation points.</p>
<p>There is one model</p>
<p>view per variant.</p>
<p>If</p>
<p>you use this variants model</p>
<p>view,</p>
<p>the MDF model</p>
<p>filters exactly what this variant contains.</p>
<p>All</p>
<p>other objects become invisible.</p>
<p>When your</p>
<p>retrieve parameters of</p>
<p>a container for example,</p>
<p>you’ll</p>
<p>see only parameters contained in your</p>
<p>selected variant.</p>
<p><b>final</b></p>
<p><b>boolean</b></p>
<p>isVisible</p>
<p>=</p>
<p>ModelAccessUtil . isVisible (t. paramVariantA ) ;</p>
<p>Listing 5.1: Check object visibility</p>
<p><b>5.2.1.2 The IModelViewManager project service</b></p>
<p>The IModelViewManager handles model</p>
<p>visibility in general.</p>
<p>It provides the following me-</p>
<p>ans:</p>
<p>• Get all available variants</p>
<p>• Execute code with visibility of a specific predefined variant only.</p>
<p>This means your code</p>
<p>sees all objects contained in the specified variant.</p>
<p>All objects which are not contained in</p>
<p>this variant will be invisible</p>
<p>• Execute code with visibility of invariant data only (see IInvariantView).</p>
<p>• Execute code with unfiltered model visibility.</p>
<p>This means that your code sees all objects</p>
<p>unconditionally.</p>
<p>If the project contains variant data, you see all variants together</p>
<p>It additionally provides detailed visibility information for single model objects:</p>
<p>• Get all variants, a specific object is visible in</p>
<p>• Find out if an object is visible in a specific variant</p>
<p><b>final</b></p>
<p>List &lt; IPostBuildPredefinedVariantView &gt;</p>
<p>variants</p>
<p>=</p>
<p>viewMgr .</p>
<p>getAllPostBuildVariantViews () ;</p>
<p>Listing 5.2: Get all available variants</p>
<p><b>try</b></p>
<p>(<b> final</b></p>
<p>IModelViewExecutionContext</p>
<p>context</p>
<p>=</p>
<p>viewMgr . executeWithModelView (t.</p>
<p>variantViewA ) )</p>
<p>{</p>
<p>assertIsVisible ( t . paramInvariant );</p>
<p>assertIsVisible ( t . paramVariantA );</p>
<p>assertNotVisible (t . paramVariantB );</p>
<p>}</p>
<p><b>try</b></p>
<p>(<b> final</b></p>
<p>IModelViewExecutionContext</p>
<p>context</p>
<p>=</p>
<p>viewMgr . executeWithModelView (t.</p>
<p>variantViewB ) )</p>
<p>{</p>
<p>assertIsVisible ( t . paramInvariant );</p>
<p>assertNotVisible (t . paramVariantA );</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>236 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 5.</b></p>
<p><b>Data models in detail</b></p>
<p>assertIsVisible ( t . paramVariantB );</p>
<p>}</p>
<p><b>try</b></p>
<p>(<b> final</b></p>
<p>IModelViewExecutionContext</p>
<p>context</p>
<p>=</p>
<p>viewMgr . executeUnfiltered () )</p>
<p>{</p>
<p>assertIsVisible ( t . paramInvariant );</p>
<p>assertIsVisible ( t . paramVariantA );</p>
<p>assertIsVisible ( t . paramVariantB );</p>
<p>}</p>
<p>Listing 5.3: Execute code with variant visibility</p>
<p><b>Important remark:</b></p>
<p>It is essential that the execute...() methods are used exactly as imple-</p>
<p>mented in the listing above.</p>
<p>The try (...)</p>
<p>{...} construct is a new Java 7 feature which</p>
<p>guarantees that resources are closed whenever (and how ever) the try block is being left.</p>
<p>For</p>
<p>details read:</p>
<p>http://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>237 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 5.</b></p>
<p><b>Data models in detail</b></p>
<p>Collection &lt; IPostBuildPredefinedVariantView &gt;</p>
<p>visibleVariants</p>
<p>=</p>
<p>viewMgr .</p>
<p>getVisiblePostBuildVariantViews ( t. paramInvariant );</p>
<p>assertThat ( visibleVariants . size () ,</p>
<p>equalTo (2) ) ;</p>
<p>assertThat ( visibleVariants ,</p>
<p>containsInAnyOrder (t. variantViewA ,</p>
<p>t. variantViewB ))</p>
<p>;</p>
<p>visibleVariants</p>
<p>=</p>
<p>viewMgr . getVisiblePostBuildVariantViews (t . paramVariantA );</p>
<p>assertThat ( visibleVariants . size () ,</p>
<p>equalTo (1) ) ;</p>
<p>assertThat ( visibleVariants ,</p>
<p>containsInAnyOrder (t. variantViewA ) );</p>
<p>Listing 5.4: Get all variants, a specific object is visible in</p>
<p><b>5.2.1.3 Variant siblings</b></p>
<p>Variant siblings of an MDF object are MDF object instances which represent the same object</p>
<p>but in other variants.</p>
<p>The method IModelVarianceAccessPublished.getPostBuildVariantSiblings() provides access</p>
<p>to these sibling objects:</p>
<p>This method returns MDF object instances representing the same object but in all</p>
<p>variants.</p>
<p>The collection returned contains the object itself</p>
<p>including all</p>
<p>siblings from other PostBuild</p>
<p>variants.</p>
<p>The calculation of siblings depends on the object-type as follows:</p>
<p>•<b> Ecuc Module Configuration:</b></p>
<p>Since module configurations are never variant,</p>
<p>this method always returns a collection</p>
<p>which contains the specified object only</p>
<p>•<b> Ecuc Container:</b></p>
<p>For siblings of a container all of the following conditions apply:</p>
<p><b>–</b> They have the same AUTOSAR path</p>
<p><b>–</b> They have the same definition path (containers with the same AUTOSAR path but</p>
<p>different definitions may occur in variant models - but they are not variant siblings</p>
<p>because they differ in type)</p>
<p>•<b> Ecuc Parameter:</b></p>
<p>For siblings of a parameter all of the following conditions apply:</p>
<p><b>–</b> The parent containers have the same AUTOSAR path</p>
<p><b>–</b> The parameter siblings have the same definition path</p>
<p>The parameter values are<b> not</b> relevant so parameter siblings may have different values.</p>
<p>Multi-instance parameters are special.</p>
<p>In this case the method returns all multi-instance</p>
<p>siblings of all variants.</p>
<p>•<b> System description object:</b></p>
<p>For siblings of</p>
<p>MIReferrables all of the following conditions apply:</p>
<p><b>–</b> They have the same meta-class</p>
<p><b>–</b> They have the same AUTOSAR path</p>
<p>For siblings of non-MIReferrables all of the following conditions apply:</p>
<p><b>–</b> Their nearest MIReferrable-parents are either the same object or variant siblings</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>238 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 5.</b></p>
<p><b>Data models in detail</b></p>
<p><b>–</b> Their containment feature paths below these nearest MIReferrable-parents is equal</p>
<p><b>Special use cases:</b></p>
<p>When the specified object is not a member of the model tree (the object</p>
<p>itself</p>
<p>or one of</p>
<p>its parents has no parent),</p>
<p>it also has no siblings.</p>
<p>In this case this method</p>
<p>returns a collection containing the specified object only.</p>
<p><b>Remark concerning visibility:</b> This method returns all siblings independent of the currently</p>
<p>visible objects.</p>
<p>This means that the returned collection probably contains objects which are</p>
<p>not visible by the caller!</p>
<p>It also means that the specified object itself doesn’t need to be visible</p>
<p>for the caller.</p>
<p><b>5.2.1.4 The Invariant model</b></p>
<p><b>views</b></p>
<p>There are use cases which require to see the invariant model</p>
<p>content only.</p>
<p>One example are</p>
<p>generators for modules which don’t support variance at all.</p>
<p>There are two different invariant views currently defined:</p>
<p>•<b> Value based invariance</b> (values<i> are equal</i></p>
<p>in all variants):</p>
<p>The IPostBuildInvariantValuesView contains objects were all variant siblings have the</p>
<p>same value and exist in all variants.</p>
<p>One of the siblings is contained</p>
<p>•<b> Definition based invariance</b> (values which<i> shall</i></p>
<p><i>be equal</i></p>
<p>in all variants):</p>
<p>The IPostBuildInvariantEcucDefView contains objects which are not allowed to be</p>
<p>variant according to the BSWMD rules.</p>
<p>One of the siblings is contained</p>
<p>All</p>
<p>Invariant views derive from the same interface IInvariantView,</p>
<p>so if you want to use an</p>
<p>invariant view and not specifying the exact view, you could use the IInvariantView interface.</p>
<p>The figure 5.5 describes the hierarchy.</p>
<p>Figure 5.5: Invariant views hierarchy</p>
<p><b>The PostBuild InvariantValues model view</b></p>
<p>The IPostBuildInvariantValuesView contains</p>
<p>only elements which have<b> one</b> of the following properties:</p>
<p>• The element and no parent has any MIVariationPoint with a post-build condition</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>239 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 5.</b></p>
<p><b>Data models in detail</b></p>
<p>• All variant siblings have the same value and exist in all variants.</p>
<p>Then one of the siblings</p>
<p>is contained in the IPostBuildInvariantValuesView</p>
<p>So the semantic of</p>
<p>the InvariantValues model</p>
<p>view is that all</p>
<p>values are equal</p>
<p>in all</p>
<p>vari-</p>
<p>ants.</p>
<p>You could retrieve an instance of</p>
<p>IPostBuildInvariantValuesView by calling IModelView-</p>
<p>Manager.</p>
<p>getInvariantValuesView().</p>
<p>IModelViewManager</p>
<p>viewMgr</p>
<p>=...;</p>
<p>IPostBuildInvariantValuesView</p>
<p>invariantView</p>
<p>=</p>
<p>viewMgr .</p>
<p>getPostBuildInvariantValuesView () ;</p>
<p>//</p>
<p>Use</p>
<p>the</p>
<p>invariantView</p>
<p>like</p>
<p>any</p>
<p>other</p>
<p>model</p>
<p>view</p>
<p>Listing 5.5: Retrieving an InvariantValues model view</p>
<p><b>Example</b></p>
<p>The figure 5.6 describes an example for a module with containers and the visibility</p>
<p>in the IPostBuildInvariantValuesView.</p>
<p>• Container A is invisible because it is contained in variant 1 only</p>
<p>• Container B and C are visible because they are contained in all variants</p>
<p>• Parameter a is visible because it is contained in all variants with the same value</p>
<p>• Parameter b is invisible:</p>
<p>It is contained in all variants but with different values</p>
<p>• Parameter c is invisible because it is contained in variant 3 only</p>
<p>Figure 5.6: Example of a model structure and the visibility of the IInvariantValuesView</p>
<p><b>Specification</b></p>
<p>See also the specification for details of the IPostBuildInvariantValuesView.</p>
<p><b>The PostBuild Invariant EcuC definition model</b></p>
<p><b>view</b></p>
<p>The IPostBuildInvariantEcucDef-</p>
<p>View contains the same objects as the invariant values view but additionally excludes all objects</p>
<p>which, by (EcuC / BSWMD) definition, support variance.</p>
<p>Using this view you can avoid dealing</p>
<p>with objects which are accidentally equal by value (in your test configurations) but potentially</p>
<p>can be different because they support variance.</p>
<p>More exact the IPostBuildInvariantEcucDefView will</p>
<p>additionally exclude elements which</p>
<p>have the following properties:</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>240 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 5.</b></p>
<p><b>Data models in detail</b></p>
<p>• If the parent module configuration specifies VARIANT-POST-BUILD-SELECTABLE as</p>
<p>implementation configuration variant</p>
<p><b>–</b> All</p>
<p>objects ( MIContainer,</p>
<p>MINumericalValue,</p>
<p>...)</p>
<p>are<i> excluded</i>,</p>
<p>which<b> support</b></p>
<p>variance according to their EcuC definition.</p>
<p>(potentially variant objects)</p>
<p>• If the parent module configuration doesn’t specify VARIANT-POST-BUILD-SELECTABLE</p>
<p>as implementation configuration variant.</p>
<p>All contained objects<b> do not</b> support variance,</p>
<p>so the view actually shows the same objects as the IPostBuildInvariantValuesView.</p>
<p>The implementation configuration variant in fact overwrites the objects definition for elements</p>
<p>in the ModuleConfiguration.</p>
<p><b>Reasons to Use the view</b></p>
<p>The EcucDef</p>
<p>view guarantees that you don’t access potentially</p>
<p>variant data without using variant specific model</p>
<p>views.</p>
<p>So it allows you to improve code</p>
<p>quality in your generator.</p>
<p>When your test configuration for example contains equal</p>
<p>values for a parameter which is po-</p>
<p>tentially variant you will see this parameter in the invariant values view but not in the EcucDef</p>
<p>view.</p>
<p>Consequences if you access data in other module configurations:</p>
<p>When the BSWMD file</p>
<p>of</p>
<p>this other module is being changed,</p>
<p>e.g.</p>
<p>a parameter now supports variance,</p>
<p>objects can</p>
<p>become invisible due to this change.</p>
<p>You are forced to adapt your code then.</p>
<p><b>Usage</b></p>
<p>You could retrieve an instance of</p>
<p>IPostBuildInvariantEcucDefView by calling IMo-</p>
<p>delViewManager.getInvariantEcucDefView().</p>
<p>And then use is as any other IModelView.</p>
<p>IModelViewManager</p>
<p>viewMgr</p>
<p>=...;</p>
<p>IInvariantEcucDefView</p>
<p>invariantView</p>
<p>=</p>
<p>viewMgr . getInvariantEcucDefView () ;</p>
<p>//</p>
<p>Use</p>
<p>the</p>
<p>invariantView</p>
<p>like</p>
<p>any</p>
<p>other</p>
<p>model</p>
<p>view</p>
<p>Listing 5.6: Retrieving an InvariantEcucDefView model view</p>
<p><b>Specification</b></p>
<p>See also the specification for</p>
<p>details</p>
<p>of</p>
<p>the IPostBuildInvariantEcucDef-</p>
<p>View.</p>
<p><b>5.2.1.5 Accessing invisible objects</b></p>
<p>When you switch to a model view, objects which are not contained in the related variant become</p>
<p>invisible.</p>
<p>This means that access to their content leads to an InvisibleVariantObjectFea-</p>
<p>tureException.</p>
<p>To simplify handling of</p>
<p>invisible objects,</p>
<p>some model</p>
<p>services provide model</p>
<p>access even for</p>
<p>invisible objects in variant projects.</p>
<p>The affected classes and interfaces are:</p>
<p>• ModelUtil</p>
<p>• ModelAccessUtil</p>
<p>• IReferrableAccess</p>
<p>• IModelAccess</p>
<p>• IModelCompareService</p>
<p>• AsrPath</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>241 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 5.</b></p>
<p><b>Data models in detail</b></p>
<p>• DefRef</p>
<p>• IEcucDefinitionAccess (all methods which deal with configuration side objects)</p>
<p>Only a subset of the methods in these services work with invisible objects (read the methods</p>
<p>JavaDoc for details).</p>
<p>The general policy to select exactly these methods was:</p>
<p>• Support access to type and object identity of</p>
<p>MDF objects (definition and AUTOSAR</p>
<p>path)</p>
<p>• Parameter value or other content related information must still be retrieved in a context</p>
<p>the object is visible in</p>
<p>• Also not contained are methods which change model</p>
<p>content.</p>
<p>E.g.</p>
<p>deleting invisible</p>
<p>objects, set parameter values, ...</p>
<p><b>5.2.1.6 IViewedModelObject</b></p>
<p>The IViewedModelObject is a container for one MIObject and an IModelView that was used</p>
<p>when viewing the MIObject.</p>
<p>The interface provides getter for the MIObject,</p>
<p>and the IModelView which was active during</p>
<p>creation of the IViewedModelObject.</p>
<p>So the IViewedModelObject represents a tuple of</p>
<p>MI-</p>
<p>Object and IModelView.</p>
<p>This could be used to preserve the state/tuple of a MIObject and IModelView, for later retrie-</p>
<p>val.</p>
<p>Examples:</p>
<p>• BswmdModel objects</p>
<p>• Elements for validation results, retrieved in a certain view</p>
<p>• Model Query API like ModelTraverser, to preserve IModelView information</p>
<p>Notes:</p>
<p>A IViewedModelObject is immutable and will not update any state.</p>
<p>Especially not when the</p>
<p>visibility of</p>
<p>the getMdfObject(),</p>
<p>is changed after the construction of</p>
<p>the IViewedModelOb-</p>
<p>ject.</p>
<p>It is not guaranteed, that the MIObject is visible in the creation IModelView, after the model is</p>
<p>changed.</p>
<p>It is also possible to create an IViewedModelObject of a MIObject and a IModelView,</p>
<p>where the MIObject is invisible.</p>
<p>The method getCreationModelView() returns the IModelView of the IViewedModelObject,</p>
<p>which was active when the model object was viewed IViewedModelObject.</p>
<p><b>5.2.2 Variant specific model</b></p>
<p><b>changes</b></p>
<p>The CFG5 data model provides an execution context which guarantees that only the selected</p>
<p>variant is being modified.</p>
<p>Objects which are visible in more than one variant are cloned auto-</p>
<p>matically.</p>
<p>The clones and the object which is being modified (or their parents) automatically</p>
<p>get a variation point with the required post-build conditions.</p>
<p>The following picture shows how this execution context works:</p>
<p>See figure 5.7 on the following page.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>242 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 5.</b></p>
<p><b>Data models in detail</b></p>
<p>Figure 5.7: Variant specific change of a parameter value</p>
<p>• Before modifying the parameter,</p>
<p>this instance is invariant.</p>
<p>The same MDF instance is</p>
<p>visible in all variants</p>
<p>• When the client code changes the parameter value,</p>
<p>the model</p>
<p>automatically clones the</p>
<p>parameter first</p>
<p>• Only the parameter instance which is visible in the currently active view is being modified.</p>
<p>The content of other variants stays untouched</p>
<p><b>Remark:</b></p>
<p>This change mode is implicitly turned off when executing code in the IInvariant-</p>
<p>View or in an unfiltered context.</p>
<p><b>try</b></p>
<p>(<b> final</b></p>
<p>IModelViewExecutionContext</p>
<p>viewContext</p>
<p>=</p>
<p>viewMgr .</p>
<p>executeWithModelView ( variantView ))</p>
<p>{</p>
<p><b>try</b></p>
<p>(<b> final</b></p>
<p>IModelViewExecutionContext</p>
<p>modeContext</p>
<p>=</p>
<p>viewMgr .</p>
<p>executeWithVariantSpecificModelChanges () )</p>
<p>{</p>
<p>ma . setAsString ( parameter ,</p>
<p>&quot; Vector - Informatik &quot;);</p>
<p>}</p>
<p>}</p>
<p>Listing 5.7: Execute code with variant specific changes</p>
<p><b>5.2.3 Variant common model</b></p>
<p><b>changes</b></p>
<p>The CFG5 data model provides an execution context which guarantees that model objects are</p>
<p>modified in all variants.</p>
<p>The behavior of this mode depends on the mode flag parameter as follows:</p>
<p>•<b> mode == ALL</b> : All parameters and containers are affected</p>
<p>•<b> mode == DEFINITION_BASED</b> :</p>
<p>Only those parameters and containers are af-</p>
<p>fected which do not support variance (according to their definition in the BSWMD file</p>
<p>and the implementation configuration variant of their module configuration)</p>
<p>•<b> mode == OFF</b> : Doesn’t turn on this change mode (this value is used internally only)</p>
<p><b>Remark:</b></p>
<p>This method doesn’t allow to reduce the scope of this change mode.</p>
<p>So if ALL is</p>
<p>already set, this method doesn’t permit to use DEFINITION_BASED (or OFF) to reduce the</p>
<p>effective amount of objects.</p>
<p>ALL will be still active then.</p>
<p>The following picture shows how this execution context works:</p>
<p>See figure 5.8 on the next page.</p>
<p>• We start with a variant model</p>
<p>which contains one parameter in two instances - one per</p>
<p>variant - with the values 3 and 7</p>
<p>• When the client code sets the parameter value in variant 1 to 4, the model automatically</p>
<p>modifies the variant sibling in variant 2</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>243 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 5.</b></p>
<p><b>Data models in detail</b></p>
<p>Figure 5.8: Variant common change of a parameter value</p>
<p>• As a result, the parameter has the same value in all variants</p>
<p>This change mode works with parameters and containers.</p>
<p>The following operations are suppor-</p>
<p>ted:</p>
<p>•<b> Container/parameter creation:</b></p>
<p>The created object afterwards exists in all</p>
<p>variants</p>
<p>the related parent exists in.</p>
<p>Already existing objects are not modified.</p>
<p>Missing objects</p>
<p>are created</p>
<p>•<b> Container/parameter deletion:</b></p>
<p>The deleted object afterwards is being removed from</p>
<p>all variants the related parent exists in.</p>
<p>So actually all variant siblings are deleted</p>
<p>•<b> Parameter value change:</b></p>
<p>The parameter exists and has the same value in all variants</p>
<p>the parent container exists in.</p>
<p>If a parameter instance is missing in a variant, it is being</p>
<p>created</p>
<p>Special behavior for multi-instance parameters:</p>
<p>• This mode guarantees that a set of multi-instance parameters is equal in all variants</p>
<p>• Only the values of multi-instance parameters are relevant.</p>
<p>Their order can be different in</p>
<p>different variants</p>
<p>• Beside the values, this change mode guarantees that all variants contain the same number</p>
<p>of parameter instances.</p>
<p>So, when a multi-instance set is being modified in a variant view,</p>
<p>this change mode creates or deletes objects in other variants to guarantee an equal number</p>
<p>of instances in all variant sibling sets</p>
<p><b>Remark:</b></p>
<p>This change mode is implicitly turned on with the mode flag ALL when code is</p>
<p>being executed in the IInvariantView.</p>
<p>It is being ignored implicitly when executing code in</p>
<p>an unfiltered context.</p>
<p><b>5.3 BswmdModel</b></p>
<p><b>details</b></p>
<p><b>5.3.1 BswmdModel</b></p>
<p><b>- DefinitionModel</b></p>
<p>The BswmdModel provides a type safe and easy access to data of BSW modules (Ecu configu-</p>
<p>ration elements).</p>
<p><b>Example:</b></p>
<p>© 2018, Vector Informatik GmbH</p>
<p>244 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 5.</b></p>
<p><b>Data models in detail</b></p>
<p>• Access a single parameter /MICROSAR/ComM/ComMGeneral/ComMUseRte</p>
<p>You can to write:</p>
<p>comM.getComMGeneral().getComMUseRte()</p>
<p>• Access containers[0:*] /MICROSAR/ComM/ComMChannel</p>
<p>You can to write:</p>
<p>for (ComMChannel channel : comM.getComMChannel()){</p>
<p>int value = channel.getComMChannelId().getValue();</p>
<p>}</p>
<p>The DaVinci</p>
<p>Configurator internal</p>
<p>Model</p>
<p>(MDF model) has 1:1 relationship to your Bswmd-</p>
<p>Model.</p>
<p>The BswmdModel will retrieve all data from the underlying MDF model.</p>
<p>Figure 5.9: The relationship between the MDF model and the BswmdModel</p>
<p><b>DefinitionModel</b></p>
<p>The DefinitionModel</p>
<p>is the base implementation of</p>
<p>every BswmdModel.</p>
<p>Every BswmdModel</p>
<p>class is a subclass of</p>
<p>the DefinitionModel</p>
<p>where the classes begin with</p>
<p>GI, like GIContainer.</p>
<p><b>5.3.1.1 Types of DefinitionModels</b></p>
<p>There are two types of DefinitionModels:</p>
<p>1.</p>
<p><b>BswmdModel</b> (formally known as DefinitionTyped BswmdModel)</p>
<p>2.</p>
<p><b>DefRef API</b> (formally known as Untyped BswmdModel)</p>
<p>The<b> BswmdModel</b> consists of generated classes for the module definition elements like Mo-</p>
<p>duleDefinitions, Containers, Parameters in bswmd files.</p>
<p>The generated class contains</p>
<p>getter methods for each child element.</p>
<p>So you can access every child by the corresponding</p>
<p>getter method with compile time safety of the sub type.</p>
<p>The<b> BswmdModel</b> derives from the<b> DefinitionModel DefRef API</b>, so the<b> BswmdModel</b></p>
<p>contains all functionalities of the<b> DefRef API</b>.</p>
<p>The<b> DefRef API</b> of the DefinitionModel provides an generic access to the Ecu configuration</p>
<p>structure via DefRefs.</p>
<p>There are<b> NO</b> generated classes for the Definition structure.</p>
<p>The</p>
<p><b>DefRef API</b> uses the base classes of the DefinitionModel to provide this DefRef based access.</p>
<p>Every interface in the DefinitionModel starts with an GI. The Ecu Configuration elements have</p>
<p>corresponding base interfaces for each element:</p>
<p>• ModuleConfiguration - GIModuleConfiguration</p>
<p>• Container - GIContainer</p>
<p>• ChoiceContainer - GIChoiceContainer</p>
<p>• Parameter - GIParameter&lt;?&gt;</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>245 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 5.</b></p>
<p><b>Data models in detail</b></p>
<p><b>–</b> Integer Parameter - GIParameter&lt;BigInteger&gt;</p>
<p><b>–</b> Boolean Parameter - GIParameter&lt;Boolean&gt;</p>
<p><b>–</b> Float Parameter - GIParameter&lt;BigDecimal&gt;</p>
<p><b>–</b> String Parameter - GIParameter&lt;String&gt;</p>
<p>• Reference - GIReference&lt;?&gt;</p>
<p><b>–</b> Container Reference - GIReferenceToContainer</p>
<p><b>–</b> Foreign Reference- GIReference&lt;Class&gt;</p>
<p>So there are different classes for the different model types, e.g.</p>
<p>all MDF classes start with MI,</p>
<p>the Untyped start with GI and DefinitionTyped classes are generated.</p>
<p>The table 5.1 contrasts</p>
<p>the different model types and their corresonding classes.</p>
<p><b>AUTOSAR type</b></p>
<p><b>MDFModel</b></p>
<p><b>“Untyped” BswmdModel</b></p>
<p><b>“DefinitionTyped”</b></p>
<p>ModuleConfiguration</p>
<p>MIModuleConfiguration</p>
<p>GIModuleConfiguration</p>
<p>CanIf</p>
<p>(generated)</p>
<p>Container</p>
<p>MIContainer</p>
<p>GIContainer</p>
<p>CanIfPrivateCfg</p>
<p>(generated)</p>
<p>String Parameter</p>
<p>MITextualValue</p>
<p>GIParameter&lt;String&gt;</p>
<p>GString</p>
<p>Integer Parameter</p>
<p>MINumericalValue</p>
<p>GIParameter&lt;BigInteger&gt;</p>
<p>GInteger</p>
<p>Reference to Container</p>
<p>MIReferenceValue</p>
<p>GIReferenceToContainer</p>
<p>CanIfCtrlDrvInitHohConfigRef</p>
<p>(generated)</p>
<p>Enum Parameter</p>
<p>MITextualValue</p>
<p>GIParameter&lt;String&gt;</p>
<p>CanIfDispatchBusOffUL</p>
<p>(generated)</p>
<p>Table 5.1: Different Class types in different models</p>
<p>Note:</p>
<p>The GString in the table is not the Groovy GString class.</p>
<p>It is com.vector.cfg.gen.core.bswmdmodel.param.GString.</p>
<p><b>5.3.1.2 DefRef Getter methods of Untyped Model</b></p>
<p>The DefRef API classes have no getter methods for the specific child types,</p>
<p>but the children</p>
<p>could be retrieve via the generic getter methods like:</p>
<p>• GIContainer.getSubContainers()</p>
<p>• GIContainer.getParameters()</p>
<p>• GIContainer.getParameters(TypedDefRef)</p>
<p>• GIContainer.getParameter(TypedDefRef)</p>
<p>• GIContainer.getReferencesToContainer(TypedDefRef)</p>
<p>• GIModuleConfiguration.getSubContainer(TypedDefRef)</p>
<p>• GIParameter.getValueMdf()</p>
<p>Additionally there are methods to retrieve other referenced elements,</p>
<p>like parent of reference</p>
<p>reverse lookup:</p>
<p>• GIContainer.getParent()</p>
<p>• GIContainer.getParent(DefRef)</p>
<p>• GIContainer.getReferencesPointingToMe()</p>
<p>• GIContainer.getReferencesPointingToMe(DefRef)</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>246 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 5.</b></p>
<p><b>Data models in detail</b></p>
<p>The following listing describe the usage of the untyped bswmd method in both models:</p>
<p>//</p>
<p>Get</p>
<p>the</p>
<p>container</p>
<p>from</p>
<p>external</p>
<p>method</p>
<p>getCanIfInitConfigBswmd ()</p>
<p>...</p>
<p><b>final</b></p>
<p>GIContainer</p>
<p>canIfInit</p>
<p>=</p>
<p>getCanIfInitConfigBswmd () ;</p>
<p>//</p>
<p>Gets</p>
<p>all</p>
<p>subcontainers</p>
<p>from</p>
<p>a</p>
<p>container</p>
<p>CanIfRxPduConfig</p>
<p>from</p>
<p>the</p>
<p>canIfInit</p>
<p>instance</p>
<p><b>final</b></p>
<p>List &lt; GIContainer &gt;</p>
<p>subContainers</p>
<p>=</p>
<p>canIfInit . getSubContainers (</p>
<p>CanIfRxPduConfig . DEFREF . castToTypedDefRef () ) ;</p>
<p><b>if</b></p>
<p>( subContainers . isEmpty () )</p>
<p>{</p>
<p>//</p>
<p>ERROR</p>
<p>Handling</p>
<p>}</p>
<p><b>final</b></p>
<p>GIContainer</p>
<p>cont</p>
<p>=</p>
<p>subContainers . get (0) ;</p>
<p>//</p>
<p>Gets</p>
<p>exactly</p>
<p>one</p>
<p>CanIfCanRxPduHrhRef</p>
<p>reference</p>
<p>from</p>
<p>the</p>
<p>cont</p>
<p>instance</p>
<p><b>final</b></p>
<p>GIReference &lt; MIContainer &gt;</p>
<p>child</p>
<p>=</p>
<p>cont . getReference ( CanIfCanRxPduHrhRef .</p>
<p>DEFREF . castToTypedDefRef () ) ;</p>
<p>Listing 5.8: Sample code to access element in an Untyped model with DefRefs</p>
<p><b>final</b></p>
<p>GIReferenceToContainer</p>
<p>ref</p>
<p>=</p>
<p>getCanIfCanRxPduHrhRefBswmd () ;</p>
<p><b>final</b></p>
<p>GIContainer</p>
<p>target</p>
<p>=</p>
<p>ref . getRefTarget () ;</p>
<p>Listing 5.9: Resolves a Refference traget of an Reference Parameter</p>
<p><b>final</b></p>
<p>GIParameter &lt; BigInteger &gt;</p>
<p>param</p>
<p>=</p>
<p>getCanIfInitConfigBswmd () . getParameter (</p>
<p>CanIfInitConfiguration . CANIF_NUMBER_OF_CAN_TXPDU_IDS_DEFREF ) ;</p>
<p><b>final</b></p>
<p>BigInteger</p>
<p>value</p>
<p>=</p>
<p>param . getValueMdf () ;</p>
<p>Listing 5.10: The value of a GIParameter</p>
<p>The figure 5.10 on the next page shows the available DefRef navigation methods for the Untyped</p>
<p>model.</p>
<p>There are more methods to navigate with the DefRef API through the a DefinitionModel,</p>
<p>please look into the Javadoc documentation of the GI... classes for more functionality.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>247 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 5.</b></p>
<p><b>Data models in detail</b></p>
<p>Figure 5.10: SubContainer DefRef navigation methods</p>
<p><b>5.3.1.3 References</b></p>
<p>All references in the BswmdModel are subtypes of GIReference.</p>
<p>The generated model contains</p>
<p>generated DefintionTyped classes for references to container, for the other references their are</p>
<p>only Untyped classes like GInstanceReference.</p>
<p>A GIReference has the method getRefTargetMdf(), this will always return the target in the</p>
<p>MDF model</p>
<p>as MIReferrable.</p>
<p>For non GIReferenceToContainer this is the normal</p>
<p>way to</p>
<p>resolve references,</p>
<p>but for reference to container you should always try to use the method</p>
<p>getRefTarget(), which will not leave the BswmdModel.</p>
<p><b>Note:</b></p>
<p>Try to use getRefTarget() as much as possible.</p>
<p><b>References to container</b></p>
<p>The following references are references to container (References poin-</p>
<p>ting to container) and are subtypes of the GIReferenceToContainer.</p>
<p>• Normal Reference</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>248 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 5.</b></p>
<p><b>Data models in detail</b></p>
<p>• SymbolicNameReference</p>
<p>• ChoiceReference</p>
<p>References have the method getRefTarget(), which returns the target as BswmdModel object.</p>
<p>If the type of the target is known at model generation time, the return type will be the generated</p>
<p>type, otherwise the return type is GIContainer.</p>
<p><b>Note:</b></p>
<p>It is always allowed to call</p>
<p>getRefTarget(),</p>
<p>also for references pointing to external</p>
<p>types.</p>
<p>There is the other method getPossibleRefTargets(),</p>
<p>which returns all</p>
<p>possible target con-</p>
<p>tainer as list.</p>
<p>If the type of the targets is known at model generation time, the list type will be</p>
<p>the generated type, e.G. List&lt;CanGeneral&gt;.</p>
<p>Otherwise the return type is List&lt;GIContainer&gt;.</p>
<p>Figure 5.11: Untyped reference interfaces in the BswmdModel</p>
<p><b>SymbolicNameReferences</b></p>
<p>SymbolicNameReferences have the same methods as GIReferen-</p>
<p>ceToContainer and the additional methods getRefTargetParameterMdf(), which returns the</p>
<p>target parameter as MIObject The method getRefTargetParameter() return a BswmdModel</p>
<p>object,</p>
<p>if</p>
<p>the type is known at model</p>
<p>generation time,</p>
<p>the type will</p>
<p>be the generated type.</p>
<p>Otherwise the return type is GIParameter.</p>
<p><b>Note:</b></p>
<p>It is always allowed to call</p>
<p>getRefTargetParameter(),</p>
<p>also for references pointing to</p>
<p>external types.</p>
<p><b>5.3.1.4 Post-build selectable with BswmdModel</b></p>
<p>The BswmdModel supports the Post-build selectable use case, in respect that you do not have</p>
<p>to switch nor cache the corresponding IModelView.</p>
<p>The BswmdModel</p>
<p>objects cache the so</p>
<p>called Creation ModelView and switch transparently to that view when accessing the Model.</p>
<p>So you don’t have to switch to the correct view on access.</p>
<p>See figure 5.12 on the following page.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>249 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 5.</b></p>
<p><b>Data models in detail</b></p>
<p>You only have to ensure, that the requested IModelView is active or passed as parameter, when</p>
<p>you create an instance at the GIModelFactory.</p>
<p>Note:</p>
<p>A lazy created object will</p>
<p>inherit the</p>
<p>view of the existing element.</p>
<p>Figure 5.12: Creating a BswmdModel in the Post-build selectable use case</p>
<p><b>5.3.1.5 Creation ModelView of the BswmdModel</b></p>
<p>Every GIModelObject (BswmdModel object) has a creation IModelView.</p>
<p>This is the IModel-</p>
<p>View, which was active or passed during creation of the BswmdModel.</p>
<p>At every method call to</p>
<p>the BswmdModel, the model will switch to this view.</p>
<p><b>Using the creation ModelView of the BswmdModel</b></p>
<p>The method getCreationModelView()</p>
<p>returns the IModelView of</p>
<p>this GIModelObject,</p>
<p>which was active during the creation of</p>
<p>this</p>
<p>BswmdModel.</p>
<p>The method executeWithCreationModelView() executes the code under visibility of the ge-</p>
<p>tCreationModelView() of this GIModelObject.</p>
<p><b>The returned IModelViewExecutionContext must be used within a Java &quot;try-with-</b></p>
<p><b>resources&quot; feature.</b></p>
<p>It makes sure,</p>
<p>that the old view is restored when the try is comple-</p>
<p>ted.</p>
<p>GIModelObject</p>
<p>myModelObject</p>
<p>=</p>
<p>...;</p>
<p><b>try</b></p>
<p>(<b> final</b></p>
<p>IModelViewExecutionContext</p>
<p>context</p>
<p>=</p>
<p>myModelObject .</p>
<p>executeWithCreationModelView () )</p>
<p>{</p>
<p>//</p>
<p>do</p>
<p>some</p>
<p>operations</p>
<p>...</p>
<p>}</p>
<p>Listing 5.11: Java:</p>
<p>Execute code with creation IModelView of BswmdModel object</p>
<p>The method executeWithCreationModelView(Runnable) executes the Runnable code under</p>
<p>visibility of the getCreationModelView() of this GIModelObject.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>250 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 5.</b></p>
<p><b>Data models in detail</b></p>
<p>GIModelObject</p>
<p>myModelObject</p>
<p>=</p>
<p>...;</p>
<p>myModelObject . executeWithCreationModelView (() - &gt;{</p>
<p>//</p>
<p>do</p>
<p>some</p>
<p>operations</p>
<p>}) ;</p>
<p>Listing 5.12: Java:</p>
<p>Execute code with creation IModelView of BswmdModel object via runnable</p>
<p>The method executeWithCreationModelView() executes the Supplier code under visibility</p>
<p>of</p>
<p>the getCreationModelView() of</p>
<p>this GIModelObject.</p>
<p>You could use this method,</p>
<p>if</p>
<p>you</p>
<p>want to return an object from this operation.</p>
<p>GIModelObject</p>
<p>myModelObject</p>
<p>=</p>
<p>...;</p>
<p>ReturnType</p>
<p>returnVal</p>
<p>=</p>
<p>myModelObject . executeWithCreationModelView (() - &gt;{</p>
<p>//</p>
<p>do</p>
<p>some</p>
<p>operations</p>
<p><b>return</b></p>
<p>theValue ;</p>
<p>}) ;</p>
<p>Listing 5.13: Java:</p>
<p>Execute code with creation IModelView of BswmdModel object</p>
<p><b>5.3.1.6 Lazy Instantiating</b></p>
<p>The BswmdModel</p>
<p>is instantiated lazily;</p>
<p>this means when you create a ModuleConfiguration</p>
<p>object only one object for the module configuration is created.</p>
<p>When you call a getXXX() method on the configuration it will create the requested sub element,</p>
<p>if it exists.</p>
<p>So you can start at any point in the model (e.g.</p>
<p>a Subcontainer) and the model is</p>
<p>build successively, by your calls.</p>
<p>It is also allowed to call</p>
<p>a getParent() on a Subcontainer,</p>
<p>if</p>
<p>the parent was not created yet.</p>
<p>The technique could be used in validations,</p>
<p>when the creation of the full</p>
<p>BswmdModel</p>
<p>is too</p>
<p>expensive.</p>
<p>Then you can create only the needed container; by an MDF model object.</p>
<p><b>5.3.1.7 Optional</b></p>
<p><b>Elements</b></p>
<p>All elements (Container, Parameter . . . ) are considered as optional if they have a multiplicity</p>
<p>of 0:1.</p>
<p>The BswmdModel</p>
<p>provide a special</p>
<p>handling of optional</p>
<p>elements.</p>
<p>This shall</p>
<p>support</p>
<p>you to recognize optional element during development (in the most cases some kind of special</p>
<p>handling is needed).</p>
<p>An optional Element has other access methods as a required Element:</p>
<p>The</p>
<p>method getXXX() will</p>
<p>not return the element,</p>
<p>it will</p>
<p>return a GIOptional&lt;Element&gt; object</p>
<p>instead.</p>
<p>You can ask the GIOptional object if</p>
<p>the element exists (optElement.exists()).</p>
<p>Then you can call optElement.get() to retrieve the real object.</p>
<p>You also have the choice to use the method existsXXX().</p>
<p>This method is equivalent to ge-</p>
<p>tXXX().exists().</p>
<p>The difference is that you get a compile error, if you try to use the optional</p>
<p>element without any check.</p>
<p>When you are sure that the element must exist you can directly call</p>
<p>getXXXUnsafe().</p>
<p>Note:</p>
<p>If you use any of the get methods (optElement.get() or getXXXUns-</p>
<p>afe()) and the element does not exist the normal BswmdModelException is thrown.</p>
<p><b>5.3.1.8 Class and Interface Structure of the BswmdModel</b></p>
<p>The upper part of the figure 5.13 on the next page shows the Untyped API (GI. . . interfaces).</p>
<p>The bottom left part is an example of DefinitionTyped (generated) class for the CanIf module.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>251 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 5.</b></p>
<p><b>Data models in detail</b></p>
<p>The bottom right part are the classes used by the DefinitionTyped model,</p>
<p>but are not visible</p>
<p>in the Untyped model.</p>
<p>Figure 5.13: Class and Interface Structure of the BswmdModel</p>
<p><b>5.3.1.9 BswmdModel</b></p>
<p><b>write access</b></p>
<p>The BswmdModel</p>
<p>supports a write access for ecu configuration elements.</p>
<p>This means new</p>
<p>elements can be created and existing elements can be modified and deleted by the BswmdMo-</p>
<p>del.</p>
<p>NOTE: The model is in read-only state by default, so no objects could be created.</p>
<p>For this reason</p>
<p>all</p>
<p>calls to an API which creates or deletes elements has to be executed within a transaction.</p>
<p>See<i> ModelDocumentation</i> chapter &quot;Model changes&quot; for more details.</p>
<p><b>Optional</b></p>
<p><b>and required Elements (0:1/1:1 Multiplicity)</b></p>
<p>For optional</p>
<p>or required elements,</p>
<p>the following additional methods are generated, if BswmdModelWriteAccess is enabled:</p>
<p>• get...OrNull():</p>
<p>Returns the requested element or null if it is missing.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>252 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 5.</b></p>
<p><b>Data models in detail</b></p>
<p>• get...OrCreate():</p>
<p>Returns the existing requested element or implicitly creates a new</p>
<p>one if it is missing.</p>
<p>E.g.</p>
<p>EcucGeneral:</p>
<p>Ecuc</p>
<p>ecuc</p>
<p>=</p>
<p>getEcucModuleConfig () ;</p>
<p>// Gets</p>
<p>the</p>
<p>EcucGeneral</p>
<p>container</p>
<p>or</p>
<p>null</p>
<p>if</p>
<p>it</p>
<p>is</p>
<p>missing .</p>
<p>EcucGeneral</p>
<p>ecucGeneralOrNull</p>
<p>=</p>
<p>ecuc . getEcucGeneralOrNull () ;</p>
<p>// Gets</p>
<p>the</p>
<p>existing</p>
<p>EcucGeneral</p>
<p>container</p>
<p>or</p>
<p>creates</p>
<p>a</p>
<p>new</p>
<p>one</p>
<p>if</p>
<p>it</p>
<p>is</p>
<p>missing .</p>
<p>EcucGeneral</p>
<p>ecucGeneralOrCreate</p>
<p>=</p>
<p>ecuc . getEcucGeneralOrCreate () ;</p>
<p>Listing 5.14: Additional write API methods for EcucGeneral</p>
<p><b>Multiple elements (Upper</b></p>
<p><b>Multiplicity &gt; 1)</b></p>
<p>For each multiple element,</p>
<p>the return type</p>
<p>for these elements is changed from List&lt;&gt; to GIPList&lt;&gt; for parameter and GICList&lt;&gt; for</p>
<p>container, if BswmdModelWriteAccess is enabled.</p>
<p>These new interfaces provide methods which</p>
<p>allow creating and adding new children for the corresponding elements:</p>
<p>• createAndAdd():</p>
<p>Creates a new child element, appends it to the list and returns the new</p>
<p>element.</p>
<p>• createAndAdd(int index):</p>
<p>Creates a new child element,</p>
<p>inserts it to the list at the</p>
<p>specified index position and returns the new element.</p>
<p>• For GICList&lt;&gt; only:</p>
<p><b>–</b> createAndAdd(String shortName):</p>
<p>Creates a new child element with the specified</p>
<p>shortName, appends it to the list and returns the new element.</p>
<p><b>–</b> createAndAdd(String shortName, int index):</p>
<p>Creates a new child element with</p>
<p>the specified shortName,</p>
<p>inserts it to the list at the specified index position and</p>
<p>returns the new element.</p>
<p><b>–</b> byName(String shortName):</p>
<p>Gets the container by specified shortName or throws</p>
<p>an exception if it is missing.</p>
<p><b>–</b> byNameOrNull(String shortName):</p>
<p>Gets the container by specified shortName or</p>
<p>null if it is missing.</p>
<p><b>–</b> byNameOrCreate(String shortName):</p>
<p>Gets the container by specified shortName</p>
<p>or implicitly creates a new one if it is missing.</p>
<p><b>–</b> exists(String shortname):</p>
<p>Returns true if the container exists, otherwise false.</p>
<p>E.g.</p>
<p>EcucCoreDefinition:</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>253 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 5.</b></p>
<p><b>Data models in detail</b></p>
<p>Ecuc</p>
<p>ecuc</p>
<p>=</p>
<p>getEcucModuleConfig () ;</p>
<p>// Gets</p>
<p>the</p>
<p>EcucCoreDefinition</p>
<p>list</p>
<p>( create</p>
<p>EcucHardware</p>
<p>container</p>
<p>if</p>
<p>it</p>
<p>is</p>
<p>missing )</p>
<p>GICList &lt; EcucCoreDefinition &gt;</p>
<p>ecucCores</p>
<p>=</p>
<p>ecuc . getEcucHardwareOrCreate () .</p>
<p>getEcucCoreDefinition () ;</p>
<p>// Adds</p>
<p>two</p>
<p>EcucCores</p>
<p>EcucCoreDefinition</p>
<p>core0</p>
<p>=</p>
<p>ecucCores . createAndAdd (&quot; EcucCore0 &quot; ) ;</p>
<p>EcucCoreDefinition</p>
<p>core1</p>
<p>=</p>
<p>ecucCores . createAndAdd (&quot; EcucCore1 &quot; ) ;</p>
<p><b>if</b> ( ecucCores . exists (&quot; EcucCore0 &quot; ))</p>
<p>{</p>
<p>// Sets</p>
<p>EcucCoreId</p>
<p>from</p>
<p>EcucCore0</p>
<p>to</p>
<p>0</p>
<p>ecucCores . byName ( &quot; EcucCore0 &quot; ) . getEcucCoreId () . setValue (0) ;</p>
<p>}</p>
<p>// Creates</p>
<p>a</p>
<p>new</p>
<p>EcucCore</p>
<p>by</p>
<p>method</p>
<p>byNameOrCreate</p>
<p>EcucCoreDefinition</p>
<p>core2</p>
<p>=</p>
<p>ecucCores . byNameOrCreate (&quot; EcucCore2 &quot;);</p>
<p>...</p>
<p>Listing 5.15: EcucCoreDefinition as GICList&lt;EcucCoreDefinition&gt;</p>
<p><b>Other write API</b></p>
<p>•<b> Deleting model objects</b>:</p>
<p>It is also possible to delete objects from the model.</p>
<p><b>–</b> moRemove:</p>
<p>Deletes the specified object from the model.</p>
<p><b>–</b> moIsRemoved:</p>
<p>Returns true, if the object was removed from repository, or is invisible</p>
<p>in the current active IModelView.</p>
<p>// Deletes</p>
<p>the</p>
<p>container</p>
<p>' EcucGeneral '</p>
<p>from</p>
<p>the</p>
<p>model .</p>
<p>ecucGeneral . moRemove () ;</p>
<p>// Deletes</p>
<p>the</p>
<p>parameter</p>
<p>' EcuCSafeBswChecks '</p>
<p>from</p>
<p>the</p>
<p>model .</p>
<p>ecucGeneral . getEcuCSafeBswChecks . moRemove () ;</p>
<p>// Deletes</p>
<p>the</p>
<p>child</p>
<p>container</p>
<p>' EcucCoreDefinition '</p>
<p>with</p>
<p>shortname</p>
<p>' EcucCore0 '</p>
<p>from</p>
<p>the</p>
<p>model .</p>
<p>ecucCores . byName ( &quot; EcucCore0 &quot;) . moRemove () ;</p>
<p>//</p>
<p>Checks</p>
<p>if</p>
<p>the</p>
<p>container</p>
<p>' EcucGeneral '</p>
<p>was</p>
<p>removed</p>
<p>from</p>
<p>repository ,</p>
<p>or</p>
<p>is</p>
<p>invisible</p>
<p>in</p>
<p>the</p>
<p>current</p>
<p>active</p>
<p>` IModelView `.</p>
<p><b>if</b> ( ecucGeneral . moIsRemoved () )</p>
<p>{</p>
<p>...</p>
<p>}</p>
<p>Listing 5.16: Deleting model objects</p>
<p>•<b> Duplication of containers</b>:</p>
<p>The method duplicate() copies a container with all</p>
<p>its</p>
<p>children and appends it to the same parent.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>254 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 5.</b></p>
<p><b>Data models in detail</b></p>
<p>// Duplicates</p>
<p>the</p>
<p>container</p>
<p>' EcucGeneral '</p>
<p>EcucGeneral</p>
<p>duplicatedEcucGeneral</p>
<p>=</p>
<p>ecucGeneral . duplicate () ;</p>
<p>// Duplicates</p>
<p>the</p>
<p>child</p>
<p>container</p>
<p>' EcucCoreDefinition '</p>
<p>with</p>
<p>shortname</p>
<p>'</p>
<p>EcucCore0 '</p>
<p>EcucCoreDefinition</p>
<p>duplicatedEcucCore0</p>
<p>=</p>
<p>ecucCores . byName (&quot; EcucCore0 &quot;).</p>
<p>duplicate () ;</p>
<p>Listing 5.17: Duplication of containers</p>
<p>•<b> Parameter values</b>:</p>
<p>The method setValue(VALUE) sets the value of a parameter.</p>
<p>This</p>
<p>method checks if</p>
<p>the specified parameters configuration object is available and sets the</p>
<p>new value.</p>
<p>If the parameter object is missing it is implicitly created in the model.</p>
<p>// Sets</p>
<p>the</p>
<p>value</p>
<p>of</p>
<p>the</p>
<p>parameter</p>
<p>' EcuCSafeBswChecks '</p>
<p>to</p>
<p>' true '</p>
<p>ecucGeneral . getEcuCSafeBswChecks . setValue (<b> true</b> );</p>
<p>Listing 5.18: Set parameter values with the BswmdModel Write API</p>
<p>•<b> Reference targets</b>:</p>
<p>The method setRefTarget(REF_TARGET) sets the target of</p>
<p>a re-</p>
<p>ference.</p>
<p>This method sets the specified target object as reference target of the specified</p>
<p>reference parameter.</p>
<p>If the reference parameter object is missing it is implicitly created</p>
<p>in the model.</p>
<p>// Gets</p>
<p>the</p>
<p>container</p>
<p>' OsCounter '</p>
<p>with</p>
<p>shortname</p>
<p>' SystemTimer '</p>
<p>OsCounter</p>
<p>osCounterTarget</p>
<p>=</p>
<p>os . getOsCounters . byName (&quot; SystemTimer &quot; ) ;</p>
<p>// Sets</p>
<p>the</p>
<p>reference</p>
<p>target</p>
<p>of</p>
<p>the</p>
<p>parameter</p>
<p>' CanCounterRef '</p>
<p>can . getCanGeneral () . getCanCounterRef () . setRefTarget ( osCounterTarget ) ;</p>
<p>Listing 5.19: Set reference targets with the BswmdModel Write API</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>255 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 5.</b></p>
<p><b>Data models in detail</b></p>
<p><b>5.3.2 BswmdModel</b></p>
<p><b>generation</b></p>
<p>The BswmdModel for the automation interface is generated automatically by the DaVinciCon-</p>
<p>figurator.</p>
<p><b>5.3.2.1 DerivativeMapping</b></p>
<p>If the SIP contains one or more modules with a DerivativeMapping, the BswmdModel classes for</p>
<p>these modules can only be generated for one certain derivative.</p>
<p>By default, the first derivative</p>
<p>is selected, sorted by UUID.</p>
<p>If a other derivative shall be selected for BswmdModel generation a Settings.xml file can be</p>
<p>defined in the SIP at &lt;SIP-ROOT-PATH&gt;/DaVinciConfigurator/Generators.</p>
<p>Sample file:</p>
<p>&lt; Settings &gt;</p>
<p>&lt; Settings</p>
<p>Name = &quot; com . vector . cfg . gen . bswmdmodelgenerator .</p>
<p>BswmdAutomationModelSettings &quot; &gt;</p>
<p>&lt;! -- Selects</p>
<p>the</p>
<p>derivative</p>
<p>with</p>
<p>the</p>
<p>name</p>
<p>or</p>
<p>UUID</p>
<p>specified</p>
<p>by</p>
<p>Value -- &gt;</p>
<p>&lt; Setting</p>
<p>Name =&quot; SelectedDerivative &quot;</p>
<p>Value = &quot; SPX546B &quot;/ &gt;</p>
<p>&lt;/ Settings &gt;</p>
<p>&lt;/ Settings &gt;</p>
<p>Listing 5.20: Settings.xml sample for DerivativeMapping</p>
<p><b>5.4 Model</b></p>
<p><b>Utility Classes</b></p>
<p><b>5.4.1 AutosarUtil</b></p>
<p>The class AutosarUtil is a static utility class.</p>
<p>Its methods are not directly related to the MDF</p>
<p>model but are useful when client code deals with AUTOSAR paths and shortnames on string</p>
<p>basis.</p>
<p>Some of these methods are</p>
<p>• isValidShortname(String):</p>
<p>Checks if this shortname is valid according the rules,</p>
<p>the</p>
<p>AUTOSAR standard defines (character set for example)</p>
<p>• getLastShortname(String):</p>
<p>Returns the last shortname of</p>
<p>the specified AUTOSAR</p>
<p>path</p>
<p>• getFirstShortname(String):</p>
<p>Returns the first shortname of the specified AUTOSAR</p>
<p>path</p>
<p>• getAllShortnames(String):</p>
<p>Returns all shortnames of the specified AUTOSAR path</p>
<p><b>5.4.2 AsrPath</b></p>
<p>The AsrPath class represents an AUTOSAR path without a connection to any model.</p>
<p>AsrPaths are constant;</p>
<p>their values cannot be changed after they are created.</p>
<p>This class is</p>
<p>immutable!</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>256 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 5.</b></p>
<p><b>Data models in detail</b></p>
<p><b>5.4.3 AsrObjectLink</b></p>
<p>This class implements an immutable identifier for AUTOSAR objects.</p>
<p>An AsrObjectLink can be created for each object in the MDF AUTOSAR model</p>
<p>tree.</p>
<p>The</p>
<p>main use case of object links is to identify an object unambiguously at a specific point in time for</p>
<p>logging reasons.</p>
<p>Additionally and under specific conditions it is also possible to find the related</p>
<p>MDF object using its AsrObjectLink instance.</p>
<p>But this search-by-link cannot be guaranteed</p>
<p>after model changes (details and restrictions below).</p>
<p><b>5.4.3.1 Restrictions of object links</b></p>
<p>• They are immutable and will therefore become invalid when the model changes</p>
<p>• So they don’t guarantee that the related MDF object can be retrieved after the model</p>
<p>has been changed.</p>
<p>Search-by-link may even find another object or throw an exception in</p>
<p>this case</p>
<p><b>5.4.4 DefRefs</b></p>
<p>The DefRef class represents an AUTOSAR definition reference (e.g.</p>
<p>/MICROSAR/CanIf) wit-</p>
<p>hout a connection to any model.</p>
<p>A DefRef replaces the String which represents a definition</p>
<p>reference.</p>
<p>You shall</p>
<p>always use a DefRef instance,</p>
<p>when you want to reference something by</p>
<p>it’s definition.</p>
<p>The class abstracts the behavior of definition references in the AUTOSAR model (e.g.</p>
<p>AUTO-</p>
<p>SAR 3 and AUTOSAR 4 handling).</p>
<p>DefRefs are constant; their values can not be changed after they are created.</p>
<p>All DefRef classes</p>
<p>are immutable.</p>
<p>A DefRef represents the definition reference as two parts:</p>
<p>• Package part - e.g.</p>
<p>/MICROSAR</p>
<p>• Definition without the package part - e.g.</p>
<p>CanIf/CanIfGeneral</p>
<p>This is used to navigate through the AUTOSAR model with refinements and wildcards.</p>
<p>So you</p>
<p>have to create a DefRef with the two parts separated.</p>
<p>The figure 5.14 on the following page shows the structure of</p>
<p>the DefRef class and its sub</p>
<p>classes.</p>
<p><b>Creation</b></p>
<p>You can create a DefRef object with following public static methods (partial):</p>
<p>• DefRef.create(DefRef, String) - Parent DefRef, Child name</p>
<p>• DefRef.create(IDefRefWildcard, String) - Wildcard, Definition without package</p>
<p>• DefRef.create(MIHasDefinition) - Model object</p>
<p>• DefRef.create(MIHasDefinition, String) - Parent object, Child name</p>
<p>• DefRef.create(MIParamConfMultiplicity) - Definition object</p>
<p>• DefRef.create(String, String) - Package part, Definition without package</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>257 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 5.</b></p>
<p><b>Data models in detail</b></p>
<p>Figure 5.14: DefRef class structure</p>
<p><b>Wildcards</b></p>
<p>DefRef instances can also have a wildcard instead of a package String (IDefRefWildcard).</p>
<p>The wildcard is used to match on multiple packages.</p>
<p>See chapter 5.4.4.2 on the next page for</p>
<p>details.</p>
<p><b>Useful</b></p>
<p><b>Methods</b></p>
<p>This section describes some useful</p>
<p>methods (Please look at the javadoc of</p>
<p>the DefRef class for a full documentation):</p>
<p>• defRef.isDefinitionOf(MIHasDefinition) - Checks the definition of the configuration</p>
<p>element and returns true if</p>
<p>the element has the definition.</p>
<p>The &quot;defRef&quot; object is e.g.</p>
<p>from the Constants class.</p>
<p><b>–</b> Note:</p>
<p>The method isDefinitionOf() returns false,</p>
<p>if the element is removed or</p>
<p>invisible.</p>
<p>• defRef.asDefinitionOf(MIHasDefinition, Class) - Checks the definition of the con-</p>
<p>figuration element and returns the element casted to the configuration subtype, or null.</p>
<p><b>–</b> Note:</p>
<p>The method asDefinitionOf() returns null,</p>
<p>if</p>
<p>the element is removed or</p>
<p>invisible.</p>
<p>MIObject</p>
<p>yourObject</p>
<p>=</p>
<p>...;</p>
<p>DefRef</p>
<p>yourDefRef</p>
<p>=</p>
<p>...;</p>
<p><b>if</b> ( yourDefRef . isDefinitionOf ( yourObject ){</p>
<p>// It</p>
<p>is</p>
<p>the</p>
<p>correct</p>
<p>instance</p>
<p>// Do</p>
<p>something</p>
<p>}</p>
<p>// Or</p>
<p>with</p>
<p>an</p>
<p>integrated</p>
<p>cast</p>
<p>in</p>
<p>the</p>
<p>TypedDefRef</p>
<p>case</p>
<p><b>final</b></p>
<p>MIContainer</p>
<p>container</p>
<p>=</p>
<p>yourDefRef . asDefinitionOf ( yourObject );</p>
<p><b>if</b> ( container</p>
<p>!=</p>
<p><b>null</b> ) {</p>
<p>// Do</p>
<p>something</p>
<p>}</p>
<p>Listing 5.21: DefRef isDefinitionOf methods</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>258 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 5.</b></p>
<p><b>Data models in detail</b></p>
<p><b>5.4.4.1 TypedDefRefs</b></p>
<p>The TypedDefRef class represents an AUTOSAR definition reference with the type of</p>
<p>the</p>
<p>AUTOSAR (MDF) model.</p>
<p>So every TypedDefRef knows which Definition, Configuration and</p>
<p>Value element is correct for the Definition path.</p>
<p>The DEF_TYPE,</p>
<p>CONFIG_TYPE and VALUE_TYPE are Java generics and are used many APIs to</p>
<p>return the specific type of a request.</p>
<p>In addition the most TypedDefRefs also provide additional TypeInfo data, like the Multiplicity</p>
<p>of the element.</p>
<p>See TypeInfo javadoc for more details.</p>
<p><b>5.4.4.2 DefRef Wildcards</b></p>
<p>The DefRef class supports so called wildcards,</p>
<p>which could be used to match on multiple</p>
<p>packages at once, like the /[MICROSAR] wildcard matches on any DefRef package starting with</p>
<p>/MICROSAR. E.g.</p>
<p>/MICROSAR, /MICROSAR/S12x, ....</p>
<p>Every wildcard is of type IDefRefWildcard.</p>
<p>An IDefRefWildcard instance could be passed</p>
<p>to the DefRef.create(IDefRefWildcard, String) method to create a DefRef with wildcard</p>
<p>information.</p>
<p><b>Predefined DefRef Wildcards</b></p>
<p>The class EDefRefWildcard contains the predefined IDefRef-</p>
<p>Wildcards for the DefRef class.</p>
<p>These IDefRefWildcards could be used to create DefRefs,</p>
<p>without creating your own wildcard for the standard use cases</p>
<p>The DefRef.create(String, String) method will</p>
<p>parse the first String to find a wildcard</p>
<p>matching the EDefRefWildcards.</p>
<p><b>Predefined wildcards:</b></p>
<p>The class EDefRefWildcard defines the following wildcards,</p>
<p>with the</p>
<p>specified semantic:</p>
<p>• EDefRefWildcard.ANY /[ANY]: Matches on any package path.</p>
<p>It is equal to any package</p>
<p>and any packages refines from ANY wildcard.</p>
<p>• EDefRefWildcard.AUTOSAR /[AUTOSAR]: Matches on the AUTOSAR3 and AUTOSAR4</p>
<p>packages (see DefRef class).</p>
<p>It is equal</p>
<p>to the AUTOSAR packages,</p>
<p>but not to refined</p>
<p>packages e.g.</p>
<p>/MICROSAR.</p>
<p>Any packages which refined from AUTOSAR also refines</p>
<p>from AUTOSAR wildcard.</p>
<p>• EDefRefWildcard.NOT_AUTOSAR_STMD /[!AUTOSAR_STMD]:</p>
<p>Matches on any package ex-</p>
<p>cept the AUTOSAR packages.</p>
<p>It is equal</p>
<p>to any package,</p>
<p>except AUTOSAR packages.</p>
<p>Any package refines from NOT_AUTOSAR_STMD wildcard, except AUTOSAR packages.</p>
<p>• EDefRefWildcard.MICROSAR /[MICROSAR]:</p>
<p>Matches on any package stating with /MI-</p>
<p>CROSAR (also /MICROSAR/S12x).</p>
<p>It is equal</p>
<p>to any package stating with /MICRO-</p>
<p>SAR. Any package starting with /MICROSAR refines from MICROSAR wildcard.</p>
<p>• EDefRefWildcard.NOT_MICROSAR /[!MICROSAR]: Matches on any package path not star-</p>
<p>ting with /MICROSAR. It is equal to any package not starting with /MICROSAR. Any</p>
<p>package,</p>
<p>which does not start with /MICROSAR,</p>
<p>refines from NOT_MICROSAR wildcard.</p>
<p>Also the AUTOSAR packages refine from NOT_MICROSAR wildcard.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>259 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 5.</b></p>
<p><b>Data models in detail</b></p>
<p><b>Creation of the DefRef with Wildcard</b></p>
<p>The elements of</p>
<p>EDefRefWildcard could be passed</p>
<p>to the DefRef constructor:</p>
<p>DefRef</p>
<p>myDefRef</p>
<p>=</p>
<p>DefRef . create ( EDefRefWildcard . MICROSAR ,</p>
<p>&quot; CanIf &quot;) ;</p>
<p>Listing 5.22: Creation of DefRef with wildcard from EDefRefWildcard</p>
<p><b>Custom DefRef Wildcards</b></p>
<p>You could create your own wildcard by implementing the interface</p>
<p>IDefRefWildcard.</p>
<p>Please choose a good name for your wildcard, because this could be displayed</p>
<p>to the user,</p>
<p>e.g.</p>
<p>in Validation results.</p>
<p>The matches(DefRef) method shall return true,</p>
<p>if the</p>
<p>passed DefRef matches the wildcard constraints.</p>
<p>Every wildcard string shall have the notation /[NameOfWildcard].</p>
<p>E.g.</p>
<p>/[MICROSAR], /[!MICROSAR].</p>
<p><b>5.4.5 CeState</b></p>
<p>The CeState is an object which allows to retrieve different states of a configuration entity.</p>
<p>The most important APIs for generator and script code are:</p>
<p>• IParameterStatePublished</p>
<p>• IContainerStatePublished</p>
<p><b>5.4.5.1 Getting a CeState object</b></p>
<p>The BSWMD models implement methods to get the CeState for a specific CE as the following</p>
<p>listing shows (the types GIParameter and GIContainer are interface base types in the BSWMD</p>
<p>models):</p>
<p>GIParameter</p>
<p>parameter</p>
<p>=</p>
<p>...;</p>
<p>IParameterStatePublished</p>
<p>parameterState</p>
<p>=</p>
<p>parameter . getCeState () ;</p>
<p>GIContainer</p>
<p>container</p>
<p>=</p>
<p>...;</p>
<p>IContainerStatePublished</p>
<p>containerState</p>
<p>=</p>
<p>container . getCeState () ;</p>
<p>Listing 5.23: Getting CeState objects using the BSWMD model</p>
<p><b>5.4.5.2 IParameterStatePublished</b></p>
<p>The IParameterStatePublished specifies a type-safe published API for parameter states.</p>
<p>It</p>
<p>mainly covers the following state information</p>
<p>• Does this parameter have a pre-configuration value?</p>
<p>What is this value?</p>
<p>The same</p>
<p>information is being provided for recommended and initial (derived) values</p>
<p>• Is this parameter user-defined?</p>
<p>• Is value change or deletion allowed in the current configuration phase (post-build loadable</p>
<p>use case)?</p>
<p>• What is the configuration class of this parameter</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>260 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 5.</b></p>
<p><b>Data models in detail</b></p>
<p>The figure 5.15 shows the inheritance hierarchy of the IParameterStatePublished class and</p>
<p>its sub classes.</p>
<p>Figure 5.15: IParameterStatePublished class structure</p>
<p>Parameters have different types of state information:</p>
<p>•<b> Simple state retrieval</b></p>
<p>Example:</p>
<p>The method isUserDefined() returns true when the parameter has a user-</p>
<p>defined flag.</p>
<p>•<b> States and values</b> (pre-configuration,</p>
<p>recommended configuration and inital</p>
<p>(derived)</p>
<p>values)</p>
<p>Example:</p>
<p>The method hasPreConfigurationValue() returns true when the parameter</p>
<p>has a pre-configured value.</p>
<p>getPreConfigurationValue() returns this value.</p>
<p>•<b> States and reasons</b></p>
<p>Example:</p>
<p>The method isDeletionAllowedAccordingToCurrentConfigurationPhase()</p>
<p>returns true if the parameter can be deleted in the current configuration phase (post-build</p>
<p>loadable projects only).</p>
<p>getNotDeletionAllowedAccordingToCurrentConfigurationP-</p>
<p>haseReasons() returns the reasons if deletion is not allowed.</p>
<p><b>5.4.5.3 IContainerStatePublished</b></p>
<p>The IContainerStatePublished specifies a type-safe published API for container states.</p>
<p>It</p>
<p>mainly covers the following state information</p>
<p>• Does this container have a pre-configuration container (includes access to this container)?</p>
<p>The same information is being provided for recommended and initial (derived) values</p>
<p>• Is change or deletion allowed in the current configuration phase (post-build loadable use</p>
<p>case)?</p>
<p>• In which configuration phase has this container been created in (post-build loadable use</p>
<p>case)?</p>
<p>• What is the configuration class of this container</p>
<p>The figure 5.16 on the next page shows the inheritance hierarchy of the IContainerStatePu-</p>
<p>blished class and its sub classes.</p>
<p>This API provides state information similar to IParameterStatePublished.</p>
<p>Some of the states</p>
<p>are container-specific, of course.</p>
<p>getCreationPhase(), for example, which returns the phase a</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>261 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 5.</b></p>
<p><b>Data models in detail</b></p>
<p>Figure 5.16: IContainerStatePublished class structure</p>
<p>container in a post-build loadable configuration has been created in.</p>
<p><b>5.5 Model</b></p>
<p><b>Services</b></p>
<p><b>5.5.1 EcucDefinitionAccess</b></p>
<p>The IEcucDefinitionAccess provides convenient and typesafe access to definition objects</p>
<p>(module,</p>
<p>container,</p>
<p>parameter and reference definitions).</p>
<p>The contained def() methods take</p>
<p>MDF definition objects and return wrappers which can be used to retrieve specific characteristics</p>
<p>of definitions.</p>
<p>Example:</p>
<p>IEcucDefinitionAccess</p>
<p>eda ;</p>
<p>MIIntegerParamDef</p>
<p>intParamDef ;</p>
<p>//</p>
<p>Get</p>
<p>the</p>
<p>integer</p>
<p>definition</p>
<p>wrapper</p>
<p>IEcucIntegerDefinition</p>
<p>def</p>
<p>=</p>
<p>eda . def ( intParamDef ) ;</p>
<p>//</p>
<p>Get</p>
<p>the</p>
<p>( optional )</p>
<p>default</p>
<p>value</p>
<p>Optional &lt; BigInteger &gt;</p>
<p>defaultOpt</p>
<p>=</p>
<p>def . getDefault () ;</p>
<p><b>boolean</b></p>
<p>hasDefault</p>
<p>=</p>
<p>defaultOpt . isPresent () ;</p>
<p>BigInteger</p>
<p>defaultValue</p>
<p>=</p>
<p>defaultOpt . get () ;</p>
<p>//</p>
<p>Get</p>
<p>the</p>
<p>multiplicity</p>
<p>IEcucDefMultiplicity</p>
<p>multiplicity</p>
<p>=</p>
<p>def . getMultiplicity () ;</p>
<p>BigInteger</p>
<p>lower</p>
<p>=</p>
<p>multiplicity . getLower () ;</p>
<p>BigInteger</p>
<p>upper</p>
<p>=</p>
<p>multiplicity . getUpper () ;</p>
<p>Listing 5.24: Integer parameter definition access examples</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>262 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 5.</b></p>
<p><b>Data models in detail</b></p>
<p><b>5.5.1.1 Post-build loadable</b></p>
<p><b>EcucModuleDefinition</b></p>
<p><b>IEcucModuleDefinition</b> is the interface of the module definition wrap-</p>
<p>per.</p>
<p>It provides the following method(s):</p>
<p><b>getSupportedConfigurationVariants()</b></p>
<p>The getSupportedConfigurationVariants() method returns a collection of supported confi-</p>
<p>guration variants.</p>
<p>Never returns null but an empty collection if no supported config variants</p>
<p>are specified.</p>
<p>The returned collection never contains the following literals:</p>
<p>• EEcucConfigurationVariant.PRECONFIGURED_CONFIGURATION</p>
<p>• EEcucConfigurationVariant.RECOMMENDED_CONFIGURATION</p>
<p>This method is for post-build loadable only!</p>
<p><b>Remark about AUTOSAR versions:</b> Prior to AUTOSAR 4.2.1 the module definitions used</p>
<p>the following valid values:</p>
<p>• VARIANT-PRE-COMPILE</p>
<p>• VARIANT-LINK-TIME</p>
<p>• VARIANT-POST-BUILD-LOADABLE</p>
<p>• VARIANT-POST-BUILD-SELECTABLE</p>
<p>VARIANT-POST-BUILD was invalid!</p>
<p>With AUTOSAR 4.2.1 and later,</p>
<p>the following values are</p>
<p>valid (because the loadable and selectable specifications have been separated):</p>
<p>• VARIANT-PRE-COMPILE</p>
<p>• VARIANT-LINK-TIME</p>
<p>• VARIANT-POST-BUILD</p>
<p>VARIANT-POST-BUILD-LOADABLE and VARIANT-POST-BUILD-SELECTABLE are invalid!</p>
<p>This method takes the AUTOSAR version into account and returns the post-build loadable</p>
<p>relevant specification only.</p>
<p><b>EcucContainerDefinition</b></p>
<p><b>IEcucContainerDefinition</b> is the interface of the container defi-</p>
<p>nition wrapper.</p>
<p>It provides the following method(s):</p>
<p><b>getMultiplicityConfigurationClass()</b></p>
<p>The getMultiplicityConfigurationClass(EEcucConfigurationVariant) method returns the</p>
<p>multiplicity configuration class for the specified module implementation variant.</p>
<p>The returned</p>
<p>value defines in which configuration phase the number of container instances latest may change</p>
<p>if the module implements the specified variant.</p>
<p>Supported values for the variant are</p>
<p>• EEcucConfigurationVariant.VARIANT_PRE_COMPILE</p>
<p>• EEcucConfigurationVariant.VARIANT_LINK_TIME</p>
<p>• EEcucConfigurationVariant.VARIANT_POST_BUILD_LOADABLE</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>263 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 5.</b></p>
<p><b>Data models in detail</b></p>
<p>Other values lead to an IllegalArgumentException.</p>
<p>This method doesn’t take the multiplicity into account.</p>
<p>It only investigates the multiplicity</p>
<p>configuration class as specified in the related container definition.</p>
<p>So it still may return EEcuc-</p>
<p>ConfigurationClass.POST_BUILD even if the multiplicity is 1:1 for example.</p>
<p>The post-build</p>
<p>loadable use case differs here from post-build selectable (see supportsVariantMultiplicity())</p>
<p>because the changeability in the post-build phase is being inherited from parent objects.</p>
<p>So, if</p>
<p>you want to find out if a container actually permits changes in the post-build phase, you should</p>
<p>use IContainerStatePublished.</p>
<p>This method is for post-build loadable only!</p>
<p><b>Remark about AUTOSAR versions:</b></p>
<p>Prior to AUTOSAR 4.2.1 the container definitions</p>
<p>contained the postBuildChangeable flag to define post-build loadable support.</p>
<p>This method</p>
<p>internally investigates the postBuildChangeable flag in this case but the multiplicityCon-</p>
<p>figClass table for AUROSAR 4.2.1 and newer versions.</p>
<p><b>EcucCommonAttributes</b></p>
<p><b>IEcucCommonAttributes</b> is the base interface of all parameter and</p>
<p>reference definition wrappers.</p>
<p>It provides the following method(s):</p>
<p><b>getMultiplicityConfigurationClass()</b></p>
<p>The getMultiplicityConfigurationClass(EEcucConfigurationVariant) method returns the</p>
<p>multiplicity configuration class for the specified module implementation variant.</p>
<p>The returned</p>
<p>value defines in which configuration phase the number of parameter instances latest may change</p>
<p>if the module implements the specified variant.</p>
<p>Supported values for the variant are</p>
<p>• EEcucConfigurationVariant.VARIANT_PRE_COMPILE</p>
<p>• EEcucConfigurationVariant.VARIANT_LINK_TIME</p>
<p>• EEcucConfigurationVariant.VARIANT_POST_BUILD_LOADABLE</p>
<p>Other values lead to an IllegalArgumentException.</p>
<p>This method doesn’t take the multiplicity into account.</p>
<p>It only investigates the multiplicity</p>
<p>configuration class as specified in the related parameter definition.</p>
<p>So it still may return EEcuc-</p>
<p>ConfigurationClass.POST_BUILD even if the multiplicity is 1:1 for example.</p>
<p>The post-build</p>
<p>loadable use case differs here from post-build selectable (see supportsVariantMultiplicity())</p>
<p>because the changeability in the post-build phase is being inherited from parent objects.</p>
<p>So,</p>
<p>if</p>
<p>you want to find out if</p>
<p>a parameter actually permits changes in the post-build phase,</p>
<p>you</p>
<p>should use IParameterStatePublished.</p>
<p>This method is for post-build loadable only!</p>
<p><b>Remark about AUTOSAR versions:</b></p>
<p>Prior to AUTOSAR 4.2.1 the parameter definitions</p>
<p>contain the implementationConfigClass table to define post-build loadable support.</p>
<p>This</p>
<p>method internally investigates the implementationConfigClass in this case but the multi-</p>
<p>plicityConfigClass table for AUROSAR 4.2.1 and newer versions.</p>
<p><b>getValueConfigurationClass()</b></p>
<p>The getValueConfigurationClass(EEcucConfigurationVariant) method returns the value</p>
<p>configuration class for the specified module implementation variant.</p>
<p>The returned value defines</p>
<p>in which configuration phase the value of parameter instances latest may change if the module</p>
<p>implements the specified variant.</p>
<p>Supported values for the variant are</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>264 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 5.</b></p>
<p><b>Data models in detail</b></p>
<p>• EEcucConfigurationVariant.VARIANT_PRE_COMPILE</p>
<p>• EEcucConfigurationVariant.VARIANT_LINK_TIME</p>
<p>• EEcucConfigurationVariant.VARIANT_POST_BUILD_LOADABLE</p>
<p>Other values lead to an IllegalArgumentException.</p>
<p>This method never returns EEcucConfigurationClass.LINK.</p>
<p>This method is for post-build loadable only!</p>
<p><b>Remark about AUTOSAR versions:</b></p>
<p>Prior to AUTOSAR 4.2.1 the parameter definitions</p>
<p>contain the implementationConfigClass table to define post-build loadable support.</p>
<p>This</p>
<p>method internally investigates the implementationConfigClass in this case but the value-</p>
<p>ConfigClass table for AUROSAR 4.2.1 and newer versions.</p>
<p><b>5.5.1.2 Post-build selectable</b></p>
<p><b>EcucModuleDefinition</b></p>
<p><b>IEcucModuleDefinition</b> is the interface of the module definition wrap-</p>
<p>per.</p>
<p>It provides the following method(s):</p>
<p><b>supportsPostBuildVariance()</b></p>
<p>The supportsPostBuildVariance() method returns true if this module configuration supports</p>
<p>post-build selectable.</p>
<p><b>Remark about AUTOSAR versions:</b></p>
<p>Prior to AUTOSAR 4.2.1 the module definitions</p>
<p>supportedSupportedConfigurationVariants defined both, post-build loadable and selectable</p>
<p>support.</p>
<p>With AUTOSAR 4.2.1 the supportedSupportedConfigurationVariants specifies</p>
<p>post-build loadable only and this method returns the value of the new postBuildVariantSup-</p>
<p>port flag.</p>
<p><b>EcucCommonAttributes</b></p>
<p><b>IEcucContainerDefinition</b> is the interface of the container defini-</p>
<p>tion wrapper.</p>
<p>It provides the following method(s):</p>
<p><b>supportsVariantMultiplicity()</b></p>
<p>The supportsVariantMultiplicity() method returns true if</p>
<p>this container type supports</p>
<p>variant multiplicity.</p>
<p>If true is returned this means that different variants may contain different</p>
<p>number of instances of this container type.</p>
<p>This method takes the multiplicity into account.</p>
<p>So,</p>
<p>if</p>
<p>the container definition specifies the</p>
<p>multiplicity with lower == upper, it always returns false.</p>
<p>Concerning post-build selectable it</p>
<p>never makes sense to permit variance if lower and upper multiplicity are equal.</p>
<p>This method is for post-build selectable only!</p>
<p><b>Remark about AUTOSAR versions:</b></p>
<p>Prior to AUTOSAR 4.2.1 the container definitions</p>
<p>contained the postBuildChangeable flag to define post-build loadable support.</p>
<p>This method</p>
<p>internally investigates the postBuildChangeable flag in this case but the postBuildVariant-</p>
<p>Multiplicity flag for AUROSAR 4.2.1 and newer versions.</p>
<p><b>supportsVariantShortname()</b></p>
<p>The supportsVariantShortname() method returns true if</p>
<p>one of</p>
<p>the following conditions</p>
<p>apply.</p>
<p>• supportsVariantMultiplicity() returns true</p>
<p>• The ADMIN-DATA flag postBuildSelectableChangeable is true</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>265 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 5.</b></p>
<p><b>Data models in detail</b></p>
<p>The use case for this specification are 1:1 containers.</p>
<p>When this method returns true,</p>
<p>1:1</p>
<p>containers may have different shortnames in different variants.</p>
<p>This is a Vector specific semantic</p>
<p>which is not provided by AUTOSAR.</p>
<p><b>EcucCommonAttributes</b></p>
<p><b>IEcucCommonAttributes</b> is the base interface of all parameter and</p>
<p>reference definition wrappers.</p>
<p>It provides the following method(s):</p>
<p><b>supportsVariantMultiplicity()</b></p>
<p>The supportsVariantMultiplicity() method returns true if this parameter type supports</p>
<p>variant multiplicity.</p>
<p>If true is returned this means that different variants may contain different</p>
<p>number of instances of this parameter type.</p>
<p>This method takes the multiplicity into account.</p>
<p>So,</p>
<p>if the parameter definition specifies the</p>
<p>multiplicity with lower == upper, it always returns false.</p>
<p>Concerning post-build selectable it</p>
<p>never makes sense to permit variance if lower and upper multiplicity are equal.</p>
<p>This method is for post-build selectable only!</p>
<p><b>Remark about AUTOSAR versions:</b></p>
<p>Prior to AUTOSAR 4.2.1 the parameter definitions</p>
<p>contain the implementationConfigClass table to define post-build selectable support.</p>
<p>This</p>
<p>method internally investigates the implementationConfigClass in this case but the post-</p>
<p>BuildVariantMultiplicity flag for AUROSAR 4.2.1 and newer versions.</p>
<p><b>supportsVariantValue()</b></p>
<p>The supportsVariantValue() method returns true if this parameter type supports a variant</p>
<p>value.</p>
<p>If</p>
<p>true is returned this means that different variants may contain different values in</p>
<p>instances of this parameter type.</p>
<p>This method is for post-build selectable only!</p>
<p><b>Remark about AUTOSAR versions:</b></p>
<p>Prior to AUTOSAR 4.2.1 the parameter definitions</p>
<p>contain the implementationConfigClass table to define post-build selectable support.</p>
<p>This</p>
<p>method internally investigates the implementationConfigClass in this case but the post-</p>
<p>BuildVariantValue flag for AUROSAR 4.2.1 and newer versions.</p>
<p><b>5.5.2 EcuConfigurationAccess</b></p>
<p>The IEcuConfigurationAccess provides convenient and typesafe access to configuration ob-</p>
<p>jects (modules,</p>
<p>containers,</p>
<p>parameters and references).</p>
<p>The contained cfg() methods take</p>
<p>MDF (ECU configuration) objects and return wrappers which can be used to retrieve specific</p>
<p>characteristics of the configuration content.</p>
<p>Example:</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>266 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 5.</b></p>
<p><b>Data models in detail</b></p>
<p>IEcuConfigurationAccess</p>
<p>eca ;</p>
<p>MINumericalValue</p>
<p>intParam ;</p>
<p>//</p>
<p>Get</p>
<p>the</p>
<p>parameter</p>
<p>wrapper</p>
<p>IEcucNumericalParameter</p>
<p>numCfg</p>
<p>=</p>
<p>eca . cfg ( intParam );</p>
<p>//</p>
<p>Check</p>
<p>if</p>
<p>this</p>
<p>is</p>
<p>an</p>
<p>integer</p>
<p>parameter</p>
<p><b>if</b></p>
<p>( numCfg</p>
<p><b>instanceof</b></p>
<p>IEcucIntegerParameter )</p>
<p>{</p>
<p>IEcucIntegerParameter</p>
<p>intCfg</p>
<p>=</p>
<p>( IEcucIntegerParameter )</p>
<p>numCfg ;</p>
<p>//</p>
<p>Get</p>
<p>the</p>
<p>parameter</p>
<p>value</p>
<p><b>boolean</b></p>
<p>hasValue</p>
<p>=</p>
<p>intCfg . hasValue () ;</p>
<p>BigInteger</p>
<p>value</p>
<p>=</p>
<p>intCfg . getValue () ;</p>
<p>//</p>
<p>Get</p>
<p>the</p>
<p>related</p>
<p>definition</p>
<p>wrapper</p>
<p>IEcucIntegerDefinition</p>
<p>def</p>
<p>=</p>
<p>intCfg . getEcucDefinition () ;</p>
<p>}</p>
<p>Listing 5.25: Integer parameter configuration access examples</p>
<p><b>5.5.2.1 Post-build loadable</b></p>
<p><b>EcucModuleConfiguration</b></p>
<p><b>IEcucModuleConfiguration</b> is the base interface of</p>
<p>all</p>
<p>module</p>
<p>configuration wrappers.</p>
<p>It provides the following method(s):</p>
<p><b>getConfigurationVariant()</b></p>
<p>The getConfigurationVariant() method returns the modules configuration variant.</p>
<p>This method never returns null.</p>
<p>If the module has no value specified,</p>
<p>this method returns a</p>
<p>default value as follows:</p>
<p>• EEcucConfigurationVariant.VARIANT_PRE_COMPILE, if it is contained in the supported</p>
<p>config variants of the related module definition</p>
<p>• otherwise EEcucConfigurationVariant.VARIANT_LINK_TIME,</p>
<p>if</p>
<p>it is contained in the</p>
<p>supported config variants of the related module definition</p>
<p>• otherwise EEcucConfigurationVariant.VARIANT_POST_BUILD_LOADABLE, if it is contai-</p>
<p>ned in the supported config variants of the related module definition</p>
<p>• otherwise EEcucConfigurationVariant.VARIANT_PRE_COMPILE, even if not contained in</p>
<p>the supported config variants of the related module definition or if the definition is not</p>
<p>available</p>
<p><b>Remark about AUTOSAR versions:</b></p>
<p>Prior to AUTOSAR 4.2.1 the module configurations</p>
<p>implementation config variant defined if</p>
<p>this module implements post-build loadable and/or</p>
<p>selectable.</p>
<p>With AUTOSAR 4.2.1 the implementation config variant defines only if the module</p>
<p>implements post-build loadable.</p>
<p>The post-build selectable aspect has been separated from</p>
<p>this definition.</p>
<p>This method handles the loadable semantic,</p>
<p>independent of</p>
<p>the AUTOSAR</p>
<p>version.</p>
<p>This is for post-build loadable only!</p>
<p><b>setConfigurationVariant()</b></p>
<p>The setConfigurationVariant(EEcucConfigurationVariant) method sets the specified im-</p>
<p>plementation configuration variant.</p>
<p>This is for post-build loadable only!</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>267 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 5.</b></p>
<p><b>Data models in detail</b></p>
<p>Supported values are</p>
<p>• EEcucConfigurationVariant.VARIANT_PRE_COMPILE</p>
<p>• EEcucConfigurationVariant.VARIANT_LINK_TIME</p>
<p>• EEcucConfigurationVariant.VARIANT_POST_BUILD_LOADABLE</p>
<p><b>Remarks concerning AUTOSAR versions:</b></p>
<p>• If the modules definition has schema version 4.2.1 or higher,</p>
<p>the specified value is being</p>
<p>written directly to the model</p>
<p>• If</p>
<p>the modules definition has a schema version lower than 4.2.1,</p>
<p>the modules imple-</p>
<p>mentation configuration variant in the MDF model</p>
<p>encodes both,</p>
<p>post-build loadable</p>
<p>and post-build selectable.</p>
<p>The following behavior is being implemented in this case:</p>
<p><b>Current model value</b></p>
<p><b>Parameter</b></p>
<p><b>Result in the model</b></p>
<p>PRE_COMPILE</p>
<p>PRE_COMPILE</p>
<p>PRE_COMPILE</p>
<p>LINK_TIME</p>
<p>LINK_TIME</p>
<p>POST_BUILD_LOADABLE</p>
<p>POST_BUILD_LOADABLE</p>
<p>LINK_TIME</p>
<p>PRE_COMPILE</p>
<p>PRE_COMPILE</p>
<p>LINK_TIME</p>
<p>LINK_TIME</p>
<p>POST_BUILD_LOADABLE</p>
<p>POST_BUILD_LOADABLE</p>
<p>POST_BUILD_LOADABLE</p>
<p>PRE_COMPILE</p>
<p>PRE_COMPILE</p>
<p>LINK_TIME</p>
<p>LINK_TIME</p>
<p>POST_BUILD_LOADABLE</p>
<p>POST_BUILD_LOADABLE</p>
<p>POST_BUILD_SELECTABLE</p>
<p>PRE_COMPILE</p>
<p>POST_BUILD_SELECTABLE</p>
<p>LINK_TIME</p>
<p>POST_BUILD_SELECTABLE</p>
<p>POST_BUILD_LOADABLE</p>
<p>POST_BUILD</p>
<p>POST_BUILD</p>
<p>PRE_COMPILE</p>
<p>POST_BUILD_SELECTABLE</p>
<p>LINK_TIME</p>
<p>POST_BUILD_SELECTABLE</p>
<p>POST_BUILD_LOADABLE</p>
<p>POST_BUILD</p>
<p><b>EcucContainer</b></p>
<p><b>IEcucContainer</b> is the base interface of all</p>
<p>container wrappers.</p>
<p>It provides</p>
<p>the following method(s):</p>
<p><b>getEffectiveMultiplicityConfigurationClass()</b></p>
<p>The getEffectiveMultiplicityConfigurationClass() method walks up the model</p>
<p>tree to</p>
<p>find the related module configuration.</p>
<p>Then it uses the module implementation configuration</p>
<p>variant to return the selected configuration class as specified in the container definition.</p>
<p>This method never returns null.</p>
<p>In case the detection of the configuration class fails (e.g.</p>
<p>if the</p>
<p>related module configuration cannot be detected), this method returns EEcucConfiguration-</p>
<p>Class.PRE_COMPILE by default.</p>
<p>It also never returns EEcucConfigurationClass.LINK.</p>
<p>This method is for post-build loadable only!</p>
<p><b>getEffectiveMultiplicityConfigurationClassDefRef()</b></p>
<p>The getEffectiveMultiplicityConfigurationClass(DefRef) method walks up the model</p>
<p>tree to find the related module configuration.</p>
<p>Then it uses the module implementation con-</p>
<p>figuration variant to return the selected configuration class of</p>
<p>the specified parameter defini-</p>
<p>tion.</p>
<p>This method never returns null.</p>
<p>In case the detection of the configuration class fails (e.g.</p>
<p>if the</p>
<p>related module configuration cannot be detected), this method returns EEcucConfiguration-</p>
<p>Class.PRE_COMPILE by default.</p>
<p>It also never returns EEcucConfigurationClass.LINK.</p>
<p>This method is for post-build loadable only!</p>
<p><b>getEffectiveValueConfigurationClass()</b></p>
<p>The getEffectiveValueConfigurationClass(DefRef) method walks up the model</p>
<p>tree to</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>268 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 5.</b></p>
<p><b>Data models in detail</b></p>
<p>find the related module configuration.</p>
<p>Then it uses the module implementation configuration</p>
<p>variant to return the selected configuration class of the specified parameter definition.</p>
<p>This method never returns null.</p>
<p>In case the detection of the configuration class fails (e.g.</p>
<p>if the</p>
<p>related module configuration cannot be detected), this method returns EEcucConfiguration-</p>
<p>Class.PRE_COMPILE by default.</p>
<p>It also never returns EEcucConfigurationClass.LINK.</p>
<p>This method is for post-build loadable only!</p>
<p><b>EcucParameter</b></p>
<p><b>IEcucParameter</b> is the base interface of all parameter and reference wrappers.</p>
<p>It provides the following method(s):</p>
<p><b>getEffectiveMultiplicityConfigurationClass()</b></p>
<p>The getEffectiveMultiplicityConfigurationClass() method walks up the model</p>
<p>tree to</p>
<p>find the related module configuration.</p>
<p>Then it uses the module implementation configuration</p>
<p>variant to return the selected configuration class as specified in the parameter definition.</p>
<p>This method never returns null.</p>
<p>In case the detection of the configuration class fails (e.g.</p>
<p>if</p>
<p>the related module configuration cannot be detected),</p>
<p>this method returns EEcucConfigura-</p>
<p>tionClass.PRE_COMPILE by default.</p>
<p>This is for post-build loadable only!</p>
<p><b>getEffectiveValueConfigurationClass()</b></p>
<p>The getEffectiveValueConfigurationClass() method walks up the model</p>
<p>tree to find the</p>
<p>related module configuration.</p>
<p>Then it uses the module implementation configuration variant to</p>
<p>return the selected configuration class as specified in the parameter definition.</p>
<p>This method never returns null.</p>
<p>In case the detection of the configuration class fails (e.g.</p>
<p>if</p>
<p>the related module configuration cannot be detected),</p>
<p>this method returns EEcucConfigura-</p>
<p>tionClass.PRE_COMPILE by default.</p>
<p>This is for post-build loadable only!</p>
<p><b>5.5.2.2 Post-build selectable</b></p>
<p><b>EcucModuleConfiguration</b></p>
<p><b>IEcucModuleConfiguration</b> is the base interface of</p>
<p>all</p>
<p>module</p>
<p>configuration wrappers.</p>
<p>It provides the following method(s):</p>
<p><b>supportsPostBuildVariance()</b></p>
<p>The supportsPostBuildVariance() method returns true if this module configuration supports</p>
<p>post-build selectable.</p>
<p>This is for post-build selectable only!</p>
<p>What this method actually does:</p>
<p>• It checks if the related definition specifies post-build selectable as supported</p>
<p>• It checks if the module configuration implements post-build variance.</p>
<p>That’s true in the</p>
<p>following cases</p>
<p><b>–</b> If the modules definition has schema version 4.2.1 or higher:</p>
<p>Check if the modules</p>
<p>ADMIN-DATA flag &quot;postBuildVariantSupport&quot; is true (false is default if this flag is</p>
<p>missing)</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>269 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 5.</b></p>
<p><b>Data models in detail</b></p>
<p><b>–</b> If the modules definition has a schema version lower than 4.2.1:</p>
<p>Check if the modu-</p>
<p>les implementation configuration variant contains one of the following values VARI-</p>
<p>ANT_POST_BUILD_SELECTABLE or VARIANT_POST_BUILD</p>
<p>It returns true if both conditions are true.</p>
<p><b>setPostBuildVarianceSupport()</b></p>
<p>The setPostBuildVarianceSupport(boolean) method sets the post-build support flag in the</p>
<p>module configuration.</p>
<p>This is for post-build selectable only!</p>
<p><b>Remarks concerning AUTOSAR versions:</b></p>
<p>• If the modules definition has schema version 4.2.1 or higher, this method sets the modules</p>
<p>ADMIN-DATA flag &quot;postBuildVariantSupport&quot; to the specified value.</p>
<p>• If</p>
<p>the modules definition has a schema version lower than 4.2.1,</p>
<p>the modules imple-</p>
<p>mentation configuration variant in the MDF model</p>
<p>encodes both,</p>
<p>post-build loadable</p>
<p>and post-build selectable.</p>
<p>The following behavior is being implemented in this case:</p>
<p><b>Current model value</b></p>
<p><b>Parameter</b></p>
<p><b>Result in the model</b></p>
<p>PRE_COMPILE</p>
<p>true</p>
<p>POST_BUILD_SELECTABLE</p>
<p>false</p>
<p>PRE_COMPILE</p>
<p>LINK_TIME</p>
<p>true</p>
<p>POST_BUILD_SELECTABLE</p>
<p>false</p>
<p>LINK_TIME</p>
<p>POST_BUILD_LOADABLE</p>
<p>true</p>
<p>POST_BUILD</p>
<p>false</p>
<p>POST_BUILD_LOADABLE</p>
<p>POST_BUILD_SELECTABLE</p>
<p>true</p>
<p>POST_BUILD_SELECTABLE</p>
<p>false</p>
<p>PRE_COMPILE</p>
<p>POST_BUILD</p>
<p>true</p>
<p>POST_BUILD</p>
<p>false</p>
<p>POST_BUILD_LOADABLE</p>
<p><b>EcucContainer</b></p>
<p><b>IEcucContainer</b> is the base interface of all</p>
<p>container wrappers.</p>
<p>It provides</p>
<p>the following method(s):</p>
<p><b>supportsVariantMultiplicity()</b></p>
<p>The supportsVariantMultiplicity() method returns true if the related module configura-</p>
<p>tion supports variance and this containers definition support variant multiplicity.</p>
<p>If</p>
<p>true is</p>
<p>returned this means that different variants may contain different number of</p>
<p>instances of</p>
<p>this</p>
<p>container.</p>
<p>If the container has no definition, this method returns false.</p>
<p>This method is for post-build selectable only!</p>
<p><b>EcucParameter</b></p>
<p><b>IEcucParameter</b> is the base interface of all parameter and reference wrappers.</p>
<p>It provides the following method(s):</p>
<p><b>supportsVariantMultiplicity()</b></p>
<p>The supportsVariantMultiplicity() method returns true if the related module configura-</p>
<p>tion supports variance and this parameters definition support variant multiplicity.</p>
<p>If</p>
<p>true is</p>
<p>returned this means that different variants may contain different number of</p>
<p>instances of</p>
<p>this</p>
<p>parameter.</p>
<p>If the parameter has no definition, this method returns false.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>270 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 5.</b></p>
<p><b>Data models in detail</b></p>
<p>This is for post-build selectable only!</p>
<p><b>supportsVariantValue()</b></p>
<p>The supportsVariantValue() method returns true if the related module configuration sup-</p>
<p>ports variance and this parameters definition support variant values.</p>
<p>If</p>
<p>true is returned this</p>
<p>means that different variants may contain different values in instances of this parameter.</p>
<p>If the parameter has no definition, this method returns false.</p>
<p>This is for post-build selectable only!</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>271 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>6 AutomationInterface Content</b></p>
<p><b>6.1 Introduction</b></p>
<p>This chapter describes the content of the DaVinci Configurator AutomationInterface.</p>
<p><b>6.2 Folder Structure</b></p>
<p>The AutomationInterface consists of the following files and folders:</p>
<p>•<b> BswmdModel:</b></p>
<p>contains the generated BswmdModel</p>
<p>that is automatically created by</p>
<p>the DaVinci Configurator during startup</p>
<p>•<b> Core</b></p>
<p><b>– AutomationInterface</b></p>
<p>∗<b> _doc</b> (find more details to its content in chapter 6.3)</p>
<p>·<b> DVCfg_AutomationInterfaceDocumentation.pdf:</b></p>
<p>this document</p>
<p>·<b> javadoc:</b></p>
<p>Javadoc HTML pages</p>
<p>·<b> templates:</b></p>
<p>script file and script project templates for a simple start of</p>
<p>script development</p>
<p>∗<b> buildLibs:</b></p>
<p>AutomationInterface Gradle Plugin to provide the build logic to</p>
<p>build script projects, see also 7.9 on page 280</p>
<p>∗<b> libs:</b></p>
<p>compile bindings to Groovy and to the DaVinci</p>
<p>Configurator Automati-</p>
<p>onInterface, used by IntelliJ IDEA and Gradle</p>
<p>∗<b> licenses:</b></p>
<p>the licenses of the used open source libraries</p>
<p><b>6.3 Script Development Help</b></p>
<p>The help for the AutomationInterface script development is distributed among the following</p>
<p>sources:</p>
<p>• DVCfg_AutomationInterfaceDocumentation.pdf (this document)</p>
<p>• Javadoc HTML Pages</p>
<p>• Script Templates</p>
<p><b>6.3.1 AutomationInterfaceDocumentation PDF</b></p>
<p>You find this document as described in chapter 6.2.</p>
<p>It provides a good overview of architecture,</p>
<p>available APIs and gives an introduction of how to get started in script development.</p>
<p>The focus</p>
<p>of the document is to provide an overview and not to be complete in API description.</p>
<p>To get</p>
<p>a complete and detailed description of</p>
<p>APIs and methods use the Javadoc HTML Pages as</p>
<p>described in 6.3.2 on the next page.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>272 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 6.</b></p>
<p><b>AutomationInterface Content</b></p>
<p><b>6.3.2 Javadoc HTML Pages</b></p>
<p>You find this documentation as described in chapter 6.2 on the preceding page.</p>
<p>Open the file</p>
<p>index.html to access the complete DaVinci Configurator AutomationInterface API reference.</p>
<p>It</p>
<p>contains descriptions of all classes and methods that are part of the AutomationInterface.</p>
<p>The Javadoc is also accessible at your source code in the IDE for script development.</p>
<p><b>6.3.3 Script Templates</b></p>
<p>You find the Script Templates as described in chapter 6.2 on the previous page.</p>
<p>You may copy</p>
<p>them for a quick startup in script development.</p>
<p><b>6.4 Libs and BuildLibs</b></p>
<p>The AutomationInterface contains libraries to build projects, see<b> buildLibs</b> in 6.2 on the pre-</p>
<p>ceding page .</p>
<p>And it contains other libraries which are described in<b> libs</b> in 6.2 on the previous</p>
<p>page.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>273 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>7 Automation Script Project</b></p>
<p><b>7.1 Introduction</b></p>
<p>An automation script project is a normal</p>
<p>Java/Groovy development project,</p>
<p>where the built</p>
<p>artifact is a single .jar file.</p>
<p>The jar file is created by the build system,</p>
<p>see chapter 7.9 on</p>
<p>page 280.</p>
<p>It is the recommended way to develop scripts, containing more tasks or multiple classes.</p>
<p>The project provides IDE support for:</p>
<p>• Code completion</p>
<p>• Syntax highlighting</p>
<p>• API Documentation</p>
<p>• Debug support</p>
<p>• Build support</p>
<p>The recommended IDE is IntelliJ IDEA.</p>
<p><b>7.2 Automation Script Project Creation</b></p>
<p>To create a new script project please follow the instructions in chapter 2.4 on page 14.</p>
<p><b>7.3 Project File Content</b></p>
<p>An automation project will at least contain the following files and folders:</p>
<p>• Folders</p>
<p><b>–</b> .gradle - Gradle temp folder -<b> DO NOT</b> commit it into a version control system</p>
<p><b>–</b> build - Gradle build folder -<b> DO NOT</b> commit it into a version control system</p>
<p><b>–</b> gradle - Gradle bootstrap folder - Please commit it into your version control system</p>
<p><b>–</b> src - Source folder containing your Groovy, Java sources and resource files</p>
<p>• Files</p>
<p><b>–</b> Gradle files - see 7.9.2 on page 280 for details</p>
<p>∗ gradlew.bat</p>
<p>∗ build.gradle</p>
<p>∗ settings.gradle</p>
<p>∗ projectConfig.gradle</p>
<p>∗ dvCfgAutomationBootstrap.gradle</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>274 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 7.</b></p>
<p><b>Automation Script Project</b></p>
<p><b>–</b> IntelliJ Project files (optional) -<b> DO NOT</b> commit it into a version control system</p>
<p>∗ ProjectName.iws</p>
<p>∗ ProjectName.iml</p>
<p>∗ ProjectName.ipr</p>
<p>The IntelliJ Project files (*.iws, *.iml, *.ipr) can be recreated with the command in the</p>
<p>windows command shell (cmd.exe):</p>
<p>gradlew idea</p>
<p><b>7.4 Deployment of the Jar File</b></p>
<p>To deploy your automation script project you only need to deploy the built jar file located in</p>
<p>&lt;ProjectDir&gt;/build/libs/&lt;ProjectName&gt;-&lt;Version&gt;.jar.</p>
<p>All</p>
<p>other files in your automa-</p>
<p>tion script project are<b> not required</b> for the script<b> execution</b>.</p>
<p>So if you want to use your script project in an DaVinci Configurator project, copy the jar file</p>
<p>into the DaVinci</p>
<p>Configurator project and add the folder containg the jar file in the Script</p>
<p>Locations view with the Project scope.</p>
<p><b>7.5 IntelliJ IDEA Usage</b></p>
<p><b>7.5.1 Supported versions</b></p>
<p>The supported IntelliJ IDEA versions are:</p>
<p>• 2016.1</p>
<p>• 2016.2</p>
<p>• 2016.3</p>
<p>• 2017.2</p>
<p>• 2017.3</p>
<p>Please use one of the versions above.</p>
<p>With other versions,</p>
<p>there could be problems with the</p>
<p>editing, code completion and so on.</p>
<p>The free<b> Community edition</b> is<b> fully sufficient</b>,</p>
<p>but you could also use the<i> Ultimate edi-</i></p>
<p><i>tion</i>.</p>
<p><b>7.5.2 Building Projects</b></p>
<p><b>Project Build</b></p>
<p>The standard way to build projects is to choose the option<b> &lt;ProjectName&gt;</b></p>
<p><b>[build]</b> in the Run Menu in the toolbar and to press the Run Button beneath that menu.</p>
<p>Figure 7.1: Project Build</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>275 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 7.</b></p>
<p><b>Automation Script Project</b></p>
<p><b>Project Continuous Build</b></p>
<p>A further option is provided for the case you prefer an automatic</p>
<p>project building each time you save your implementation.</p>
<p>If</p>
<p>you choose the menu option</p>
<p><b>&lt;ProjectName&gt; continuous [build]</b> in the toolbar the Run Button has to be pressed only</p>
<p>one time to start the continuous building.</p>
<p>Hence forward each saving of your implementation</p>
<p>triggers an automatic building of the script project.</p>
<p><b>But be aware that the continuous build option is available for .java and .groovy</b></p>
<p><b>files only.</b></p>
<p>In case of</p>
<p>changes in e.g.</p>
<p>.gradle files you still</p>
<p>have to press the Run Button in</p>
<p>order to build the project.</p>
<p>Figure 7.2: Project Continuous Build</p>
<p>The Continuous Build process can be stopped with the Stop Button in the Run View.</p>
<p>Figure 7.3: Stop Continuous Build</p>
<p>If you want to exit the IntelliJ IDEA while the Continuous Build process is still running,</p>
<p>you</p>
<p>will be asked to disconnect from it.</p>
<p>Having disconnected you are allowed to exit the IDE.</p>
<p>Figure 7.4: Disconnect from Continuous Build Process</p>
<p><b>7.5.3 Debugging with IntelliJ</b></p>
<p><b>Be aware that only script projects and not script files are debuggable.</b></p>
<p>To enable debugging you must start DaVinci Configurator application with the enableDebugger</p>
<p>option as described in 7.8 on page 279.</p>
<p>In the IntelliJ IDEA choose the option<b> &lt;ProjectName&gt; [debug]</b> in the Run Menu located</p>
<p>in the toolbar.</p>
<p>Pressing the Debug Button starts a debug session.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>276 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 7.</b></p>
<p><b>Automation Script Project</b></p>
<p>Figure 7.5: Project Debug</p>
<p>Set your breakpoints in IntelliJ IDEA and execute the task.</p>
<p>To stop the debug session press</p>
<p>the Stop Button in the Debugger View.</p>
<p>Figure 7.6: Stop Debug Session</p>
<p>If you want to exit the IntelliJ IDEA while the Debug process is still running, you will be asked</p>
<p>to disconnect from it.</p>
<p>Having disconnected you are allowed to exit the IDE.</p>
<p>Figure 7.7: Disconnect from Debug Process</p>
<p><b>7.5.4 Troubleshooting</b></p>
<p><b>Code completion, Compilation</b></p>
<p>If the code completion or compilation does not work, please</p>
<p>verify that the Java JDK settings in the IntelliJ IDEA are correct.</p>
<p>You have to set the Project</p>
<p>JDK and the Gradle JDK setting.</p>
<p>See 2.4.3 on page 17.</p>
<p><b>Gradle build, build button</b></p>
<p>If the Gradle build does nothing after start or the build button is</p>
<p>grayed, please verify that the Java JDK settings in the IntelliJ IDEA are correct.</p>
<p>You have to</p>
<p>set the Gradle JDK setting.</p>
<p>See 2.4.3 on page 17.</p>
<p>If the build button is marked with an error, please make sure that the Gradle plugin inside of</p>
<p>IntelliJ IDEA is installed.</p>
<p>Open File-&gt;Settings...-&gt;Plugins and select the Gradle plugin.</p>
<p><b>IntelliJ Build</b></p>
<p>You shall not use the IntelliJ menu &quot;Build&quot; or the context menu entries &quot;Make</p>
<p>Project&quot;,</p>
<p>&quot;Make Module&quot;,</p>
<p>&quot;Rebuild Project&quot; or &quot;Compile&quot;.</p>
<p>The project shall</p>
<p>be build with</p>
<p>Gradle not with IntelliJ IDEA. So you have to select one of the Run Configuration (Run menu)</p>
<p>to build the project as described in chapter 7.5 on page 275.</p>
<p><b>Groovy SDK not configured</b></p>
<p>If</p>
<p>you get the message ’Groovy SDK is not configured for ...’</p>
<p>in IntelliJ IDEA you probably have to migrate your project as described in chapter 7.7 on</p>
<p>page 279.</p>
<p><b>Debugging - DaVinci Configurator does not start</b></p>
<p>If the DaVinciCfg.exe does not start when</p>
<p>the enableDebugger option is passed, please check if the default port (8000) is free, or choose</p>
<p>another free port by appending the port number to the enableDebugger option.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>277 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 7.</b></p>
<p><b>Automation Script Project</b></p>
<p><b>Compile errors - Could not find com.vector.cfg:DVCfgAutomationInterface</b></p>
<p>If you get com-</p>
<p>pile errors inside of</p>
<p>the IntelliJ IDEA,</p>
<p>after updating the DaVinci</p>
<p>Configurator or moving</p>
<p>projects.</p>
<p>Please execute the<b> Project Migration to newer DaVinci</b></p>
<p><b>Configurator Version</b> step,</p>
<p>see 7.7 on the following page.</p>
<p><b>Download of</b></p>
<p><b>Gradle Distribution Error</b></p>
<p>If</p>
<p>you get an error when you start the gradlew</p>
<p>like:</p>
<p>Downloading</p>
<p>http://vistrcfgci1.vi.vector.int/buildcomponents/Gradle/distributions/gradle-4.0.1-bin.zip</p>
<p>Exception in thread &quot;main&quot; java.io.FileNotFoundException:</p>
<p>http://vistrcfgci1.vi.vector.int/buildcomponents/Gradle/distributions/gradle-4.0.1-bin.zip</p>
<p>at sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1836)</p>
<p>The problem is you can’t connect to the server,</p>
<p>where the Gradle installation is located</p>
<p>1</p>
<p>.</p>
<p>To change the location,</p>
<p>you have to open the file &lt;YourProject&gt;/gradle/wrapper/gradle-</p>
<p>wrapper.properties and change the line distributionUrl=.</p>
<p>You have multiple options for the content of the distributionUrl:</p>
<p>• Change the URL to the Gradle default (needs internet access):</p>
<p><b>–</b> https://services.gradle.org/distributions/gradle-4.0.1-bin.zip</p>
<p>• Change the URL to a Server location of your choice.</p>
<p>E.g inside your company.</p>
<p>• Download Gradle manually and change the URL to a local file system location like:</p>
<p><b>–</b> file:/D:/YourFolder/gradle-4.0.1-bin.zip</p>
<p><b>Caution:</b></p>
<p>You have to escape a : with \: so an HTTP address would start with http\://</p>
<p>and the local filesystem would start with file\:/.</p>
<p>So the default line in the file ‘gradle-wrapper.properties‘ for the default Gradle server would be:</p>
<p>distributionUrl=https\://services.gradle.org/distributions/gradle-4.0.1-bin.zip</p>
<p><b>7.6 Project Usage in different DaVinci</b></p>
<p><b>Configurator Versions</b></p>
<p>You can execute the script tasks of a script project in different versions of the DaVinci Confi-</p>
<p>gurator as long as the following conditions are met:</p>
<p>• You compile your script project against the oldest DaVinci Configurator version to use</p>
<p><b>–</b> E.g.</p>
<p>You want to use Cfg5.15 and Cfg5.16, you have to compile your script project</p>
<p>with Cfg5.15.</p>
<p>• The DaVinci Configurator version span must not contain a breaking change.</p>
<p>These chan-</p>
<p>ges are documented in the chapter 8 on page 285.</p>
<p>Normally the versions have<b> NO</b> breaking</p>
<p>changes!</p>
<p>The default text is something like:</p>
<p>1</p>
<p>The vector internal</p>
<p>server http://vistrcfgci1.vi.vector.int is not accessible from outside of</p>
<p>the vector</p>
<p>network and shall only be used by internal projects.</p>
<p>If you have a project with the internal server and your are</p>
<p>not inside the network, please change it to another location.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>278 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 7.</b></p>
<p><b>Automation Script Project</b></p>
<p>&quot;The Cfg5.16 automation interface is compatible to the Cfg5.15.</p>
<p>So a script</p>
<p>written with Cfg5.15 will also run in the Cfg5.16 version.&quot;</p>
<p>• If you use the BswmdModel, you have to use a compatible SIP</p>
<p><b>–</b> E.g.</p>
<p>the used BSW module definitions (bswmd files) must have compatible names</p>
<p>and multiplicities.</p>
<p><b>7.7 Project Migration to newer DaVinci</b></p>
<p><b>Configurator Version / SIP</b></p>
<p>If you update your DaVinci Configurator version in your SIP or copy the project into another</p>
<p>SIP,</p>
<p>you should execute the IntelliJ IDEA task of</p>
<p>Gradle to update the compile dependen-</p>
<p>cies.</p>
<p>Steps to execute:</p>
<p>1.</p>
<p>Close IntelliJ IDEA.</p>
<p>2.</p>
<p>Update the DaVinci Configurator in your SIP / Change the path to the DaVinci Confi-</p>
<p>gurator in the file projectConfig.gradle</p>
<p>3.</p>
<p>Open a command shell (cmd.exe) at your project folder</p>
<p>• Folder containing the gradlew.bat</p>
<p>4.</p>
<p>Type gradlew idea and press enter</p>
<p>5.</p>
<p>Wait until the task has finished</p>
<p>6.</p>
<p>Open IntelliJ IDEA</p>
<p>This will</p>
<p>update the compile time dependencies of your Automation Script Project according</p>
<p>to the new DaVinci Configurator version.</p>
<p>After this, please read the Changes (see chapter 8 on page 285) in the new release and update</p>
<p>your script, if something of interest has changed.</p>
<p><b>7.8 Debugging Script Project</b></p>
<p><b>Be aware that only script projects and not script files are debuggable.</b></p>
<p>To debug a script project, any java debugger could be used.</p>
<p>Simply add the enableDebugger</p>
<p>parameter to the commandline of the DaVinci Configurator and attach your debugger.</p>
<p>DVCfgCmd -s MyApplScriptTask --enableDebugger</p>
<p>You could attach a debugger at port 8000 (default).</p>
<p>If the DaVinci Configurator does not start</p>
<p>with the option, please see 7.5.4 on page 277.</p>
<p><b>Different Debug Port</b></p>
<p>DVCfgCmd -s MyApplScriptTask --enableDebugger &lt;YOUR-PORT&gt; --waitForDebugger</p>
<p>Example:</p>
<p>DVCfgCmd -s MyApplScriptTask --enableDebugger 12345 --waitForDebugger</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>279 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 7.</b></p>
<p><b>Automation Script Project</b></p>
<p>You could attach a debugger at port 12345 (select any free port) and the DVCfgCmd process will</p>
<p>wait until</p>
<p>the debugger is attached.</p>
<p>You could also use these commandline parameters with</p>
<p>the DaVinciCFG.exe to debug a script project with the DaVinci Configurator UI.</p>
<p><b>7.9 Build System</b></p>
<p>The build system uses Gradle</p>
<p>2</p>
<p>to build a single Jar file.</p>
<p>It also setups the dependencies to the</p>
<p>DaVinci Configurator and create the IntelliJ IDEA project.</p>
<p>To setup the Gradle installation, see chapter 2.4.4 on page 18.</p>
<p><b>7.9.1 Jar Creation and Output Location</b></p>
<p>The call to gradlew build in the root directory of your automation script project will create</p>
<p>the jar file.</p>
<p>The jar file is then located in:</p>
<p>• &lt;ProjectRoot&gt;\build\libs\&lt;ProjectName&gt;-&lt;ProjectVersion&gt;.jar</p>
<p><b>7.9.2 Gradle File Structure</b></p>
<p>The default automation project contains the following Gradle build files:</p>
<p>• gradlew.bat</p>
<p><b>–</b> Gradle batch file to start Gradle (Gradle Wrapper</p>
<p>3</p>
<p>)</p>
<p>• build.gradle</p>
<p><b>–</b> General build file - You can modify it to adapt the build to your needs</p>
<p>• settings.gradle</p>
<p><b>–</b> General build project settings - See Gradle documentation</p>
<p>4</p>
<p>• projectConfig.gradle</p>
<p><b>–</b> Contains automation project specific settings - You can modify it to adapt the build</p>
<p>to your needs</p>
<p>• dvCfgAutomationBootstrap.gradle</p>
<p><b>–</b> This is the internal bootstrap file.</p>
<p><b>DO NOT</b> change the file content.</p>
<p><b>7.9.2.1 projectConfig.gradle File settings</b></p>
<p>The file contains three essential parts of the build:</p>
<p>• Names of the scripts to load (automationClasses)</p>
<p>• The path to the DaVinci Configurator installation (dvCfgInstallation)</p>
<p>• Project version (version)</p>
<p>2</p>
<p>http://gradle.org/ [2017-07-18]</p>
<p>3</p>
<p>https://docs.gradle.org/current/userguide/gradle_wrapper.html [2017-07-18]</p>
<p>4</p>
<p>https://docs.gradle.org/current/dsl/org.gradle.api.initialization.Settings.html [2017-07-18]</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>280 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 7.</b></p>
<p><b>Automation Script Project</b></p>
<p><b>automationClasses</b></p>
<p>You<b> have to add your classes</b> to the list of</p>
<p>automationClasses to</p>
<p>make them loadable.</p>
<p>The syntax of</p>
<p>automationClasses is a list of</p>
<p>Strings,</p>
<p>of</p>
<p>all</p>
<p>classes as full</p>
<p>qualified Class</p>
<p>names.</p>
<p>Syntax:</p>
<p>&quot;javaPkg.subPkg.ClassName&quot;</p>
<p>//</p>
<p>The</p>
<p>property</p>
<p>project . ext . automationClasses</p>
<p>defines</p>
<p>the</p>
<p>classes</p>
<p>to</p>
<p>load</p>
<p>project . ext . automationClasses</p>
<p>=</p>
<p>[</p>
<p>&quot; sample . MyScript &quot; ,</p>
<p>&quot; otherPkg . MyOtherScript &quot; ,</p>
<p>&quot; javapkg . ClassName &quot;</p>
<p>]</p>
<p>Listing 7.1: The automationClasses list in projectConfig.gradle</p>
<p><b>dvCfgInstallation</b></p>
<p>The dvCfgInstallation defines the path to the DaVinci Configurator in-</p>
<p>stallation in your SIP.</p>
<p>The installation is needed to retrieve the build dependencies and the</p>
<p>generated model.</p>
<p>You<b> can</b> change the path to any location containing the correct version of the DaVinci Confi-</p>
<p>gurator.</p>
<p>//</p>
<p>Please</p>
<p>specify</p>
<p>the</p>
<p>path</p>
<p>to</p>
<p>your</p>
<p>DaVinci</p>
<p>Configurator</p>
<p>installation</p>
<p>project . ext . dvCfgInstallation</p>
<p>=</p>
<p><b>new</b></p>
<p>File ( &quot; &lt; PATH -TO - DaVinciConfiguratorFolder &gt; &quot; )</p>
<p>Listing 7.2: The dvCfgInstallation in projectConfig.gradle</p>
<p>You could also evaluate SystemEnv variables,</p>
<p>other project properties or Gradle settings to</p>
<p>define the path dependent of the development machine, instead of encoding an absolute path.</p>
<p>This will help,</p>
<p>when the project is committed to a version control system.</p>
<p>But this is project</p>
<p>dependent and out of scope of the provided template project.</p>
<p>//</p>
<p>Use</p>
<p>a</p>
<p>System</p>
<p>environment</p>
<p>variable</p>
<p>as</p>
<p>path</p>
<p>to</p>
<p>the</p>
<p>DaVinci</p>
<p>Configurator</p>
<p>project . ext . dvCfgInstallation</p>
<p>=</p>
<p><b>new</b></p>
<p>File ( System . getenv ( ' YOUR_ENV_VARIABLE '))</p>
<p>Listing 7.3: The dvCfgInstallation with an System env in projectConfig.gradle</p>
<p><b>version</b></p>
<p>The project.version defines the version of</p>
<p>your Automation project,</p>
<p>e.g.</p>
<p>defines</p>
<p>the version suffix of the jar file.</p>
<p><b>7.9.3 Advanced Build Topics</b></p>
<p><b>7.9.3.1 Usage of external</b></p>
<p><b>Libraries (Jars) in the AutomationProject</b></p>
<p>You could reference external</p>
<p>libraries (Jar files) in your AutomationProject.</p>
<p>But you have to</p>
<p>configure the libraries in the Gradle build files.</p>
<p><b>DO NOT</b> add a dependency in IntelliJ,</p>
<p>this</p>
<p>will not work.</p>
<p>The easiest and prefered way is the use a library from any Maven repository like MavenCentral</p>
<p>or JCenter.</p>
<p>This will also handle versions, and transitive dependencies automatically.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>281 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 7.</b></p>
<p><b>Automation Script Project</b></p>
<p>Otherwise you could download the jar file an place it in your project</p>
<p>5</p>
<p>, but this is<b> NOT</b> recom-</p>
<p>mended.</p>
<p>The referenced libraries will be automatically bundled into your Automation project, see chapter</p>
<p>includeDependenciesIntoJarfor details.</p>
<p><b>How to add a Library?</b></p>
<p>We assume we have a jar from a Maven repository like Apache Commons</p>
<p>IO (the identifier would be ’commons-io:commons-io:2.5’, See MavenCentral).</p>
<p>• Open your build.gradle</p>
<p>• Add the code for the dependency</p>
<p>dependencies</p>
<p>{</p>
<p>//</p>
<p>Change</p>
<p>the</p>
<p>identifier</p>
<p>to</p>
<p>your</p>
<p>library</p>
<p>to</p>
<p>use</p>
<p>compile</p>
<p>' commons - io : commons - io :2.5 '</p>
<p>//</p>
<p>You</p>
<p>could</p>
<p>add</p>
<p>multiple</p>
<p>libraries</p>
<p>with</p>
<p>additional</p>
<p>compile</p>
<p>lines</p>
<p>}</p>
<p>• Optional:</p>
<p>if you are behind a proxy or firewall:</p>
<p><b>–</b> You must either set proxy options for gradle</p>
<p>6</p>
<p><b>– Prefered way</b>:</p>
<p>use a Maven repository inside your network:</p>
<p>To set a repository,</p>
<p>add before the dependencies block:</p>
<p>repositories</p>
<p>{</p>
<p>//</p>
<p>URL</p>
<p>to</p>
<p>your</p>
<p>repository .</p>
<p>The</p>
<p>URL</p>
<p>below</p>
<p>is</p>
<p>the</p>
<p>Vector</p>
<p>internal</p>
<p>network</p>
<p>server .</p>
<p>//</p>
<p>Please</p>
<p>change</p>
<p>the</p>
<p>URL</p>
<p>to</p>
<p>your</p>
<p>server</p>
<p>maven</p>
<p>{</p>
<p>url</p>
<p>' http :// vistrcfgci1 . vi . vector . int / artifactory / all '</p>
<p>}</p>
<p>//</p>
<p>Or</p>
<p>reference</p>
<p>MavenCentral</p>
<p>server</p>
<p>mavenCentral ()</p>
<p>}</p>
<p>• Update the IntelliJ IDEA project</p>
<p>1.</p>
<p>Close IntelliJ IDEA.</p>
<p>2.</p>
<p>Open a command shell (cmd.exe) at your project folder</p>
<p><b>–</b> Folder containing the gradlew.bat</p>
<p>3.</p>
<p>Type gradlew idea and press enter</p>
<p>4.</p>
<p>Wait until the task has finished</p>
<p>5.</p>
<p>Open IntelliJ IDEA</p>
<p>Now your project has access to the specified library.</p>
<p><b>7.9.3.2 Static Compilation of Groovy Code</b></p>
<p>The AutomationInterface contains a Groovy compiler extension.</p>
<p>This allows you to use Auto-</p>
<p>mation API in static compiled Groovy code.</p>
<p>You have to mark your classes or methods with:</p>
<p>5</p>
<p>See Gradle online documentation, how to add local jar files to the build dependencies</p>
<p>6</p>
<p>Gradle and Java online documentation for details how to set proxy settings</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>282 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 7.</b></p>
<p><b>Automation Script Project</b></p>
<p>@CompileStatic ( extensions</p>
<p>=</p>
<p>' com . vector . cfg . groovy . extensions .</p>
<p>AutomationTypeChecking ')</p>
<p><b>def</b></p>
<p>myMethod () {</p>
<p>}</p>
<p>@CompileStatic ( extensions</p>
<p>=</p>
<p>' com . vector . cfg . groovy . extensions .</p>
<p>AutomationTypeChecking ')</p>
<p><b>class</b></p>
<p>MyClass {</p>
<p>}</p>
<p>Listing 7.4: @CompileStatic with Automation API</p>
<p>The same applies, if you want to use the @TypeChecked annotation:</p>
<p>@TypeChecked ( extensions</p>
<p>=</p>
<p>' com . vector . cfg . groovy . extensions .</p>
<p>AutomationTypeChecking ')</p>
<p><b>def</b></p>
<p>myMethod () {</p>
<p>}</p>
<p>Listing 7.5: @TypeChecked with Automation API</p>
<p><b>7.9.3.3 Gradle dvCfgAutomation API Reference</b></p>
<p>The DaVinci</p>
<p>Configurator build system provides a Gradle DSL API to set properties of</p>
<p>the</p>
<p>build.</p>
<p>The entry point is the keyword dvCfgAutomation</p>
<p>dvCfgAutomation</p>
<p>{</p>
<p>classes</p>
<p>project . ext . automationClasses</p>
<p>}</p>
<p>Listing 7.6: DaVinci Configurator build Gradle DSL API</p>
<p>The following methods are defined inside of the dvCfgAutomation block:</p>
<p>• classes (Type List&lt;String&gt;) - Defines the automation classes to load</p>
<p>• useBswmdModel (Type boolean) - Enables or disables the usage of the BswmdModel inside</p>
<p>of the script project.</p>
<p>• useJarSignerDaemon (Type boolean) - Enables or disables the usage of the Jar Signer</p>
<p>Daemon process.</p>
<p>• includeDependenciesIntoJar (Type boolean) -</p>
<p>Enables or disables the inclusion of</p>
<p>dependencies during build</p>
<p><b>useBswmdModel</b></p>
<p>The useBswmdModel enables or disables the usage of the BswmdModel in-</p>
<p>side of</p>
<p>the project.</p>
<p>This is helpful,</p>
<p>if</p>
<p>you want to create a project,</p>
<p>which shall</p>
<p>run with</p>
<p><b>different SIPs</b>.</p>
<p>This prevent the inclusion of the BswmdModel.</p>
<p>The default is true (Use the</p>
<p>BswmdModel) if nothing is specified.</p>
<p>dvCfgAutomation</p>
<p>{</p>
<p>useBswmdModel</p>
<p><b>false</b></p>
<p>}</p>
<p>Listing 7.7: DaVinci Configurator build Gradle DSL API - useBswmdModel</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>283 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 7.</b></p>
<p><b>Automation Script Project</b></p>
<p><b>useJarSignerDaemon</b></p>
<p>The useJarSignerDaemon enables or disables the usage of the Jar Sig-</p>
<p>ner Daemon process.</p>
<p>The process is spawned when a jar file shall be signed.</p>
<p>This will speedup</p>
<p>the build process especially when the project is built often.</p>
<p>The daemon is closed automatically,</p>
<p>when not used in a certain time span.</p>
<p>The default of</p>
<p>useJarSignerDaemon is true.</p>
<p>The Gradle task stopJarSignerDaemon will stop any running Signer daemon.</p>
<p>dvCfgAutomation</p>
<p>{</p>
<p>useJarSignerDaemon</p>
<p><b>true</b></p>
<p>}</p>
<p>Listing 7.8: DaVinci Configurator build Gradle DSL API - useJarSignerDaemon</p>
<p><b>includeDependenciesIntoJar</b></p>
<p>The includeDependenciesIntoJar enables or disables bund-</p>
<p>ling of gradle runtime dependencies (e.g.</p>
<p>referenced jar files) into the resulting project jar.</p>
<p>If</p>
<p>includeDependenciesIntoJar is enabled the project jar file will</p>
<p>contain all</p>
<p>jar dependencies</p>
<p>under the folder jars inside of the jar file.</p>
<p>The default of</p>
<p>includeDependenciesIntoJar is true.</p>
<p>dvCfgAutomation</p>
<p>{</p>
<p>includeDependenciesIntoJar</p>
<p><b>false</b></p>
<p>}</p>
<p>Listing 7.9: DaVinci Configurator build Gradle DSL API - includeDependenciesIntoJar</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>284 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>8 AutomationInterface Changes between</b></p>
<p><b>Versions</b></p>
<p>This chapter describes the supported functionality of</p>
<p>different versions and all</p>
<p>API changes</p>
<p>between different MICROSAR releases.</p>
<p><b>8.1 Currently Supported Features</b></p>
<p>The table below contains a list of</p>
<p>functionalities of</p>
<p>the DaVinci</p>
<p>Configurator Automation</p>
<p>Interface.</p>
<p><b>Legend</b>:</p>
<p>A functionality is available if the Since column contains the DaVinci</p>
<p>Configurator</p>
<p>version (see Since).</p>
<p>Otherwise the functionality is not yet available.</p>
<p><b>Component</b></p>
<p><b>Functionality</b></p>
<p><b>Since</b></p>
<p>Scripts</p>
<p>Loading, Execution, Script-Projects</p>
<p>5.13</p>
<p>User defined Script Task Arguments in UI and Cmd</p>
<p>5.14 SP1</p>
<p>Stateful Script Tasks</p>
<p>5.14</p>
<p>Project</p>
<p>Open, modify, save and close project</p>
<p>5.13</p>
<p>Accessing the active UI project</p>
<p>5.13</p>
<p>Create a new project</p>
<p>5.13</p>
<p>Access to project settings</p>
<p>Open ARXML files as Project without DPA</p>
<p>5.14</p>
<p>Switch configuation phase (Post-build loadable)</p>
<p>Model</p>
<p>Access to the whole AUTOSAR model</p>
<p>(EcuC and System-</p>
<p>Desc)</p>
<p>5.13</p>
<p>Transaction support (Undo, Redo)</p>
<p>5.13</p>
<p>Type save access to ECU model using definitions provided by</p>
<p>the generated BswmdModel</p>
<p>5.13</p>
<p>Post-build selectable support</p>
<p>5.13</p>
<p>Access of variants, Access/Modification of variant data</p>
<p>5.13</p>
<p>Post-build loadable support</p>
<p>5.13</p>
<p>CE-States:</p>
<p>UserDefined, Changeable, Deletable</p>
<p>5.13</p>
<p>Consideration of pre-configuration status</p>
<p>5.13</p>
<p>Access and modification of User Annotations at the configura-</p>
<p>tion element</p>
<p>5.15</p>
<p>Information and deletion of derived containers</p>
<p>5.16</p>
<p>Generation</p>
<p>Generate code for specific modules</p>
<p>5.13</p>
<p>Generate code for predefined code generation sequence</p>
<p>5.13</p>
<p>Execute external generation steps</p>
<p>5.13</p>
<p>Custom workflow execution</p>
<p>Modify code generation sequence to enable/disable specific mo-</p>
<p>dules or generation steps</p>
<p>5.13</p>
<p>SWC Templates and Contract Headers Generation</p>
<p>5.15</p>
<p>Add a ScriptTask as external generation step</p>
<p>5.13</p>
<p>Add a ScriptTask as custom workflow step</p>
<p>5.14</p>
<p>Validation</p>
<p>Access to project validation result</p>
<p>5.13</p>
<p>Access to validation results of specific model elements</p>
<p>5.13</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>285 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 8.</b></p>
<p><b>AutomationInterface Changes between Versions</b></p>
<p>Solve valdiation results (by group, by id, by solving action type</p>
<p>(preferred solving action))</p>
<p>5.13</p>
<p>Update</p>
<p>Work-</p>
<p>flow</p>
<p>Updating a project</p>
<p>5.13</p>
<p>Input file access and modification (non-variant)</p>
<p>5.13</p>
<p>Input file access and modification (variant)</p>
<p>Configuration of system description merge</p>
<p>Access to update report</p>
<p>Reporting</p>
<p>Create predefined project reports</p>
<p>Create report based on specific CE set</p>
<p>Diff and Merge</p>
<p>Diff and Merge a Project (ActiveEcuC)</p>
<p>Diff and Merge a Project (SystemDescription)</p>
<p>Access to diff report</p>
<p>Persistency</p>
<p>Export of configuration artefacts</p>
<p>5.14</p>
<p>Export of ActiveEcuc</p>
<p>5.14</p>
<p>Export of Post-build selectable Variants per Variant</p>
<p>5.14</p>
<p>Export of AUTOSAR model trees</p>
<p>5.15</p>
<p>Export of Module Configurations</p>
<p>Import of configuration artefacts (Please inform Vector, if you</p>
<p>need an import)</p>
<p>Import of Module Configurations</p>
<p>Domains</p>
<p>Base</p>
<p>Nothing planned</p>
<p>Communication</p>
<p>Access and modification of Can controller configuration</p>
<p>5.13</p>
<p>Access and modification of Can filter masks</p>
<p>5.13</p>
<p>Access and modification of CanBusTimings registers</p>
<p>Access and modification of FullCan flag of PDUs</p>
<p>PDU and Channel abstraction</p>
<p>Diagnostic</p>
<p>Access and modification of Diagnostic Data Identifier</p>
<p>Access and modification of Diagnostic Event Data</p>
<p>5.14</p>
<p>Access and modification of Diagnostic Events</p>
<p>5.14</p>
<p>Setup of event memory blocks</p>
<p>Access and modification of Production error handling</p>
<p>I/O</p>
<p>Nothing planned</p>
<p>Memory</p>
<p>Memory Domain Model Partitions, Memory blocks</p>
<p>FeeOptimization</p>
<p>Mode Manage-</p>
<p>ment</p>
<p>BSW Management</p>
<p>5.15</p>
<p>API to provide the auto configuration (e.g.</p>
<p>ECU state, module</p>
<p>initialization, communication control, ...)</p>
<p>5.15</p>
<p>API to configure logical expressions</p>
<p>API for custom configuration</p>
<p>Watchdogs:</p>
<p>Access to the watchdogs settings and supervised</p>
<p>entities</p>
<p>Initialization:</p>
<p>Auto initialization and reset,</p>
<p>Access to driver</p>
<p>init lists</p>
<p>Runtime</p>
<p>Sy-</p>
<p>stem</p>
<p>Component Port Connection</p>
<p>5.14</p>
<p>Data Mapping</p>
<p>5.14</p>
<p>Task Mapping</p>
<p>5.16</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>286 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 8.</b></p>
<p><b>AutomationInterface Changes between Versions</b></p>
<p>Component prototype creation</p>
<p>5.16</p>
<p>Communication</p>
<p>Control</p>
<p>Nothing planned</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>287 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 8.</b></p>
<p><b>AutomationInterface Changes between Versions</b></p>
<p><b>8.2 Changes in MICROSAR AR4-R20 - Cfg5.17</b></p>
<p><b>8.2.1 General</b></p>
<p>The Cfg5.17 (AR4-R20) automation interface is compatible to the Cfg5.16.</p>
<p>So a script written</p>
<p>with Cfg5.16 will also run in the Cfg5.17 version.</p>
<p><b>8.2.2 Automation Script Project</b></p>
<p>You have to migrate your project to the new compile bindings.</p>
<p>Please execute the instructions</p>
<p>in chapter 7.7 on page 279.</p>
<p><b>8.2.2.1 BuildSystem</b></p>
<p><b>Gradle Build</b></p>
<p>DAVID00136153:</p>
<p>Fixed issue where includeDependenciesIntoJar = true</p>
<p>was not working.</p>
<p>Now the jar dependencies are again included in the built script project.</p>
<p><b>8.2.2.2 Supported IntelliJ IDEA Version</b></p>
<p>The IntelliJ IDEA version 2017.3 was added to the supported versions.</p>
<p>See 7.5.1 on page 275</p>
<p>for details.</p>
<p><b>8.2.3 Persistency</b></p>
<p><b>8.2.3.1 Model</b></p>
<p><b>Module Import</b></p>
<p>The methods added to import module configurations from a given file into the current pro-</p>
<p>ject:</p>
<p>• IPersistencyModelImportApi.importModuleConfigurations(Path, Closure&lt;?&gt;)</p>
<p>• IPersistencyModelImportApi.importModuleConfigurations(List&lt;Path&gt;, Closure&lt;?&gt;)</p>
<p>• IPersistencyModelImportApi.importModuleConfigurations(Path)</p>
<p>• IPersistencyModelImportApi.importModuleConfigurations(List&lt;Path&gt;) The met-</p>
<p>hods added to specify an import mode and filter for the module import:</p>
<p>• IImportModuleConfigurationApi.replaceInModel(IModuleApi, Closure&lt;?&gt;)</p>
<p>• IImportModuleConfigurationApi.addToModel(IModuleApi, Closure&lt;?&gt;)</p>
<p>• IModuleApi.module(DefRef)</p>
<p>• IModuleApi.module(List&lt;?&gt;)</p>
<p>• IModuleApi.module(AsrPath)</p>
<p>• IModuleApi.module(String)</p>
<p><b>8.2.3.2 Model</b></p>
<p><b>Export</b></p>
<p>Support for –exporterArgs added, same as in the new command line feature.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>288 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 8.</b></p>
<p><b>AutomationInterface Changes between Versions</b></p>
<p><b>8.2.4 BswmdModel</b></p>
<p><b>8.2.4.1 SIP DefRefs</b></p>
<p>The IBswmdModelDefRefsApi now provides new methods to check,</p>
<p>if</p>
<p>a module or any other</p>
<p>definition exists in the loaded SIP:</p>
<p>• IBswmdModelDefRefsApi.hasDefRef(String) - returns true, if the passed definition ex-</p>
<p>ists.</p>
<p><b>8.2.5 Runtime System Domain</b></p>
<p><b>8.2.5.1 Component Port Selection</b></p>
<p>• Added predicates to the component port selector to filter component ports which are</p>
<p>completed.</p>
<p>See 4.10.4.1 on page 150.</p>
<p>• Added predicates to the component port selector to filter component ports which are</p>
<p>terminated.</p>
<p>See 4.10.4.1 on page 150.</p>
<p>• The component port offers now a getter method for the port interface of the port.</p>
<p><b>8.2.5.2 Communication Element Selection</b></p>
<p>• Added predicates to the communication element selector to filter for communication ele-</p>
<p>ments whose owner component ports are terminated.</p>
<p>See 4.10.4.2 on page 172.</p>
<p><b>8.2.5.3 Create Delegation Ports</b></p>
<p>Delegation port prototypes can be created via AutomationAPI on the ECU Composition of the</p>
<p>flat extract.</p>
<p>Therefore a port interface selection with some predicates was added.</p>
<p>See 4.10.4.6</p>
<p>on page 210.</p>
<p><b>8.2.5.4 Task Mapping</b></p>
<p>• A new ’queue’ option was added which allows to keep the existing task mappings on the</p>
<p>task at their current position.</p>
<p>See 4.10.4.5 on page 197.</p>
<p>• Added new predicates to the event selection to filter for mode switch events by their mode</p>
<p>activation kind (e.g.</p>
<p>on mode entry or on mode exit) and published according method at</p>
<p>the IEvent interface.</p>
<p>See 4.10.4.5 on page 191.</p>
<p>• Setting the activation offset at the task mapping container is now possible using the event</p>
<p>or the executable entity selection.</p>
<p>See 4.10.4.5 on page 206 and 4.10.4.5 on page 196.</p>
<p><b>8.2.5.5 Simple API for connection between ports</b></p>
<p>Added a simple API to connect ports by using only the component and port names and setting</p>
<p>an optional port interface mapping reference.</p>
<p>See 4.10.4.1 on page 160.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>289 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 8.</b></p>
<p><b>AutomationInterface Changes between Versions</b></p>
<p><b>8.2.5.6 Simple API for data mapping</b></p>
<p>Added another simple API to map communication elements to signals (and signal groups).</p>
<p>The</p>
<p>API requires the fully qualified names of the communication elements and the AUTOSAR paths</p>
<p>to the signals and signal groups.</p>
<p>See 4.10.4.2 on page 177.</p>
<p><b>8.2.5.7 Port Terminators</b></p>
<p>Added port terminators to the automation interface.</p>
<p>Port terminators prevent open (uncon-</p>
<p>nected and/or without data mapping) ports to produce validation messages.</p>
<p>Ports can be</p>
<p>terminated via the selection of component ports (also simple API) as well as the selection of com-</p>
<p>munication elements (no simple API). See 4.10.4.1 on page 162 and 4.10.4.2 on page 182.</p>
<p><b>8.2.5.8 Data Mapping</b></p>
<p>Published an interface for TriggerToSignalMappings,</p>
<p>which can be used for example to filter</p>
<p>the new created mappings for TriggerToSignalMappings.</p>
<p><b>8.2.5.9 Service Proxy Components</b></p>
<p>Added predicates to filter component ports and component types for ServiceProxyComponent-</p>
<p>Types.</p>
<p>See 4.10.4.1 on page 151 and 4.10.4.3 on page 185.</p>
<p><b>8.2.5.10 Retrieve Short Name Paths and Fully Qualified Names</b></p>
<p>Added a chapter with examples on how to retrieve short name paths of port interface mappings,</p>
<p>signals and signal groups and the fully qualified names of communication elements.</p>
<p>See 4.10.4.7</p>
<p>on page 213.</p>
<p><b>8.2.5.11 More Examples</b></p>
<p>Added a few more examples to the documentation.</p>
<p>• How to select component ports which are missing a data mapping or connection.</p>
<p>• How to use the advanced filter for events when performing task mappings.</p>
<p>• Another example of ordering task mappings.</p>
<p>• Create a delegation port based on another port with using its name and port interface.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>290 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 8.</b></p>
<p><b>AutomationInterface Changes between Versions</b></p>
<p><b>8.3 Changes in MICROSAR AR4-R19 - Cfg5.16</b></p>
<p><b>8.3.1 General</b></p>
<p>The Cfg5.16 (AR4-R19) automation interface is compatible to the Cfg5.15.</p>
<p>So a script written</p>
<p>with Cfg5.15 will also run in the Cfg5.16 version.</p>
<p><b>8.3.2 Automation Script Project</b></p>
<p>You have to migrate your project to the new compile bindings.</p>
<p>Please execute the instructions</p>
<p>in chapter 7.7 on page 279.</p>
<p><b>8.3.2.1 Groovy</b></p>
<p>The used Groovy version was updated from 2.4.7 to 2.4.12,</p>
<p>please see Groovy website for</p>
<p>details.</p>
<p><b>8.3.2.2 BuildSystem</b></p>
<p><b>Gradle Build</b></p>
<p>The Gradle will</p>
<p>now mark the Script inside of the DaVinci</p>
<p>Configurator with</p>
<p>an error, if there were any problems with the last Gradle execution.</p>
<p>This shall help the script</p>
<p>developers to find quickly the cause of the issue.</p>
<p><b>Gradle version</b></p>
<p>The used Gradle version was updated from 3.0 to 4.0.1,</p>
<p>please see Gradle</p>
<p>website for details.</p>
<p>Your automation script project must now use the Gradle version 4.0.1.</p>
<p>Please install the new Gradle version, if you manually installed the old version.</p>
<p>The dependency configuration compileDvCfg was removed,</p>
<p>please use the configuration com-</p>
<p>pileOnly instead.</p>
<p><b>8.3.2.3 Supported IntelliJ IDEA Version</b></p>
<p>The IntelliJ IDEA version 2017.2 was added to the supported versions.</p>
<p>See 7.5.1 on page 275</p>
<p>for details.</p>
<p><b>8.3.3 ScriptAccess</b></p>
<p>New API added to retrieve the loaded scripts and call other script task inside of a script task.</p>
<p>See 4.4.11 on page 55 for details.</p>
<p><b>8.3.4 UserInteraction - Progress Indication</b></p>
<p>The UserInteraction has now a new API to indicate progress to the User, by updating the text</p>
<p>and the progress bar.</p>
<p>Some long running operations like:</p>
<p>• Project Load</p>
<p>• Project Creation</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>291 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 8.</b></p>
<p><b>AutomationInterface Changes between Versions</b></p>
<p>• Transactions</p>
<p>• Update Workflow</p>
<p>now report the progress.</p>
<p>See section 4.4.5.2 on page 43 for details.</p>
<p><b>8.3.5 Project Handling</b></p>
<p>Advanced API to open a Project added,</p>
<p>which is not automatically closed,</p>
<p>see section 4.5.4.2</p>
<p>on page 67 for details.</p>
<p><b>8.3.6 Model</b></p>
<p><b>Automation API</b></p>
<p><b>8.3.6.1 Derived Containers</b></p>
<p>New API added to retrieve information about derived containers and delete derived containers,</p>
<p>see chapter 4.6.4.12 on page 98 for details.</p>
<p><b>8.3.6.2 Variance API</b></p>
<p>Old Variance API deprecated and replaced by new names with PostBuild:</p>
<p>• getAllVariantViews() =&gt; getAllPostBuildVariantViews()</p>
<p>• getInvariantValuesView() =&gt; getPostBuildInvariantValuesView()</p>
<p>• getInvariantEcucDefView() =&gt; getPostBuildInvariantEcucDefView()</p>
<p>• getAllVariantViewsOrInvariant() =&gt; getAllPostBuildVariantViewsOrInvariant()</p>
<p>• isValueInvariant() =&gt; isPostBuildValueInvariant()</p>
<p>• etc.</p>
<p><b>8.3.6.3 CE State</b></p>
<p>The methods ICeStatePublished.isChangeable() and ICeStatePublished.isDeletable()</p>
<p>are now part of the published API.</p>
<p><b>8.3.6.4 MDF Modification API</b></p>
<p>New method added IMdfFeatureListHasDefinitionExtensions.byDefOrCreate(TypedDefRef&lt;?,</p>
<p>R, ?&gt;) which allows to update or create 0:1 or 1:1 parameter and container in a convenient</p>
<p>manner.</p>
<p><b>8.3.7 Persistency</b></p>
<p><b>8.3.7.1 Model</b></p>
<p><b>Export</b></p>
<p>The methods added to export models into a specified file instead of a folder:</p>
<p>• IPersistencyModelExportApi.exportModelTreeToFile(Object, MIObject, MIObject...)</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>292 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 8.</b></p>
<p><b>AutomationInterface Changes between Versions</b></p>
<p>• IPersistencyModelExportApi.exportActiveEcucToFile(Object)</p>
<p>• IPersistencyModelExportApi.IModelExporter.exportToFile(Object, Object...)</p>
<p><b>PreBuild Export API</b></p>
<p>The methods added to export PreBuild variant info into a folder:</p>
<p>• IPersistencyModelExportApi.exportPreBuildVariants(Object)</p>
<p>• IModelExporter.exportAsPreBuildVariants(Object folder, Object...</p>
<p>args)</p>
<p><b>8.3.8 Generation</b></p>
<p><b>8.3.8.1 Generation Steps</b></p>
<p>Now the IGenerationStep class has a getter for the TargetType (EEnvironmentTargetType).</p>
<p>See chapter 4.7.1.2 on page 116 for details.</p>
<p><b>8.3.9 Runtime System Domain</b></p>
<p><b>8.3.9.1 Component Port Selection</b></p>
<p>Automation API supports now trigger interfaces and trigger to signal</p>
<p>mappings.</p>
<p>See 4.10.4.1</p>
<p>on page 150 and 4.10.4.2 on page 172.</p>
<p>Added predicates to the component port selector to filter component ports for attributes of</p>
<p>their component types.</p>
<p>See 4.10.4.1 on page 150.</p>
<p><b>8.3.9.2 Signal</b></p>
<p><b>Instance Selection</b></p>
<p>It is now possible to filter SystemSignals with new predicates for PhysicalChannels, Communi-</p>
<p>cationClusters, Pdus and Frames.</p>
<p>See 4.10.4.2 on page 165.</p>
<p><b>8.3.9.3 Bridge between mdf and model</b></p>
<p><b>abstractions</b></p>
<p>Introduced a bridge to navigate between mdf model</p>
<p>objects and model</p>
<p>abstraction objects of</p>
<p>the runtime system domain.</p>
<p>See 4.10.4.4 on page 188.</p>
<p><b>8.3.9.4 Create Component Prototypes</b></p>
<p>Component prototypes can be created via AutomationAPI.</p>
<p>Therefore a component type se-</p>
<p>lection with some predicates was added.</p>
<p>See 4.10.4.3 on page 186.</p>
<p><b>8.3.9.5 Task Mapping</b></p>
<p>The task mapping can be done using the AutomationAPI now.</p>
<p>Two entry points were added.</p>
<p>An event selection and an executable entity selection.</p>
<p>After that it is possible to select a task</p>
<p>and to customize the task mapping by e.g.</p>
<p>map all events of a runnable to the same position</p>
<p>or applying an execution order constraint.</p>
<p>See 4.10.4.5 on page 194.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>293 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 8.</b></p>
<p><b>AutomationInterface Changes between Versions</b></p>
<p><b>8.4 Changes in MICROSAR AR4-R18 - Cfg5.15</b></p>
<p><b>8.4.1 General</b></p>
<p>The Cfg5.15 (AR4-R18) automation interface is mostly compatible to the Cfg5.14.</p>
<p>So a script</p>
<p>written with Cfg5.14 will also run in the Cfg5.15 version.</p>
<p><b>8.4.2 Automation Script Project</b></p>
<p>You have to migrate your project to the new compile bindings.</p>
<p>Please execute the instructions</p>
<p>in chapter 7.7 on page 279.</p>
<p><b>8.4.2.1 Supported IntelliJ IDEA Version</b></p>
<p>The IntelliJ IDEA version 2016.3 was added to the supported versions.</p>
<p>See 7.5.1 on page 275</p>
<p>for details.</p>
<p><b>8.4.2.2 BuildSystem</b></p>
<p><b>Groovy -</b></p>
<p><b>Static compilation</b></p>
<p>The AutomationInterface Groovy compiler extension added.</p>
<p>This</p>
<p>allows</p>
<p>you to use Automation API</p>
<p>in static compiled Groovy code.</p>
<p>See 7.9.3.2 on</p>
<p>page 282.</p>
<p><b>includeDependenciesIntoJar</b></p>
<p>The includeDependenciesIntoJar Gradle build setting added.</p>
<p>See 7.9.3.3 on page 283 for details.</p>
<p>The Gradle build will now automatically include jar depen-</p>
<p>dencies into your project jar.</p>
<p><b>8.4.3 Script Execution</b></p>
<p><b>8.4.3.1 User defined arguments</b></p>
<p>The ScriptTask user defined arguments now support validators to validate the input before</p>
<p>executing the task, like checking if the file exists.</p>
<p>This provides fast user feedback.</p>
<p>See 4.4.9.1</p>
<p>on page 50 for details.</p>
<p><b>8.4.4 Project Handling</b></p>
<p>New API added to create empty raw AUTOSAR model projects, see chapter 4.5.6.1 on page 70</p>
<p>for details.</p>
<p><b>8.4.5 Project Creation vVIRTUALtarget settings</b></p>
<p>New API</p>
<p>added to customize vVIRTUALtarget project and executable settings for project</p>
<p>creation.</p>
<p>See chapter 4.5.3.7 on page 64 for details.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>294 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 8.</b></p>
<p><b>AutomationInterface Changes between Versions</b></p>
<p><b>8.4.6 Model</b></p>
<p><b>changes</b></p>
<p>These changes could break your existing client code,</p>
<p>if you have used these interfaces or met-</p>
<p>hods.</p>
<p>• Some interfaces have been renamed or moved:</p>
<p><b>–</b> Interface MIMcFunctionDataRefSet moved</p>
<p>∗ from package com.vector.cfg.model.mdf.ar4x.commonstructure.</p>
<p>measurementcalibrationsupport</p>
<p>to package com.vector.cfg.model.mdf.ar4x.commonstructure.</p>
<p>measurementcalibrationsupport.rptsupport</p>
<p><b>–</b> Interface MIMcFunctionDataRefSetConditional moved</p>
<p>∗ from package com.vector.cfg.model.mdf.ar4x.commonstructure.</p>
<p>measurementcalibrationsupport</p>
<p>to package com.vector.cfg.model.mdf.ar4x.commonstructure.</p>
<p>measurementcalibrationsupport.rptsupport</p>
<p><b>–</b> Interface MIMcFunctionDataRefSetContent moved</p>
<p>∗ from package com.vector.cfg.model.mdf.ar4x.commonstructure.</p>
<p>measurementcalibrationsupport</p>
<p>to package com.vector.cfg.model.mdf.ar4x.commonstructure.</p>
<p>measurementcalibrationsupport.rptsupport</p>
<p><b>–</b> Interface MIFt moved</p>
<p>∗ from package com.vector.cfg.model.mdf.model.autosar.commonpatterns.</p>
<p>textmodel.languagedatamodel.specializedloverviewparagraph</p>
<p>to package com.vector.cfg.model.mdf.model.autosar.commonpatterns.</p>
<p>textmodel.singlelanguagedata.specializedsloverviewparagraph</p>
<p><b>–</b> Interface MIFt moved</p>
<p>∗ from package com.vector.cfg.model.mdf.model.autosar.commonpatterns.</p>
<p>textmodel.languagedatamodel.specializedlparagraph</p>
<p>to package com.vector.cfg.model.mdf.model.autosar.commonpatterns.</p>
<p>textmodel.singlelanguagedata.specializedslparagraph</p>
<p>• Some methods have been changed or removed:</p>
<p><b>–</b> Interface com.vector.cfg.model.mdf.ar4x.diagnosticextract.dcm.</p>
<p>diagnosticservice.databyidentifier.MIDiagnosticDataByIdentifier</p>
<p>∗ MIDiagnosticDataIdentifierARRef getDataIdentifier()</p>
<p>changed to</p>
<p>MIDiagnosticAbstractDataIdentifierARRef getDataIdentifier()</p>
<p>∗ void setDataIdentifier(MIDiagnosticDataIdentifierARRef)</p>
<p>changed to</p>
<p>void setDataIdentifier(MIDiagnosticAbstractDataIdentifierARRef)</p>
<p><b>–</b> Some ...Owner() methods were removed.</p>
<p>The usage of these methods is not recom-</p>
<p>mended.</p>
<p>Instead use the MIObject.miImmediateComposite() method.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>295 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 8.</b></p>
<p><b>AutomationInterface Changes between Versions</b></p>
<p><b>8.4.7 Model</b></p>
<p><b>Automation API</b></p>
<p><b>8.4.7.1 IVarianceApi</b></p>
<p>New method IVarianceApi.getAllVariantViewsOrInvariant() added.</p>
<p><b>8.4.7.2 Access methods</b></p>
<p>New access methods for the EcuConfigurationAccess and EcucDefinitionAccess added.</p>
<p>See</p>
<p>chapter 4.6.4.10 on page 97 for details.</p>
<p>New MDF access method added mdfModel(String).</p>
<p>This method tries to resolve a model</p>
<p>element by testing multiple ways.</p>
<p>See chapter 4.6.4.2 on page 88 details.</p>
<p><b>8.4.7.3 Reverse Reference Resolution - ReferencesPointingToMe</b></p>
<p>New methods to query references starting from reference targets added.</p>
<p>See chapter 4.6.4.11</p>
<p>on page 98 for details.</p>
<p><b>8.4.7.4 Operations</b></p>
<p>New method setConfigurationVariantOfAllModuleConfigurations() added to IOperati-</p>
<p>ons class.</p>
<p>See chapter 4.6.6.2 on page 106 for details.</p>
<p>New method createUniqueMappedAutosarPackage() added to IOperations class.</p>
<p>See chap-</p>
<p>ter 4.6.6.2 on page 106 for details.</p>
<p><b>8.4.7.5 User Annotations</b></p>
<p>New API to access and modify User Annotations was added.</p>
<p>See chapter 4.6.9.1 on page 111</p>
<p>for details.</p>
<p><b>8.4.7.6 Variance</b></p>
<p>New method variance.variantView(String name) added to retrieve a variant view by name.</p>
<p><b>8.4.7.7 Model</b></p>
<p><b>Synchronization</b></p>
<p>New API added to execution the new Model</p>
<p>Synchronization operation.</p>
<p>See chapter 4.6.7 on</p>
<p>page 107 for details.</p>
<p><b>8.4.8 Persistency</b></p>
<p>New Persistency model exporter added exportModelTree().</p>
<p>See chapter 4.11 on page 216 for</p>
<p>details.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>296 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 8.</b></p>
<p><b>AutomationInterface Changes between Versions</b></p>
<p><b>8.4.9 Workflow</b></p>
<p>New workflow API added to configure settings with updateSettings{}:</p>
<p>• Select the update mode (ECUC_ONLY, ECUC_AND_DEVELOPER_WORKSPACE)</p>
<p>• Parameter uuidUsageInStandardConfigurationEnabled</p>
<p>• Parameter uuidUsageInSystemDescriptionEnabled</p>
<p><b>8.4.10 Validation</b></p>
<p><b>8.4.10.1 Validation-Result Access Methods</b></p>
<p>New two new methods added to retrieve validation by model object in a recursive manner like</p>
<p>the editors.</p>
<p>• MIObject.getValidationResultsRecursive()</p>
<p>• IViewedModelObject.getValidationResultsRecursive()</p>
<p><b>8.4.11 Generation</b></p>
<p><b>8.4.11.1 SWC Templates and Contract Headers Generation</b></p>
<p>The SWC Templates and Contract Headers Generation (Swct) automation API was added, see</p>
<p>chapter 4.7.3 on page 120 for details.</p>
<p><b>8.4.12 BswmdModel</b></p>
<p><b>8.4.12.1 BswmdModel</b></p>
<p><b>Groovy</b></p>
<p>Two new methods added to access the BswmdModel by MDF model objects in a generic way,</p>
<p>without knowing a DefRef.</p>
<p>This is handy, if you want traverse an unknown Ecu configuration</p>
<p>structure.</p>
<p>• GIContainer bswmdModel(MIContainer)</p>
<p>• GIModuleConfiguration bswmdModel(MIModuleConfiguration) Both methods return</p>
<p>the base bswmd model types for the corresponding MDF model objects.</p>
<p>New methods added to access BswmdModel elements by path and or by Type:</p>
<p>• List bswmdModel(Class)</p>
<p>• List bswmdModel(Class, Closure)</p>
<p>• List bswmdModel(Class, String)</p>
<p>• List bswmdModel(Class, String, Closure)</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>297 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 8.</b></p>
<p><b>AutomationInterface Changes between Versions</b></p>
<p><b>8.4.12.2 DerivativeMapping</b></p>
<p>Until R17 modules with DerivativeMapping were ignored from the DaVinciConfigurator and no</p>
<p>BswmdModel</p>
<p>classes were generated for these modules.</p>
<p>Just the corresponding AsrXxx (e.g.</p>
<p>AsrOs) model</p>
<p>classes were included in the BswmdModel.</p>
<p>Now the BswmdModel</p>
<p>classes for</p>
<p>these modules are generated for one certain derivative.</p>
<p>By default,</p>
<p>the first derivative is selected,</p>
<p>sorted by UUID.</p>
<p>The AsrXxx usages have to be</p>
<p>replaced by the actual module in the scripts.</p>
<p>See 5.3.2.1 on page 256 for more details.</p>
<p><b>8.4.13 Mode Management Domain</b></p>
<p>Introduced BswM auto configuration API for automatically creating dedicated parts of</p>
<p>the</p>
<p>BswM configuration.</p>
<p>See chapter 4.10.3.1 on page 146 for details.</p>
<p><b>8.4.14 Runtime System Domain</b></p>
<p><b>8.4.14.1 Data Mapping</b></p>
<p>’autoMapTo’ allows control now about the handling of nested arrays of primitive.</p>
<p>See 4.10.4.2</p>
<p>on page 169 and 4.10.4.2 on page 175.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>298 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 8.</b></p>
<p><b>AutomationInterface Changes between Versions</b></p>
<p><b>8.5 Changes in MICROSAR AR4-R17 - Cfg5.14</b></p>
<p><b>8.5.1 General</b></p>
<p>This is the<b> first</b> stable version of the DaVinci Configurator AutomationInterface.</p>
<p><b>8.5.2 Script Execution</b></p>
<p><b>8.5.2.1 Stateful</b></p>
<p><b>Script Tasks</b></p>
<p>A new API was added to support cache and retrieve data over multiple script task executions.</p>
<p>See 4.4.10 on page 53 for more details.</p>
<p><b>8.5.3 Automation Script Project</b></p>
<p>You have to migrate your project to the new compile bindings.</p>
<p>Please execute the instructions</p>
<p>in chapter 7.7 on page 279.</p>
<p><b>8.5.3.1 Groovy</b></p>
<p>The used Groovy version was updated from 2.4.5 to 2.4.7,</p>
<p>please see Groovy website for de-</p>
<p>tails.</p>
<p><b>8.5.3.2 Supported IntelliJ IDEA Version</b></p>
<p>The IntelliJ IDEA version 2016.2 was added to the supported versions.</p>
<p>See 7.5.1 on page 275</p>
<p>for details.</p>
<p><b>8.5.3.3 BuildSystem</b></p>
<p><b>Gradle</b></p>
<p>The used default Gradle version was updated from 2.13 to 3.0,</p>
<p>please see Gradle</p>
<p>website for details.</p>
<p><b>useJarSignDaemon</b></p>
<p>The useJarSignDaemon Gradle build setting added.</p>
<p>See 7.9.3.3 on page 283</p>
<p>for details.</p>
<p><b>8.5.4 Converter Refactoring</b></p>
<p>The converters previously provided by com.vector.cfg.automation.api.Converters have</p>
<p>been moved to the new com.vector.cfg.automation.scripting.api.ScriptConverters and</p>
<p>com.vector.cfg.model.groovy.api.ModelConverters.</p>
<p><b>8.5.5 UserInteraction</b></p>
<p>UserInteraction API added to show messages to the user, see 4.4.5.1 on page 42.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>299 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 8.</b></p>
<p><b>AutomationInterface Changes between Versions</b></p>
<p><b>8.5.6 Project Load</b></p>
<p><b>8.5.6.1 AUTOSAR Arxml</b></p>
<p><b>Files</b></p>
<p>New API added to open AUTOSAR arxml files as a temporary project.</p>
<p>See chapter 4.5.6 on</p>
<p>page 69 for details.</p>
<p><b>8.5.7 Model</b></p>
<p><b>Script Tasks Types</b></p>
<p>The existing script task type DV_MODULE_ACTIVATION renamed to the new</p>
<p>name DV_ON_MODULE_ACTIVATION.</p>
<p>A new DV_ON_MODULE_DEACTIVATION task type added, which is execution when a module con-</p>
<p>figuration is deleted.</p>
<p><b>8.5.7.1 Transactions</b></p>
<p>A new ITransactionsApi added which provide access to the transactionHistory and API to re-</p>
<p>trieve information of running transactions.</p>
<p>A new method transactions.isTransactionRunning()</p>
<p>added.</p>
<p>The ITransactionHistoryApiwas moved to the new ITransactionsApi.</p>
<p>The access to the</p>
<p>history is now transactions.transactionHistory{}.</p>
<p><b>Operations</b></p>
<p>The new operations added:</p>
<p>• deactivateModuleConfiguration() to delete a module configuration</p>
<p>• activateModuleConfiguration(DefRef, String shortName) to activate a module con-</p>
<p>figuration with the specified short name</p>
<p>• createModelObject(Class&lt;T&gt;) to create arbitrary MDF model objects</p>
<p>• parameter.setUserDefined(boolean) method added to set and reset the user defined</p>
<p>flag</p>
<p><b>8.5.7.2 MDF Model</b></p>
<p><b>Read and Write</b></p>
<p>The whole MDF model</p>
<p>API was changed from the old mdfRead() and mdfWrite() to one</p>
<p>method mdfModel() with explicit write/create methods.</p>
<p>You have to change all your mdfRead()</p>
<p>and mdfWrite() calls to mdfModel().</p>
<p>And every mdfWrite() closure the implicit creation to</p>
<p>explicit create calls.</p>
<p>This was necessary due to the fact that the old implicit API leads to surprising results,</p>
<p>when</p>
<p>methods are called, which use the read API, but called in a write context.</p>
<p>So the method would</p>
<p>yield different results, when called in different contexts.</p>
<p>The new MDF model</p>
<p>API will</p>
<p>never create any elements implicitly.</p>
<p>Now there are explicit</p>
<p>create methods, like in the BswmdModel:</p>
<p>• For 0:1 elements:</p>
<p>get&lt;Element&gt;OrCreate() method</p>
<p>• For 0:* elements:</p>
<p>list.createAndAdd() and byNameOrCreate() methods</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>300 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 8.</b></p>
<p><b>AutomationInterface Changes between Versions</b></p>
<p>The write context is not needed anymore, but you have to open a transaction() before calling</p>
<p>any write API.</p>
<p>See the chapter 4.6.4.1 on page 86 for the read API</p>
<p>and 4.6.4.3 on page 90 for the write</p>
<p>API.</p>
<p><b>8.5.7.3 SystemDescription Access</b></p>
<p>The SystemDescription Access API added to retrieve paths to elements like flat map, flat extract</p>
<p>and the corresponding model elements.</p>
<p>See chapter 4.6.5 on page 103 for details.</p>
<p><b>8.5.7.4 ActiveEcuc</b></p>
<p>The class IActiveEcuc was renamed to IActiveEcucApi to reflect that it is not the active ecuc</p>
<p>element, but the API of the active ecuc.</p>
<p><b>8.5.8 Persistency</b></p>
<p>New Persistency API added to import and export model</p>
<p>data.</p>
<p>See chapter 4.11 on page 216</p>
<p>for details.</p>
<p><b>8.5.9 Generation</b></p>
<p>The generation script tasks DV_GENERATION_ON_START and DV_GENERATION_ON_END renamed</p>
<p>to DV_ON_GENERATION_START and DV_ON_GENERATION_END.</p>
<p>The new script task type DV_CUSTOM_WORKFLOW_STEP added to execute tasks in the custom</p>
<p>workflow.</p>
<p>See 4.3.1.4 on page 33 for details.</p>
<p>The return type of validation and generation methods has changed to IGenerationResultMo-</p>
<p>del.</p>
<p>This type provides more detailed information about the executed steps.</p>
<p><b>8.5.10 BswmdModel</b></p>
<p><b>8.5.10.1 Writing with BswmdModel</b></p>
<p>The BswmdModel supports now a write access for ecuc configuration elements.</p>
<p>This means new</p>
<p>elements can be created and existing elements can be modified and deleted by the BswmdModel.</p>
<p>See 5.3.1.9 on page 252 for more details.</p>
<p><b>8.5.11 BswmdModel</b></p>
<p><b>Groovy</b></p>
<p><b>bswmdModelRead</b></p>
<p>The BswmdModel access was changed from the old bswmdModelRead() to</p>
<p>the new bswmdModel() method.</p>
<p>This was done to support the new write access.</p>
<p><b>Domain Object Navigation</b></p>
<p>The BswmdModel API now support the navigation from domain</p>
<p>model to the BswmdModel.</p>
<p>See 4.6.3.7 on page 85.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>301 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 8.</b></p>
<p><b>AutomationInterface Changes between Versions</b></p>
<p><b>8.5.12 Diagnostics Domain</b></p>
<p>Introduced new API which allows creation and querying of diagnostic events.</p>
<p>Also OBD and</p>
<p>J1939 state of the configuration can be queried.</p>
<p><b>8.5.13 Communication Domain</b></p>
<p>Communication Domain API moved from</p>
<p>com.vector.cfg.dom.com.model.groovy into</p>
<p>com.vector.cfg.dom.com.groovy.api.</p>
<p>Can Controller classes moved from</p>
<p>com.vector.cfg.dom.com.model.groovy.can into</p>
<p>com.vector.cfg.dom.com.groovy.can.</p>
<p><b>8.5.14 Runtime System Domain</b></p>
<p>Runtime System API IRuntimeSystemApi now provides functionality to map ports and system</p>
<p>signals.</p>
<p>Entry points are the selectComponentPorts,</p>
<p>selectSignalInstances and selectCommuni-</p>
<p>cationElements methods.</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>302 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 8.</b></p>
<p><b>AutomationInterface Changes between Versions</b></p>
<p><b>8.6 Changes in MICROSAR AR4-R16 - Cfg5.13</b></p>
<p><b>8.6.1 General</b></p>
<p>This is the<b> first</b> version of the DaVinci Configurator AutomationInterface.</p>
<p><b>8.6.2 API Stability</b></p>
<p>The API is not stable yet and could still be changed in later releases.</p>
<p>So it could be necessary</p>
<p>to migrate your code when you update to later versions of the DaVinci Configurator.</p>
<p><b>8.6.3 Beta Status</b></p>
<p>Some features of</p>
<p>the AutomationInterface are have beta status.</p>
<p>This will</p>
<p>change for later</p>
<p>versions of the AutomationInterface.</p>
<p>Which means that some features:</p>
<p>• Are not fully tested</p>
<p>• Missing documentation</p>
<p>• Missing functionality</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>303 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>9 Appendix</b></p>
<p>© 2018, Vector Informatik GmbH</p>
<p>304 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Chapter 9.</b></p>
<p><b>Appendix</b></p>
<p><b>Nomenclature</b></p>
<p><i>AI</i></p>
<p>Automation Interface</p>
<p><i>AUT OSAR</i> AUTomotive Open System ARchitecture</p>
<p><i>CE</i></p>
<p>Configuration Entity (typically a container or parameter)</p>
<p><i>Cfg</i></p>
<p>DaVinci Configurator</p>
<p><i>Cfg</i>5</p>
<p>DaVinci Configurator</p>
<p><i>DV</i></p>
<p>DaVinci</p>
<p><i>IDE</i></p>
<p>Integrated Development Environment</p>
<p><i>JAR</i> Java Archive</p>
<p><i>JDK</i> Java Development Kit</p>
<p><i>JRE</i> Java Runtime Environment</p>
<p><i>MDF</i> Meta-Data-Framework</p>
<p><i>MSN</i> ModuleShortName</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>305 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Figures</b></p>
<p><b>Figures</b></p>
<p>2.1</p>
<p>Script Samples location</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>13</p>
<p>2.2</p>
<p>Script Locations View .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>13</p>
<p>2.3</p>
<p>Script Tasks View</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>13</p>
<p>2.4</p>
<p>Create New Script Project...</p>
<p>Button .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>14</p>
<p>2.5</p>
<p>Project Settings .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>15</p>
<p>2.6</p>
<p>Project Build .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>16</p>
<p>2.7</p>
<p>Project SDK Setting .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>17</p>
<p>2.8</p>
<p>Gradle JVM Setting</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>18</p>
<p>3.1</p>
<p>DaVinci Configurator components and interaction with scripts</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>19</p>
<p>3.2</p>
<p>Structure of scripts and script tasks</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>21</p>
<p>4.1</p>
<p>The API overview and containment structure</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>26</p>
<p>4.2</p>
<p>IScriptTaskType interfaces .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>31</p>
<p>4.3</p>
<p>Script Task Execution Sequence .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>37</p>
<p>4.4</p>
<p>ScriptingException and sub types .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>45</p>
<p>4.5</p>
<p>Search for active project in getActiveProject() .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>57</p>
<p>4.6</p>
<p>example situation with the GUI .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>123</p>
<p>5.1</p>
<p>ECUC container type inheritance .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>231</p>
<p>5.2</p>
<p>MIObject class hierarchy and base interfaces</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>232</p>
<p>5.3</p>
<p>Autosar package containment</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>232</p>
<p>5.4</p>
<p>The ECUC container definition reference .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>233</p>
<p>5.5</p>
<p>Invariant views hierarchy</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>239</p>
<p>5.6</p>
<p>Example of a model structure and the visibility of the IInvariantValuesView .</p>
<p>.</p>
<p>.</p>
<p>240</p>
<p>5.7</p>
<p>Variant specific change of a parameter value .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>243</p>
<p>5.8</p>
<p>Variant common change of a parameter value</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>244</p>
<p>5.9</p>
<p>The relationship between the MDF model and the BswmdModel</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>245</p>
<p>5.10 SubContainer DefRef navigation methods</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>248</p>
<p>5.11 Untyped reference interfaces in the BswmdModel</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>249</p>
<p>5.12 Creating a BswmdModel in the Post-build selectable use case</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>250</p>
<p>5.13 Class and Interface Structure of the BswmdModel</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>252</p>
<p>5.14 DefRef class structure</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>258</p>
<p>5.15 IParameterStatePublished class structure</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>261</p>
<p>5.16 IContainerStatePublished class structure .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>262</p>
<p>7.1</p>
<p>Project Build .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>275</p>
<p>7.2</p>
<p>Project Continuous Build</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>276</p>
<p>7.3</p>
<p>Stop Continuous Build .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>276</p>
<p>7.4</p>
<p>Disconnect from Continuous Build Process .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>276</p>
<p>7.5</p>
<p>Project Debug</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>277</p>
<p>7.6</p>
<p>Stop Debug Session .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>277</p>
<p>7.7</p>
<p>Disconnect from Debug Process .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>277</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>306 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Tables</b></p>
<p><b>Tables</b></p>
<p>5.1</p>
<p>Different Class types in different models</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>246</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>307 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Listings</b></p>
<p>3.1</p>
<p>Static field memory leak .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>24</p>
<p>3.2</p>
<p>Memory leak with closure variable</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>25</p>
<p>4.1</p>
<p>Task creation with default type .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>27</p>
<p>4.2</p>
<p>Task creation with TaskType Application</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>28</p>
<p>4.3</p>
<p>Task creation with TaskType Project .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>28</p>
<p>4.4</p>
<p>Define two tasks is one script</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>28</p>
<p>4.5</p>
<p>Script creation with IDE support</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>28</p>
<p>4.6</p>
<p>Task with isExecutableIf .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>29</p>
<p>4.7</p>
<p>Script with description .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>29</p>
<p>4.8</p>
<p>Task with description</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>30</p>
<p>4.9</p>
<p>Task with description and help text</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>30</p>
<p>4.10 Access automation API in Groovy clients by the IScriptExecutionContext</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>35</p>
<p>4.11 Access to automation API in Java clients by the IScriptExecutionContext</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>36</p>
<p>4.12 Script task code block arguments</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>36</p>
<p>4.13 Resolves a path with the resolvePath() method .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>38</p>
<p>4.14 Resolves a path with the resolvePath() method .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>39</p>
<p>4.15 Resolves a path with the resolveScriptPath() method .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>39</p>
<p>4.16 Resolves a path with the resolveProjectPath() method .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>40</p>
<p>4.17 Resolves a path with the resolveSipPath() method</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>40</p>
<p>4.18 Resolves a path with the resolveTempPath() method .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>40</p>
<p>4.19 Get the project output folder path</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>41</p>
<p>4.20 Get the SIP folder path</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>41</p>
<p>4.21 Usage of the script logger</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>42</p>
<p>4.22 Usage of the script logger with message formatting .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>42</p>
<p>4.23 Usage of the script logger with Groovy GString message formatting .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>42</p>
<p>4.24 UserInteraction from a script</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>43</p>
<p>4.25 Display progress to the user</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>43</p>
<p>4.26 Display progress to the user nested .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>44</p>
<p>4.27 Display progress to the user with progress bar work</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>44</p>
<p>4.28 Stop script task execution by throwing an ScriptClientExecutionException .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>45</p>
<p>4.29 Changing the return code of the console application by throwing an ScriptClien-</p>
<p>tExecutionException .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>46</p>
<p>4.30 Using your own defined method .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>47</p>
<p>4.31 Using your own defined class</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>47</p>
<p>4.32 Using your own defined method with a daVinci block .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>47</p>
<p>4.33 ScriptApi.scriptCode{} usage in own method</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>48</p>
<p>4.34 ScriptApi.scriptCode() usage in own method</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>48</p>
<p>4.35 ScriptApi.activeProject{} usage in own method .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>49</p>
<p>4.36 ScriptApi.activeProject() usage in own method</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>49</p>
<p>4.37 Script task UserDefined argument with no value</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>49</p>
<p>4.38 Define and use script task user defined arguments from commandline .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>50</p>
<p>4.39 Script task UserDefined argument with default value</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>50</p>
<p>4.40 Script task UserDefined argument with multiple values .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>50</p>
<p>4.41 Script task UserDefined argument with predefined validator</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>51</p>
<p>4.42 Script task UserDefined argument with own validator</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>51</p>
<p>4.43 executionData - Cache and retrieve data during one script task execution</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>53</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>308 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Listings</b></p>
<p>4.44 sessionData - Cache and retrieve data over multiple script task executions</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>53</p>
<p>4.45 sessionData and executionData syntax samples</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>54</p>
<p>4.46 Call another script task from a script task .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>55</p>
<p>4.47 Call another script task with arguments</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>55</p>
<p>4.48 Accessing IProjectHandlingApi as a property</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>56</p>
<p>4.49 Accessing IProjectHandlingApi in a scope-like way</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>56</p>
<p>4.50 Switch the active project .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>57</p>
<p>4.51 Accessing the active IProject</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>58</p>
<p>4.52 Creating a new project (mandatory parameters only) .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>58</p>
<p>4.53 Creating a new project (with some optional parameters)</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>59</p>
<p>4.54 Creating a new project with custom VTT settings</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>65</p>
<p>4.55 Opening a project from .dpa file</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>66</p>
<p>4.56 Parameterizing the project open procedure</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>66</p>
<p>4.57 Opening, modifying and saving a project .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>68</p>
<p>4.58 Opening Arxml files as project</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>69</p>
<p>4.59 Create an empty AUTOSAR model</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>70</p>
<p>4.60 Read with BswmdModel objects starting with a module DefRef (no type decla-</p>
<p>ration) .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>72</p>
<p>4.61 Read with BswmdModel objects starting with a module class (strong typing)</p>
<p>.</p>
<p>.</p>
<p>72</p>
<p>4.62 Read with BswmdModel objects with closure argument</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>73</p>
<p>4.63 Read with BswmdModel object for an MDF model object</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>73</p>
<p>4.64 Read with BswmdModel objects with the untyped model (DefRefAPI)</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>74</p>
<p>4.65 Write with BswmdModel required/optional objects</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>75</p>
<p>4.66 Write with BswmdModel multiple objects</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>76</p>
<p>4.67 Write with BswmdModel - Duplicate a container</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>76</p>
<p>4.68 Write with BswmdModel - Delete elements</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>77</p>
<p>4.69 Read system description starting with an AUTOSAR path in closure .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>78</p>
<p>4.70 Read system description starting with an AUTOSAR path in property style .</p>
<p>.</p>
<p>.</p>
<p>79</p>
<p>4.71 Changing a simple property of an MIVariableDataPrototype .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>79</p>
<p>4.72 Creating non-existing member by navigating into its content with OrCreate()</p>
<p>.</p>
<p>.</p>
<p>79</p>
<p>4.73 Creating new members of child lists with createAndAdd() by type</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>80</p>
<p>4.74 Updating existing members of child lists with byNameOrCreate() by type</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>80</p>
<p>4.75 BswmdModel usage with import</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>81</p>
<p>4.76 Read with BswmdModel the EcuC module configuration .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>82</p>
<p>4.77 Read with BswmdModel the EcuC module configuration with DefRef</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>82</p>
<p>4.78 Write with BswmdModel the EcucGeneral container</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>82</p>
<p>4.79 Usage of the sipDefRef API to retrieve DefRefs in script files</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>83</p>
<p>4.80 Check if a definition exists in the SIP</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>83</p>
<p>4.81 Usage of generated DefRefs form the bswmd model</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>84</p>
<p>4.82 Usage of the untyped BswmdModel with SipDefRefs</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>85</p>
<p>4.83 Switch from a domain model object to the corresponding BswmdModel object .</p>
<p>.</p>
<p>85</p>
<p>4.84 Navigate into an MDF object starting with an AUTOSAR path .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>86</p>
<p>4.85 Find an MDF object and retrieve some content data</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>87</p>
<p>4.86 Navigating deeply into an MDF object with nested closures</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>87</p>
<p>4.87 Ignoring non-existing member closures</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>87</p>
<p>4.88 Get a MIReferrable child object by name</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>88</p>
<p>4.89 Retrieve child from list with byName() .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>88</p>
<p>4.90 Get elements with mdfModel(String) .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>90</p>
<p>4.91 Changing a simple property of an MIVariableDataPrototype .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>91</p>
<p>4.92 Creating non-existing member by navigating into its content with OrCreate()</p>
<p>.</p>
<p>.</p>
<p>91</p>
<p>4.93 Creating child member by navigating into its content with OrCreate() with type</p>
<p>91</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>309 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Listings</b></p>
<p>4.94 Creating new members of child lists with createAndAdd() by type</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>92</p>
<p>4.95 Updating existing members of child lists with byNameOrCreate() by type</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>94</p>
<p>4.96 Delete a parameter instance .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>95</p>
<p>4.97 Check is a model instance is deleted</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>95</p>
<p>4.98 Duplicates a container under the same parent</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>96</p>
<p>4.99 Get the AsrPath of an MIReferrable instance</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>96</p>
<p>4.100Get the AsrObjectLink of an AUTOSAR model instance .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>96</p>
<p>4.101Get the DefRef of an Ecuc model instance .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>96</p>
<p>4.102Set the DefRef of an Ecuc model instance</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>96</p>
<p>4.103Get the CeState of an Ecuc parameter instance .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>97</p>
<p>4.104Retrieve the user-defined flag of an Ecuc parameter in Groovy .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>97</p>
<p>4.105Set an Ecuc parameter instance to user defined .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>97</p>
<p>4.106Get the IEcucDefinition of an Ecuc model instance .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>97</p>
<p>4.107Get the IEcucHasDefinition of an Ecuc model instance .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>98</p>
<p>4.108referencesPointingToMe sample .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>98</p>
<p>4.109systemDescriptionObjectsPointingToMe sample .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>98</p>
<p>4.110Derived Container API access .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>99</p>
<p>4.111Delete a derived container unconditionally .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>99</p>
<p>4.112Get the AUTOSAR root object</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>99</p>
<p>4.113Get the active Ecuc and all module configurations</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>99</p>
<p>4.114Iterate over all module configurations</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>100</p>
<p>4.115Get module configurations by definition</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>100</p>
<p>4.116Get subContainers and parameters by definition</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>100</p>
<p>4.117Check parameter values</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>101</p>
<p>4.118Get integer parameter value .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>102</p>
<p>4.119Get reference parameter value .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>103</p>
<p>4.120Get the FlatExtract and FlatMap paths by the SystemDescription API</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>103</p>
<p>4.121Get FlatExtract instance by the SystemDescription API</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>103</p>
<p>4.122Execute a transaction</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>104</p>
<p>4.123Execute a transaction with a name .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>104</p>
<p>4.124Check if a transaction is running</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>105</p>
<p>4.125Undo a transaction with the transactionHistory .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>105</p>
<p>4.126Redo a transaction with the transactionHistory .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>106</p>
<p>4.127Activation of the ModuleConfiguration Dio</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>106</p>
<p>4.128Model synchronization inside an open project</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>108</p>
<p>4.129Retrieve and use a variant view by name .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>108</p>
<p>4.130The default view is the IPostBuildInvariantValuesView .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>109</p>
<p>4.131Execute code in a model view .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>110</p>
<p>4.132Get a UserAnnotation of a container</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>111</p>
<p>4.133Create a new UserAnnotation .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>112</p>
<p>4.134Create or get the existing UserAnnotation by label name .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>112</p>
<p>4.135Basic structure</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>113</p>
<p>4.136Validate with default project settings .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>114</p>
<p>4.137Generate with standard project settings</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>114</p>
<p>4.138Generate one module .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>114</p>
<p>4.139Generate one module .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>115</p>
<p>4.140Generate two modules</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>115</p>
<p>4.141Generate one module with two configurations</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>116</p>
<p>4.142Execute an external generation step</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>116</p>
<p>4.143Retrieval of the TargetType of a Generation Step .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>117</p>
<p>4.144Evaluate the generation result .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>117</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>310 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Listings</b></p>
<p>4.145Use a script task as generation step during generation</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>118</p>
<p>4.146Use a script task as custom workflow step .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>119</p>
<p>4.147Hook into the GenerationProcess at the start with script task .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>119</p>
<p>4.148Hook into the GenerationProcess at the end with script task</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>119</p>
<p>4.149Basic Swct structure</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>120</p>
<p>4.150SWC Templates and Contract Headers generation with standard project settings</p>
<p>120</p>
<p>4.151SWC Templates and Contract Headers generation of all components</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>121</p>
<p>4.152SWC Templates and Contract Headers generation of one selected component</p>
<p>.</p>
<p>.</p>
<p>121</p>
<p>4.153Swct generation get component and select component</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>121</p>
<p>4.154Swct generation of multiple components</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>122</p>
<p>4.155Access all validation-results and filter them by ID .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>124</p>
<p>4.156Solve a single validation-result with a particular solving-action</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>125</p>
<p>4.157Fast solve multiple results within one transaction .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>126</p>
<p>4.158Solve all validation-results with its preferred solving-action (if available)</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>126</p>
<p>4.159Access all validation-results of a particular object .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>127</p>
<p>4.160Access all validation-results of a particular DefRef</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>128</p>
<p>4.161Filter validation-results using an ID constant</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>128</p>
<p>4.162Fast</p>
<p>solve multiple validation-results within one transaction using a solving-</p>
<p>action-group-ID .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>129</p>
<p>4.163IValidationResultUI overview .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>130</p>
<p>4.164IValidationResultUI in a variant (post build selectable) project</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>130</p>
<p>4.165CE is affected by (matches) an IValidationResultUI .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>131</p>
<p>4.166Advanced use case - Retrieve Erroneous CEs with descriptors of an IValidation-</p>
<p>ResultUI .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>132</p>
<p>4.167Examine an ISolvingActionSummaryResult</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>133</p>
<p>4.168Create a ValidationResult</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>134</p>
<p>4.169Report a ValidationResult when MD license option is available</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>134</p>
<p>4.170Turn off auto solving action execution</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>135</p>
<p>4.171&quot;Update existing project&quot;</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>136</p>
<p>4.172Change list of communication extracts and update</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>137</p>
<p>4.173Accessing IDomainApi as a property .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>139</p>
<p>4.174Accessing IDomainApi in a scope-like way .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>139</p>
<p>4.175Accessing ICommunicationApi as a property .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>139</p>
<p>4.176Accessing ICommunicationApi in a scope-like way</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>140</p>
<p>4.177Optimizing Can Acceptance Filters .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>141</p>
<p>4.178Accessing IDiagnosticsApi as a property .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>143</p>
<p>4.179Accessing IDiagnosticsApi in a scope-like manner</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>143</p>
<p>4.180Create a new UDS DTC with event .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>144</p>
<p>4.181Enable OBD II and create a new OBD related DTC with event .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>144</p>
<p>4.182Enable WWH-OBD and create a new OBD related DTC with event</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>145</p>
<p>4.183Open a project, enable J1939 and create a new J1939 DTC with event</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>145</p>
<p>4.184Accessing IModeManagementApi as a property .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>146</p>
<p>4.185Accessing IModeManagementApi in a scope-like way .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>146</p>
<p>4.186ECU State Handling Auto Configuration .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>147</p>
<p>4.187Inspecting Auto Configuration Elements</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>148</p>
<p>4.188Accessing IRuntimeSystemApi as a property .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>149</p>
<p>4.189Accessing IRuntimeSystemApi in a scope-like way</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>149</p>
<p>4.190Selects all component ports</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>152</p>
<p>4.191Selects all unconnected component ports .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>152</p>
<p>4.192Select all unconnected sender/receiver or connected mode-switch component ports153</p>
<p>4.193Selects not completed component ports</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>153</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>311 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Listings</b></p>
<p>4.194Tries to auto-map all ports</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>154</p>
<p>4.195Tries to auto-map all unconnected component ports</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>154</p>
<p>4.196Tries to auto-map all unconnected sender/receiver and client/server ports</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>154</p>
<p>4.197Tries to auto-map port determined by advanced filter</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>155</p>
<p>4.198Tries to auto map all unconnected ports to the ports of one component prototype 156</p>
<p>4.199Tries to auto-map all unconnected ports and evaluate matches</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>157</p>
<p>4.200Another example for using evaluate matches .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>158</p>
<p>4.201Auto-map a component port and realize 1:n connection by using evaluate matches159</p>
<p>4.202Create mapping between two ports which names do not match.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>160</p>
<p>4.203Example how to create a simple assembly connection .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>161</p>
<p>4.204Example how to create a simple delegation connection .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>161</p>
<p>4.205Create connector with port interface mapping .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>162</p>
<p>4.206Terminate port using the component port selection API</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>163</p>
<p>4.207Remove port terminator using the component port selection API</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>163</p>
<p>4.208Create a port terminator using the simple API</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>164</p>
<p>4.209Remove a port terminator using the simple API .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>164</p>
<p>4.210Select all unmapped signal instances</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>167</p>
<p>4.211Select all unmapped rx or transformed signal instances .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>167</p>
<p>4.212Select signal instances using an advanced filter</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>168</p>
<p>4.213Auto data map all unmapped signal instances .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>168</p>
<p>4.214Auto data map all unmapped signal instances to unmapped communication ele-</p>
<p>ments and evaluate .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>169</p>
<p>4.215Auto data map all signal instances and do not expand nested array elements</p>
<p>.</p>
<p>.</p>
<p>170</p>
<p>4.216Auto data map all signal instances and expand specific nested array element .</p>
<p>.</p>
<p>.</p>
<p>171</p>
<p>4.217Select all unmapped delegation port communication elements</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>173</p>
<p>4.218Select communication elements using an advanced filter</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>173</p>
<p>4.219Auto data map all</p>
<p>unmapped sender/receiver delegation port communication</p>
<p>elements .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>174</p>
<p>4.220Auto data map all</p>
<p>unmapped communication elements to unmapped rx signal</p>
<p>instances and evaluate</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>175</p>
<p>4.221Autodatamap and do not expand nested array elements</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>176</p>
<p>4.222Autodatamap and do expand a specific nested array element</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>177</p>
<p>4.223Create sender receiver to signal mapping .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>179</p>
<p>4.224Create data mapping for delegation port .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>179</p>
<p>4.225Create client server to signal mapping</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>180</p>
<p>4.226Map record to signal group</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>181</p>
<p>4.227Map array to signal group .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>182</p>
<p>4.228Terminate port using the communication element selection API</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>183</p>
<p>4.229Remove port terminator using the communication element selection API .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>184</p>
<p>4.230Select component type by name .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>185</p>
<p>4.231Select not instantiated component types</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>186</p>
<p>4.232Create component prototypes for not instantiated types</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>186</p>
<p>4.233Specify name of created component .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>187</p>
<p>4.234Create more than 1 component prototype</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>187</p>
<p>4.235Switch between MDF and model abstraction example</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>189</p>
<p>4.236Select events example</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>192</p>
<p>4.237Select executable entities example</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>194</p>
<p>4.238Perform task mapping example</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>198</p>
<p>4.239Do not combine runnable and bsw module entity via symbol .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>198</p>
<p>4.240Map all events of a runnable together</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>199</p>
<p>4.241Manually order the task mappings</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>200</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>312 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Listings</b></p>
<p>4.242Order task mappings on OsTask</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>201</p>
<p>4.243Use execution order constraints for the task mapping .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>202</p>
<p>4.244Filter task mappings</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>203</p>
<p>4.245Use the queue option example .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>203</p>
<p>4.246Advanced Filter for Events</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>204</p>
<p>4.247Simple example of ordering the task mappings</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>205</p>
<p>4.248Set the activation offset while mapping to a task</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>206</p>
<p>4.249Set the activation offset using the event selection .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>207</p>
<p>4.250Set the activation offset using the executable entity selection</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>207</p>
<p>4.251Select PortInterface by name and type .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>209</p>
<p>4.252Select PortInterfaces by component ports</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>210</p>
<p>4.253Create delegation port simple .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>211</p>
<p>4.254Create delegation port customized</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>212</p>
<p>4.255Create delegation port with name of other port</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>213</p>
<p>4.256Accessing the model export persistency API .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>216</p>
<p>4.257Export the ActiveEcuc to a file</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>216</p>
<p>4.258Export the ActiveEcuc into a folder</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>216</p>
<p>4.259Export a PostBuild project into files per predefined variant</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>217</p>
<p>4.260Export a PreBuild project into files per predefined variant .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>217</p>
<p>4.261Export the project with an exporter into a folder</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>218</p>
<p>4.262Export the project with an exporter and checks .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>218</p>
<p>4.263Export an AUTOSAR package into a file</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>219</p>
<p>4.264Export an AUTOSAR package into a folder</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>219</p>
<p>4.265Exports two elements and all references elements</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>219</p>
<p>4.266Use exporter arguments like in the commandline</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>220</p>
<p>4.267Accessing the model import persistency API .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>220</p>
<p>4.268Accessing the import module configuration persistency API</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>220</p>
<p>4.269Specify the module configuration import mode and filter .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>221</p>
<p>4.270Java code usage of the IScriptFactory to contribute script tasks .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>225</p>
<p>4.271Accessing WorkflowAPI in Java code .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>226</p>
<p>4.272Java Closure creation sample</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>226</p>
<p>4.273Run all JUnit tests from one class</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>227</p>
<p>4.274Run all JUnit tests using a Suite</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>227</p>
<p>4.275Run unit test with the Spock framework .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>228</p>
<p>4.276Add a UnitTest task with name MyUnitTest</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>228</p>
<p>4.277The projectConfig.gradle file content for unit tests</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>229</p>
<p>5.1</p>
<p>Check object visibility</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>236</p>
<p>5.2</p>
<p>Get all available variants .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>236</p>
<p>5.3</p>
<p>Execute code with variant visibility .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>236</p>
<p>5.4</p>
<p>Get all variants, a specific object is visible in</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>238</p>
<p>5.5</p>
<p>Retrieving an InvariantValues model view .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>240</p>
<p>5.6</p>
<p>Retrieving an InvariantEcucDefView model view .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>241</p>
<p>5.7</p>
<p>Execute code with variant specific changes .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>243</p>
<p>5.8</p>
<p>Sample code to access element in an Untyped model with DefRefs</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>247</p>
<p>5.9</p>
<p>Resolves a Refference traget of an Reference Parameter</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>247</p>
<p>5.10 The value of a GIParameter .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>247</p>
<p>5.11 Java:</p>
<p>Execute code with creation IModelView of BswmdModel object</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>250</p>
<p>5.12 Java:</p>
<p>Execute code with creation IModelView of BswmdModel object via runnable251</p>
<p>5.13 Java:</p>
<p>Execute code with creation IModelView of BswmdModel object</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>251</p>
<p>5.14 Additional write API methods for EcucGeneral</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>253</p>
<p>5.15 EcucCoreDefinition as GICList&lt;EcucCoreDefinition&gt; .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>254</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>313 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Listings</b></p>
<p>5.16 Deleting model objects .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>254</p>
<p>5.17 Duplication of containers</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>255</p>
<p>5.18 Set parameter values with the BswmdModel Write API</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>255</p>
<p>5.19 Set reference targets with the BswmdModel Write API .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>255</p>
<p>5.20 Settings.xml sample for DerivativeMapping</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>256</p>
<p>5.21 DefRef isDefinitionOf methods</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>258</p>
<p>5.22 Creation of DefRef with wildcard from EDefRefWildcard</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>260</p>
<p>5.23 Getting CeState objects using the BSWMD model</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>260</p>
<p>5.24 Integer parameter definition access examples</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>262</p>
<p>5.25 Integer parameter configuration access examples</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>267</p>
<p>7.1</p>
<p>The automationClasses list in projectConfig.gradle</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>281</p>
<p>7.2</p>
<p>The dvCfgInstallation in projectConfig.gradle</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>281</p>
<p>7.3</p>
<p>The dvCfgInstallation with an System env in projectConfig.gradle</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>281</p>
<p>7.4</p>
<p>@CompileStatic with Automation API</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>283</p>
<p>7.5</p>
<p>@TypeChecked with Automation API</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>283</p>
<p>7.6</p>
<p>DaVinci Configurator build Gradle DSL API</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>283</p>
<p>7.7</p>
<p>DaVinci Configurator build Gradle DSL API - useBswmdModel .</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>283</p>
<p>7.8</p>
<p>DaVinci Configurator build Gradle DSL API - useJarSignerDaemon</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>284</p>
<p>7.9</p>
<p>DaVinci Configurator build Gradle DSL API - includeDependenciesIntoJar</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>284</p>
<p>© 2018, Vector Informatik GmbH</p>
<p>314 of 315</p>
<h1 style="page-break-before:always; "></h1>
<p><b>Listings</b></p>
<p><b>Todo list</b></p>
<p>© 2018, Vector Informatik GmbH</p>
<p>315 of 315</p>
</body>
</html>
{% endraw %}